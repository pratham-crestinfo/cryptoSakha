var tV=Object.defineProperty,nV=Object.defineProperties;var iV=Object.getOwnPropertyDescriptors;var AD=Object.getOwnPropertySymbols,rV=Object.getPrototypeOf,sV=Object.prototype.hasOwnProperty,oV=Object.prototype.propertyIsEnumerable,aV=Reflect.get;var MD=(t,e,n)=>e in t?tV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,H=(t,e)=>{for(var n in e||={})sV.call(e,n)&&MD(t,n,e[n]);if(AD)for(var n of AD(e))oV.call(e,n)&&MD(t,n,e[n]);return t},ge=(t,e)=>nV(t,iV(e));var Or=(t,e,n)=>aV(rV(t),n,e);var A=(t,e,n)=>new Promise((i,r)=>{var s=c=>{try{a(n.next(c))}catch(l){r(l)}},o=c=>{try{a(n.throw(c))}catch(l){r(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});function RD(t,e){return Object.is(t,e)}var kt=null,$d=!1,zd=1,Fr=Symbol("SIGNAL");function Ne(t){let e=kt;return kt=t,e}var qd={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Fm(t){if($d)throw new Error("");if(kt===null)return;kt.consumerOnSignalRead(t);let e=kt.nextProducerIndex++;if(Gd(kt),e<kt.producerNode.length&&kt.producerNode[e]!==t&&tl(kt)){let n=kt.producerNode[e];Wd(n,kt.producerIndexOfThis[e])}kt.producerNode[e]!==t&&(kt.producerNode[e]=t,kt.producerIndexOfThis[e]=tl(kt)?FD(t,kt,e):0),kt.producerLastReadVersion[e]=t.version}function cV(){zd++}function kD(t){if(!(tl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===zd)){if(!t.producerMustRecompute(t)&&!jm(t)){t.dirty=!1,t.lastCleanEpoch=zd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=zd}}function PD(t){if(t.liveConsumerNode===void 0)return;let e=$d;$d=!0;try{for(let n of t.liveConsumerNode)n.dirty||lV(n)}finally{$d=e}}function ND(){return kt?.consumerAllowSignalWrites!==!1}function lV(t){t.dirty=!0,PD(t),t.consumerMarkedDirty?.(t)}function Lm(t){return t&&(t.nextProducerIndex=0),Ne(t)}function Vm(t,e){if(Ne(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(tl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Wd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function jm(t){Gd(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(kD(n),i!==n.version))return!0}return!1}function OD(t){if(Gd(t),tl(t))for(let e=0;e<t.producerNode.length;e++)Wd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function FD(t,e,n){if(LD(t),t.liveConsumerNode.length===0&&VD(t))for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=FD(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Wd(t,e){if(LD(t),t.liveConsumerNode.length===1&&VD(t))for(let i=0;i<t.producerNode.length;i++)Wd(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Gd(r),r.producerIndexOfThis[i]=e}}function tl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Gd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function LD(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function VD(t){return t.producerNode!==void 0}function jD(t){let e=Object.create(uV);e.computation=t;let n=()=>{if(kD(e),Fm(e),e.value===Hd)throw e.error;return e.value};return n[Fr]=e,n}var Nm=Symbol("UNSET"),Om=Symbol("COMPUTING"),Hd=Symbol("ERRORED"),uV=ge(H({},qd),{value:Nm,dirty:!0,error:null,equal:RD,producerMustRecompute(t){return t.value===Nm||t.value===Om},producerRecomputeValue(t){if(t.value===Om)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Om;let n=Lm(t),i;try{i=t.computation()}catch(r){i=Hd,t.error=r}finally{Vm(t,n)}if(e!==Nm&&e!==Hd&&i!==Hd&&t.equal(e,i)){t.value=e;return}t.value=i,t.version++}});function dV(){throw new Error}var UD=dV;function BD(){UD()}function $D(t){UD=t}var hV=null;function zD(t){let e=Object.create(qD);e.value=t;let n=()=>(Fm(e),e.value);return n[Fr]=e,n}function Um(t,e){ND()||BD(),t.equal(t.value,e)||(t.value=e,fV(t))}function HD(t,e){ND()||BD(),Um(t,e(t.value))}var qD=ge(H({},qd),{equal:RD,value:void 0});function fV(t){t.version++,cV(),PD(t),hV?.()}function ae(t){return typeof t=="function"}function Qo(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Kd=Qo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Bs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var et=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(ae(i))try{i()}catch(s){e=s instanceof Kd?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{WD(s)}catch(o){e=e??[],o instanceof Kd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Kd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)WD(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Bs(n,e)}remove(e){let{_finalizers:n}=this;n&&Bs(n,e),e instanceof t&&e._removeParent(this)}};et.EMPTY=(()=>{let t=new et;return t.closed=!0,t})();var Bm=et.EMPTY;function Yd(t){return t instanceof et||t&&"closed"in t&&ae(t.remove)&&ae(t.add)&&ae(t.unsubscribe)}function WD(t){ae(t)?t():t.unsubscribe()}var Zn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xo={setTimeout(t,e,...n){let{delegate:i}=Xo;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Xo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Qd(t){Xo.setTimeout(()=>{let{onUnhandledError:e}=Zn;if(e)e(t);else throw t})}function $s(){}var GD=$m("C",void 0,void 0);function KD(t){return $m("E",void 0,t)}function YD(t){return $m("N",t,void 0)}function $m(t,e,n){return{kind:t,value:e,error:n}}var zs=null;function Zo(t){if(Zn.useDeprecatedSynchronousErrorHandling){let e=!zs;if(e&&(zs={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=zs;if(zs=null,n)throw i}}else t()}function QD(t){Zn.useDeprecatedSynchronousErrorHandling&&zs&&(zs.errorThrown=!0,zs.error=t)}var Hs=class extends et{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Yd(e)&&e.add(this)):this.destination=mV}static create(e,n,i){return new Gi(e,n,i)}next(e){this.isStopped?Hm(YD(e),this):this._next(e)}error(e){this.isStopped?Hm(KD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hm(GD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},pV=Function.prototype.bind;function zm(t,e){return pV.call(t,e)}var qm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Xd(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Xd(i)}else Xd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Xd(n)}}},Gi=class extends Hs{constructor(e,n,i){super();let r;if(ae(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&Zn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&zm(e.next,s),error:e.error&&zm(e.error,s),complete:e.complete&&zm(e.complete,s)}):r=e}this.destination=new qm(r)}};function Xd(t){Zn.useDeprecatedSynchronousErrorHandling?QD(t):Qd(t)}function gV(t){throw t}function Hm(t,e){let{onStoppedNotification:n}=Zn;n&&Xo.setTimeout(()=>n(t,e))}var mV={closed:!0,next:$s,error:gV,complete:$s};var Jo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ut(t){return t}function Wm(...t){return Gm(t)}function Gm(t){return t.length===0?Ut:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var ce=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let s=vV(n)?n:new Gi(n,i,r);return Zo(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=XD(i),new i((r,s)=>{let o=new Gi({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Jo](){return this}pipe(...n){return Gm(n)(this)}toPromise(n){return n=XD(n),new n((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=e=>new t(e),t})();function XD(t){var e;return(e=t??Zn.Promise)!==null&&e!==void 0?e:Promise}function yV(t){return t&&ae(t.next)&&ae(t.error)&&ae(t.complete)}function vV(t){return t&&t instanceof Hs||yV(t)&&Yd(t)}function Km(t){return ae(t?.lift)}function he(t){return e=>{if(Km(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function le(t,e,n,i,r){return new Ym(t,e,n,i,r)}var Ym=class extends Hs{constructor(e,n,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ea(){return he((t,e)=>{let n=null;t._refCount++;let i=le(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var ta=class extends ce{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Km(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new et;let n=this.getSubject();e.add(this.source.subscribe(le(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=et.EMPTY)}return e}refCount(){return ea()(this)}};var ZD=Qo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var tt=(()=>{class t extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Zd(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new ZD}next(n){Zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:s}=this;return i||r?Bm:(this.currentObservers=null,s.push(n),new et(()=>{this.currentObservers=null,Bs(s,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){let n=new ce;return n.source=this,n}}return t.create=(e,n)=>new Zd(e,n),t})(),Zd=class extends tt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:Bm}};var We=class extends tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Qm={now(){return(Qm.delegate||Date).now()},delegate:void 0};var Jd=class extends et{constructor(e,n){super()}schedule(e,n=0){return this}};var nl={setInterval(t,e,...n){let{delegate:i}=nl;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=nl;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var na=class extends Jd{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return nl.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&nl.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Bs(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ia=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};ia.now=Qm.now;var ra=class extends ia{constructor(e,n=ia.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var il=new ra(na);var eh=class extends na{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var th=class extends ra{};var rl=new th(eh);var Tn=new ce(t=>t.complete());function JD(t){return t&&ae(t.schedule)}function eT(t){return t[t.length-1]}function sa(t){return ae(eT(t))?t.pop():void 0}function Lr(t){return JD(eT(t))?t.pop():void 0}function Xm(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function nT(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{l(i.next(d))}catch(h){o(h)}}function c(d){try{l(i.throw(d))}catch(h){o(h)}}function l(d){d.done?s(d.value):r(d.value).then(a,c)}l((i=i.apply(t,e||[])).next())})}function tT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qs(t){return this instanceof qs?(this.v=t,this):new qs(t)}function iT(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r={},a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(g){return function(y){return Promise.resolve(y).then(g,h)}}function a(g,y){i[g]&&(r[g]=function(_){return new Promise(function(v,C){s.push([g,_,v,C])>1||c(g,_)})},y&&(r[g]=y(r[g])))}function c(g,y){try{l(i[g](y))}catch(_){f(s[0][3],_)}}function l(g){g.value instanceof qs?Promise.resolve(g.value.v).then(d,h):f(s[0][2],g)}function d(g){c("next",g)}function h(g){c("throw",g)}function f(g,y){g(y),s.shift(),s.length&&c(s[0][0],s[0][1])}}function rT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof tT=="function"?tT(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),r(a,c,o.done,o.value)})}}function r(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var nh=t=>t&&typeof t.length=="number"&&typeof t!="function";function ih(t){return ae(t?.then)}function rh(t){return ae(t[Jo])}function sh(t){return Symbol.asyncIterator&&ae(t?.[Symbol.asyncIterator])}function oh(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function _V(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ah=_V();function ch(t){return ae(t?.[ah])}function lh(t){return iT(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield qs(n.read());if(r)return yield qs(void 0);yield yield qs(i)}}finally{n.releaseLock()}})}function uh(t){return ae(t?.getReader)}function Je(t){if(t instanceof ce)return t;if(t!=null){if(rh(t))return bV(t);if(nh(t))return wV(t);if(ih(t))return IV(t);if(sh(t))return sT(t);if(ch(t))return EV(t);if(uh(t))return CV(t)}throw oh(t)}function bV(t){return new ce(e=>{let n=t[Jo]();if(ae(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function wV(t){return new ce(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function IV(t){return new ce(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Qd)})}function EV(t){return new ce(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function sT(t){return new ce(e=>{DV(t,e).catch(n=>e.error(n))})}function CV(t){return sT(lh(t))}function DV(t,e){var n,i,r,s;return nT(this,void 0,void 0,function*(){try{for(n=rT(t);i=yield n.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}e.complete()})}function hn(t,e,n,i=0,r=!1){let s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function hi(t,e=0){return he((n,i)=>{n.subscribe(le(i,r=>hn(i,t,()=>i.next(r),e),()=>hn(i,t,()=>i.complete(),e),r=>hn(i,t,()=>i.error(r),e)))})}function Vr(t,e=0){return he((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function oT(t,e){return Je(t).pipe(Vr(e),hi(e))}function aT(t,e){return Je(t).pipe(Vr(e),hi(e))}function cT(t,e){return new ce(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function lT(t,e){return new ce(n=>{let i;return hn(n,e,()=>{i=t[ah](),hn(n,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){n.error(o);return}s?n.complete():n.next(r)},0,!0)}),()=>ae(i?.return)&&i.return()})}function dh(t,e){if(!t)throw new Error("Iterable cannot be null");return new ce(n=>{hn(n,e,()=>{let i=t[Symbol.asyncIterator]();hn(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function uT(t,e){return dh(lh(t),e)}function dT(t,e){if(t!=null){if(rh(t))return oT(t,e);if(nh(t))return cT(t,e);if(ih(t))return aT(t,e);if(sh(t))return dh(t,e);if(ch(t))return lT(t,e);if(uh(t))return uT(t,e)}throw oh(t)}function Ge(t,e){return e?dT(t,e):Je(t)}function Z(...t){let e=Lr(t);return Ge(t,e)}function jr(t,e){let n=ae(t)?t:()=>t,i=r=>r.error(n());return new ce(e?r=>e.schedule(i,0,r):i)}function Zm(t){return!!t&&(t instanceof ce||ae(t.lift)&&ae(t.subscribe))}var Ki=Qo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(t,e){return he((n,i)=>{let r=0;n.subscribe(le(i,s=>{i.next(t.call(e,s,r++))}))})}var{isArray:TV}=Array;function xV(t,e){return TV(e)?t(...e):t(e)}function hh(t){return ee(e=>xV(t,e))}var{isArray:SV}=Array,{getPrototypeOf:AV,prototype:MV,keys:RV}=Object;function fh(t){if(t.length===1){let e=t[0];if(SV(e))return{args:e,keys:null};if(kV(e)){let n=RV(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function kV(t){return t&&typeof t=="object"&&AV(t)===MV}function ph(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function Ws(...t){let e=Lr(t),n=sa(t),{args:i,keys:r}=fh(t);if(i.length===0)return Ge([],e);let s=new ce(PV(i,e,r?o=>ph(r,o):Ut));return n?s.pipe(hh(n)):s}function PV(t,e,n=Ut){return i=>{hT(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let c=0;c<r;c++)hT(e,()=>{let l=Ge(t[c],e),d=!1;l.subscribe(le(i,h=>{s[c]=h,d||(d=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function hT(t,e,n){t?hn(n,t,e):e()}function fT(t,e,n,i,r,s,o,a){let c=[],l=0,d=0,h=!1,f=()=>{h&&!c.length&&!l&&e.complete()},g=_=>l<i?y(_):c.push(_),y=_=>{s&&e.next(_),l++;let v=!1;Je(n(_,d++)).subscribe(le(e,C=>{r?.(C),s?g(C):e.next(C)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<i;){let C=c.shift();o?hn(e,o,()=>y(C)):y(C)}f()}catch(C){e.error(C)}}))};return t.subscribe(le(e,g,()=>{h=!0,f()})),()=>{a?.()}}function _t(t,e,n=1/0){return ae(e)?_t((i,r)=>ee((s,o)=>e(i,s,r,o))(Je(t(i,r))),n):(typeof e=="number"&&(n=e),he((i,r)=>fT(i,r,t,n)))}function Ur(t=1/0){return _t(Ut,t)}function pT(){return Ur(1)}function Br(...t){return pT()(Ge(t,Lr(t)))}function gh(t){return new ce(e=>{Je(t()).subscribe(e)})}function sl(...t){let e=sa(t),{args:n,keys:i}=fh(t),r=new ce(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let d=0;d<o;d++){let h=!1;Je(n[d]).subscribe(le(s,f=>{h||(h=!0,l--),a[d]=f},()=>c--,void 0,()=>{(!c||!h)&&(l||s.next(i?ph(i,a):a),s.complete())}))}});return e?r.pipe(hh(e)):r}function Yt(t,e){return he((n,i)=>{let r=0;n.subscribe(le(i,s=>t.call(e,s,r++)&&i.next(s)))})}function fi(t){return he((e,n)=>{let i=null,r=!1,s;i=e.subscribe(le(n,void 0,void 0,o=>{s=Je(t(o,fi(t)(e))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function gT(t,e,n,i,r){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(le(o,d=>{let h=l++;c=a?t(c,d,h):(a=!0,d),i&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}function Yi(t,e){return ae(e)?_t(t,e,1):_t(t,1)}function Jm(t,e=il){return he((n,i)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let l=s;s=null,i.next(l)}};function c(){let l=o+t,d=e.now();if(d<l){r=this.schedule(void 0,l-d),i.add(r);return}a()}n.subscribe(le(i,l=>{s=l,o=e.now(),r||(r=e.schedule(c,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function $r(t){return he((e,n)=>{let i=!1;e.subscribe(le(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function xn(t){return t<=0?()=>Tn:he((e,n)=>{let i=0;e.subscribe(le(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function ey(t){return ee(()=>t)}function ty(t,e=Ut){return t=t??NV,he((n,i)=>{let r,s=!0;n.subscribe(le(i,o=>{let a=e(o);(s||!t(r,a))&&(s=!1,r=a,i.next(o))}))})}function NV(t,e){return t===e}function mh(t=OV){return he((e,n)=>{let i=!1;e.subscribe(le(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function OV(){return new Ki}function Qi(t){return he((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function pi(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Yt((r,s)=>t(r,s,i)):Ut,xn(1),n?$r(e):mh(()=>new Ki))}function oa(t){return t<=0?()=>Tn:he((e,n)=>{let i=[];e.subscribe(le(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function ny(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Yt((r,s)=>t(r,s,i)):Ut,oa(1),n?$r(e):mh(()=>new Ki))}function iy(...t){let e=t.length;if(e===0)throw new Error("list of properties cannot be empty.");return ee(n=>{let i=n;for(let r=0;r<e;r++){let s=i?.[t[r]];if(typeof s<"u")i=s;else return}return i})}function ol(t,e){return he(gT(t,e,arguments.length>=2,!0))}function sy(t={}){let{connector:e=()=>new tt,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return s=>{let o,a,c,l=0,d=!1,h=!1,f=()=>{a?.unsubscribe(),a=void 0},g=()=>{f(),o=c=void 0,d=h=!1},y=()=>{let _=o;g(),_?.unsubscribe()};return he((_,v)=>{l++,!h&&!d&&f();let C=c=c??e();v.add(()=>{l--,l===0&&!h&&!d&&(a=ry(y,r))}),C.subscribe(v),!o&&l>0&&(o=new Gi({next:S=>C.next(S),error:S=>{h=!0,f(),a=ry(g,n,S),C.error(S)},complete:()=>{d=!0,f(),a=ry(g,i),C.complete()}}),Je(_).subscribe(o))})(s)}}function ry(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new Gi({next:()=>{i.unsubscribe(),t()}});return Je(e(...n)).subscribe(i)}function oy(t){return Yt((e,n)=>t<=n)}function al(...t){let e=Lr(t);return he((n,i)=>{(e?Br(t,n,e):Br(t,n)).subscribe(i)})}function fn(t,e){return he((n,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();n.subscribe(le(i,c=>{r?.unsubscribe();let l=0,d=s++;Je(t(c,d)).subscribe(r=le(i,h=>i.next(e?e(c,h,d,l++):h),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function cl(t){return he((e,n)=>{Je(t).subscribe(le(n,()=>n.complete(),$s)),!n.closed&&e.subscribe(n)})}function nt(t,e,n){let i=ae(t)||e||n?{next:t,error:e,complete:n}:t;return i?he((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(le(s,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),s.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),s.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),s.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Ut}function ay(...t){let e=sa(t);return he((n,i)=>{let r=t.length,s=new Array(r),o=t.map(()=>!1),a=!1;for(let c=0;c<r;c++)Je(t[c]).subscribe(le(i,l=>{s[c]=l,!a&&!o[c]&&(o[c]=!0,(a=o.every(Ut))&&(o=null))},$s));n.subscribe(le(i,c=>{if(a){let l=[c,...s];i.next(e?e(...l):l)}}))})}var ix="https://g.co/ng/security#xss",Q=class extends Error{constructor(e,n){super(Qh(e,n)),this.code=e}};function Qh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function _l(t){return{toString:t}.toString()}var yh="__parameters__";function FV(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function Rv(t,e,n){return _l(()=>{let i=FV(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(c,l,d){let h=c.hasOwnProperty(yh)?c[yh]:Object.defineProperty(c,yh,{value:[]})[yh];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(o),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Ys=globalThis;function ze(t){for(let e in t)if(t[e]===ze)return e;throw Error("Could not find renamed property on target object.")}function LV(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function cn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(cn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Ey(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var VV=ze({__forward_ref__:ze});function oo(t){return t.__forward_ref__=oo,t.toString=function(){return cn(this())},t}function an(t){return rx(t)?t():t}function rx(t){return typeof t=="function"&&t.hasOwnProperty(VV)&&t.__forward_ref__===oo}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Dt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Xh(t){return mT(t,ox)||mT(t,ax)}function sx(t){return Xh(t)!==null}function mT(t,e){return t.hasOwnProperty(e)?t[e]:null}function jV(t){let e=t&&(t[ox]||t[ax]);return e||null}function yT(t){return t&&(t.hasOwnProperty(vT)||t.hasOwnProperty(UV))?t[vT]:null}var ox=ze({\u0275prov:ze}),vT=ze({\u0275inj:ze}),ax=ze({ngInjectableDef:ze}),UV=ze({ngInjectorDef:ze}),q=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function cx(t){return t&&!!t.\u0275providers}var BV=ze({\u0275cmp:ze}),$V=ze({\u0275dir:ze}),zV=ze({\u0275pipe:ze}),HV=ze({\u0275mod:ze}),Ah=ze({\u0275fac:ze}),ll=ze({__NG_ELEMENT_ID__:ze}),_T=ze({__NG_ENV_ID__:ze});function fa(t){return typeof t=="string"?t:t==null?"":String(t)}function qV(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():fa(t)}function WV(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Q(-200,t)}function kv(t,e){throw new Q(-201,!1)}var ye=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ye||{}),Cy;function lx(){return Cy}function Fn(t){let e=Cy;return Cy=t,e}function ux(t,e,n){let i=Xh(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&ye.Optional)return null;if(e!==void 0)return e;kv(t,"Injector")}var GV={},ul=GV,Dy="__NG_DI_FLAG__",Mh="ngTempTokenPath",KV="ngTokenPath",YV=/\n/gm,QV="\u0275",bT="__source",da;function XV(){return da}function zr(t){let e=da;return da=t,e}function ZV(t,e=ye.Default){if(da===void 0)throw new Q(-203,!1);return da===null?ux(t,void 0,e):da.get(t,e&ye.Optional?null:void 0,e)}function $(t,e=ye.Default){return(lx()||ZV)(an(t),e)}function j(t,e=ye.Default){return $(t,Zh(e))}function Zh(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ty(t){let e=[];for(let n=0;n<t.length;n++){let i=an(t[n]);if(Array.isArray(i)){if(i.length===0)throw new Q(900,!1);let r,s=ye.Default;for(let o=0;o<i.length;o++){let a=i[o],c=JV(a);typeof c=="number"?c===-1?r=a.token:s|=c:r=a}e.push($(r,s))}else e.push($(i))}return e}function Pv(t,e){return t[Dy]=e,t.prototype[Dy]=e,t}function JV(t){return t[Dy]}function e2(t,e,n,i){let r=t[Mh];throw e[bT]&&r.unshift(e[bT]),t.message=t2(`
`+t.message,r,n,i),t[KV]=r,t[Mh]=null,t}function t2(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==QV?t.slice(2):t;let r=cn(e);if(Array.isArray(e))r=e.map(cn).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):cn(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(YV,`
  `)}`}var dx=Pv(Rv("Inject",t=>({token:t})),-1),mn=Pv(Rv("Optional"),8);var bl=Pv(Rv("SkipSelf"),4);function pa(t,e){let n=t.hasOwnProperty(Ah);return n?t[Ah]:null}function n2(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}function i2(t){return t.flat(Number.POSITIVE_INFINITY)}function Nv(t,e){t.forEach(n=>Array.isArray(n)?Nv(n,e):e(n))}function hx(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Rh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function r2(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function s2(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let s=r-2;t[r]=t[s],r--}t[e]=n,t[e+1]=i}}function Ov(t,e,n){let i=wl(t,e);return i>=0?t[i|1]=n:(i=~i,s2(t,i,e,n)),i}function cy(t,e){let n=wl(t,e);if(n>=0)return t[n|1]}function wl(t,e){return o2(t,e,1)}function o2(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let s=i+(r-i>>1),o=t[s<<n];if(e===o)return s<<n;o>e?r=s:i=s+1}return~(r<<n)}var ga={},pn=[],Wr=new q(""),fx=new q("",-1),px=new q(""),kh=class{get(e,n=ul){if(n===ul){let i=new Error(`NullInjectorError: No provider for ${cn(e)}!`);throw i.name="NullInjectorError",i}return n}},gx=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(gx||{}),yi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(yi||{}),ma=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ma||{});function a2(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}n=r+1}}function xy(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let s=n[i++],o=n[i++],a=n[i++];t.setAttribute(e,o,a,s)}else{let s=r,o=n[++i];c2(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),i++}}return i}function mx(t){return t===3||t===4||t===6}function c2(t){return t.charCodeAt(0)===64}function dl(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?wT(t,n,r,null,e[++i]):wT(t,n,r,null,null))}}return t}function wT(t,e,n,i,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[s+1]=r);return}else if(i===t[s+1]){t[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i),r!==null&&t.splice(s++,0,r)}var yx="ng-template";function l2(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&a2(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Fv(t))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Fv(t){return t.type===4&&t.value!==yx}function u2(t,e,n){let i=t.type===4&&!n?yx:t.value;return e===i}function d2(t,e,n){let i=4,r=t.attrs,s=r!==null?p2(r):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Jn(i)&&!Jn(c))return!1;if(o&&Jn(c))continue;o=!1,i=c|i&1;continue}if(!o)if(i&4){if(i=2|i&1,c!==""&&!u2(t,c,n)||c===""&&e.length===1){if(Jn(i))return!1;o=!0}}else if(i&8){if(r===null||!l2(t,r,c,n)){if(Jn(i))return!1;o=!0}}else{let l=e[++a],d=h2(c,r,Fv(t),n);if(d===-1){if(Jn(i))return!1;o=!0;continue}if(l!==""){let h;if(d>s?h="":h=r[d+1].toLowerCase(),i&2&&l!==h){if(Jn(i))return!1;o=!0}}}}return Jn(i)||o}function Jn(t){return(t&1)===0}function h2(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return g2(e,t)}function vx(t,e,n=!1){for(let i=0;i<e.length;i++)if(d2(t,e[i],n))return!0;return!1}function f2(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function p2(t){for(let e=0;e<t.length;e++){let n=t[e];if(mx(n))return e}return t.length}function g2(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function m2(t,e){e:for(let n=0;n<e.length;n++){let i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function IT(t,e){return t?":not("+e.trim()+")":e}function y2(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(i&2){let a=t[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!Jn(o)&&(e+=IT(s,r),r=""),i=o,s=s||!Jn(i);n++}return r!==""&&(e+=IT(s,r)),e}function v2(t){return t.map(y2).join(",")}function _2(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let s=t[i];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++i]):r===8&&n.push(s);else{if(!Jn(r))break;r=s}i++}return{attrs:e,classes:n}}function _e(t){return _l(()=>{let e=Ex(t),n=ge(H({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===gx.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||yi.Emulated,styles:t.styles||pn,_:null,schemas:t.schemas||null,tView:null,id:""});Cx(n);let i=t.dependencies;return n.directiveDefs=CT(i,!1),n.pipeDefs=CT(i,!0),n.id=I2(n),n})}function b2(t){return Gr(t)||_x(t)}function w2(t){return t!==null}function Tt(t){return _l(()=>({type:t.type,bootstrap:t.bootstrap||pn,declarations:t.declarations||pn,imports:t.imports||pn,exports:t.exports||pn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ET(t,e){if(t==null)return ga;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],s,o,a=ma.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(n[s]=a!==ma.None?[i,a]:i,e[s]=o):n[s]=i}return n}function ct(t){return _l(()=>{let e=Ex(t);return Cx(e),e})}function Gr(t){return t[BV]||null}function _x(t){return t[$V]||null}function bx(t){return t[zV]||null}function wx(t){let e=Gr(t)||_x(t)||bx(t);return e!==null?e.standalone:!1}function Ix(t,e){let n=t[HV]||null;if(!n&&e===!0)throw new Error(`Type ${cn(t)} does not have '\u0275mod' property.`);return n}function Ex(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ga,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||pn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ET(t.inputs,e),outputs:ET(t.outputs),debugInfo:null}}function Cx(t){t.features?.forEach(e=>e(t))}function CT(t,e){if(!t)return null;let n=e?bx:b2;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(w2)}function I2(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ri(t){return{\u0275providers:t}}function E2(...t){return{\u0275providers:Dx(!0,t),\u0275fromNgModule:!0}}function Dx(t,...e){let n=[],i=new Set,r,s=o=>{n.push(o)};return Nv(e,o=>{let a=o;Sy(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&Tx(r,s),n}function Tx(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];Lv(r,s=>{e(s,i)})}}function Sy(t,e,n,i){if(t=an(t),!t)return!1;let r=null,s=yT(t),o=!s&&Gr(t);if(!s&&!o){let c=t.ngModule;if(s=yT(c),s)r=c;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)Sy(l,e,n,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let l;try{Nv(s.imports,d=>{Sy(d,e,n,i)&&(l||=[],l.push(d))})}finally{}l!==void 0&&Tx(l,e)}if(!a){let l=pa(r)||(()=>new r);e({provide:r,useFactory:l,deps:pn},r),e({provide:px,useValue:r,multi:!0},r),e({provide:Wr,useValue:()=>$(r),multi:!0},r)}let c=s.providers;if(c!=null&&!a){let l=t;Lv(c,d=>{e(d,l)})}}else return!1;return r!==t&&t.providers!==void 0}function Lv(t,e){for(let n of t)cx(n)&&(n=n.\u0275providers),Array.isArray(n)?Lv(n,e):e(n)}var C2=ze({provide:String,useValue:ze});function xx(t){return t!==null&&typeof t=="object"&&C2 in t}function D2(t){return!!(t&&t.useExisting)}function T2(t){return!!(t&&t.useFactory)}function ya(t){return typeof t=="function"}function x2(t){return!!t.useClass}var Jh=new q(""),Eh={},S2={},ly;function Vv(){return ly===void 0&&(ly=new kh),ly}var Qt=class{},hl=class extends Qt{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,My(e,o=>this.processProvider(o)),this.records.set(fx,aa(void 0,this)),r.has("environment")&&this.records.set(Qt,aa(void 0,this));let s=this.records.get(Jh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(px,pn,ye.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ne(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ne(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=zr(this),i=Fn(void 0),r;try{return e()}finally{zr(n),Fn(i)}}get(e,n=ul,i=ye.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(_T))return e[_T](this);i=Zh(i);let r,s=zr(this),o=Fn(void 0);try{if(!(i&ye.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=P2(e)&&Xh(e);l&&this.injectableDefInScope(l)?c=aa(Ay(e),Eh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&ye.Self?Vv():this.parent;return n=i&ye.Optional&&n===ul?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Mh]=a[Mh]||[]).unshift(cn(e)),s)throw a;return e2(a,e,"R3InjectorError",this.source)}else throw a}finally{Fn(o),zr(s)}}resolveInjectorInitializers(){let e=Ne(null),n=zr(this),i=Fn(void 0),r;try{let s=this.get(Wr,pn,ye.Self);for(let o of s)o()}finally{zr(n),Fn(i),Ne(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(cn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){e=an(e);let n=ya(e)?e:an(e&&e.provide),i=M2(e);if(!ya(e)&&e.multi===!0){let r=this.records.get(n);r||(r=aa(void 0,Eh,!0),r.factory=()=>Ty(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=Ne(null);try{return n.value===Eh&&(n.value=S2,n.value=n.factory()),typeof n.value=="object"&&n.value&&k2(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ne(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=an(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ay(t){let e=Xh(t),n=e!==null?e.factory:pa(t);if(n!==null)return n;if(t instanceof q)throw new Q(204,!1);if(t instanceof Function)return A2(t);throw new Q(204,!1)}function A2(t){if(t.length>0)throw new Q(204,!1);let n=jV(t);return n!==null?()=>n.factory(t):()=>new t}function M2(t){if(xx(t))return aa(void 0,t.useValue);{let e=Sx(t);return aa(e,Eh)}}function Sx(t,e,n){let i;if(ya(t)){let r=an(t);return pa(r)||Ay(r)}else if(xx(t))i=()=>an(t.useValue);else if(T2(t))i=()=>t.useFactory(...Ty(t.deps||[]));else if(D2(t))i=()=>$(an(t.useExisting));else{let r=an(t&&(t.useClass||t.provide));if(R2(t))i=()=>new r(...Ty(t.deps));else return pa(r)||Ay(r)}return i}function aa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function R2(t){return!!t.deps}function k2(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function P2(t){return typeof t=="function"||typeof t=="object"&&t instanceof q}function My(t,e){for(let n of t)Array.isArray(n)?My(n,e):n&&cx(n)?My(n.\u0275providers,e):e(n)}function An(t,e){t instanceof hl&&t.assertNotDestroyed();let n,i=zr(t),r=Fn(void 0);try{return e()}finally{zr(i),Fn(r)}}function Ax(){return lx()!==void 0||XV()!=null}function jv(t){if(!Ax())throw new Q(-203,!1)}function N2(t){return typeof t=="function"}var Ji=0,ve=1,se=2,Xt=3,ti=4,yn=5,fl=6,Ph=7,ni=8,va=9,vi=10,bt=11,pl=12,DT=13,Da=14,Ln=15,Qs=16,ca=17,Xi=18,ef=19,Mx=20,Hr=21,uy=22,Xs=23,ii=25,Rx=1;var Zs=7,Nh=8,_a=9,Sn=10,Oh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Oh||{});function qr(t){return Array.isArray(t)&&typeof t[Rx]=="object"}function er(t){return Array.isArray(t)&&t[Rx]===!0}function kx(t){return(t.flags&4)!==0}function tf(t){return t.componentOffset>-1}function Uv(t){return(t.flags&1)===1}function Kr(t){return!!t.template}function Ry(t){return(t[se]&512)!==0}var ky=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function Px(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function Ii(){return Nx}function Nx(t){return t.type.prototype.ngOnChanges&&(t.setInput=F2),O2}Ii.ngInherit=!0;function O2(){let t=Fx(this),e=t?.current;if(e){let n=t.previous;if(n===ga)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function F2(t,e,n,i,r){let s=this.declaredInputs[i],o=Fx(t)||L2(t,{previous:ga,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new ky(l&&l.currentValue,n,c===ga),Px(t,e,r,n)}var Ox="__ngSimpleChanges__";function Fx(t){return t[Ox]||null}function L2(t,e){return t[Ox]=e}var TT=null;var gi=function(t,e,n){TT?.(t,e,n)},V2="svg",j2="math";function _i(t){for(;Array.isArray(t);)t=t[Ji];return t}function Lx(t,e){return _i(e[t])}function Vn(t,e){return _i(e[t.index])}function Vx(t,e){return t.data[e]}function U2(t,e){return t[e]}function Xr(t,e){let n=e[t];return qr(n)?n:n[Ji]}function B2(t){return(t[se]&4)===4}function Bv(t){return(t[se]&128)===128}function $2(t){return er(t[Xt])}function Fh(t,e){return e==null?null:t[e]}function jx(t){t[ca]=0}function z2(t){t[se]&1024||(t[se]|=1024,Bv(t)&&nf(t))}function H2(t,e){for(;t>0;)e=e[Da],t--;return e}function gl(t){return!!(t[se]&9216||t[Xs]?.dirty)}function Py(t){t[vi].changeDetectionScheduler?.notify(7),t[se]&64&&(t[se]|=1024),gl(t)&&nf(t)}function nf(t){t[vi].changeDetectionScheduler?.notify(0);let e=ml(t);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!Bv(e)));)e=ml(e)}function Ux(t,e){if((t[se]&256)===256)throw new Q(911,!1);t[Hr]===null&&(t[Hr]=[]),t[Hr].push(e)}function q2(t,e){if(t[Hr]===null)return;let n=t[Hr].indexOf(e);n!==-1&&t[Hr].splice(n,1)}function ml(t){let e=t[Xt];return er(e)?e[Xt]:e}var me={lFrame:Zx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Bx=!1;function W2(){return me.lFrame.elementDepthCount}function G2(){me.lFrame.elementDepthCount++}function K2(){me.lFrame.elementDepthCount--}function $x(){return me.bindingsEnabled}function zx(){return me.skipHydrationRootTNode!==null}function Y2(t){return me.skipHydrationRootTNode===t}function Q2(){me.skipHydrationRootTNode=null}function Se(){return me.lFrame.lView}function $t(){return me.lFrame.tView}function rt(t){return me.lFrame.contextLView=t,t[ni]}function st(t){return me.lFrame.contextLView=null,t}function ln(){let t=Hx();for(;t!==null&&t.type===64;)t=t.parent;return t}function Hx(){return me.lFrame.currentTNode}function X2(){let t=me.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Il(t,e){let n=me.lFrame;n.currentTNode=t,n.isParent=e}function qx(){return me.lFrame.isParent}function Wx(){me.lFrame.isParent=!1}function Z2(){return me.lFrame.contextLView}function Gx(){return Bx}function xT(t){Bx=t}function Kx(){let t=me.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function J2(){return me.lFrame.bindingIndex}function ej(t){return me.lFrame.bindingIndex=t}function $v(){return me.lFrame.bindingIndex++}function zv(t){let e=me.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function tj(){return me.lFrame.inI18n}function nj(t,e){let n=me.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ny(e)}function ij(){return me.lFrame.currentDirectiveIndex}function Ny(t){me.lFrame.currentDirectiveIndex=t}function rj(t){let e=me.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Yx(){return me.lFrame.currentQueryIndex}function Hv(t){me.lFrame.currentQueryIndex=t}function sj(t){let e=t[ve];return e.type===2?e.declTNode:e.type===1?t[yn]:null}function Qx(t,e,n){if(n&ye.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(n&ye.Host);)if(r=sj(s),r===null||(s=s[Da],r.type&10))break;if(r===null)return!1;e=r,t=s}let i=me.lFrame=Xx();return i.currentTNode=e,i.lView=t,!0}function qv(t){let e=Xx(),n=t[ve];me.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Xx(){let t=me.lFrame,e=t===null?null:t.child;return e===null?Zx(t):e}function Zx(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Jx(){let t=me.lFrame;return me.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var eS=Jx;function Wv(){let t=Jx();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function oj(t){return(me.lFrame.contextLView=H2(t,me.lFrame.contextLView))[ni]}function Zr(){return me.lFrame.selectedIndex}function Js(t){me.lFrame.selectedIndex=t}function Gv(){let t=me.lFrame;return Vx(t.tView,t.selectedIndex)}function aj(){return me.lFrame.currentNamespace}var tS=!0;function Kv(){return tS}function Yv(t){tS=t}function cj(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=Nx(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}r&&(n.preOrderHooks??=[]).push(0-t,r),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Qv(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function Ch(t,e,n){nS(t,e,3,n)}function Dh(t,e,n,i){(t[se]&3)===n&&nS(t,e,n,i)}function dy(t,e){let n=t[se];(n&3)===e&&(n&=16383,n+=1,t[se]=n)}function nS(t,e,n,i){let r=i!==void 0?t[ca]&65535:0,s=i??-1,o=e.length-1,a=0;for(let c=r;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[ca]+=65536),(a<s||s==-1)&&(lj(t,n,e,c),t[ca]=(t[ca]&4294901760)+c+2),c++}function ST(t,e){gi(4,t,e);let n=Ne(null);try{e.call(t)}finally{Ne(n),gi(5,t,e)}}function lj(t,e,n,i){let r=n[i]<0,s=n[i+1],o=r?-n[i]:n[i],a=t[o];r?t[se]>>14<t[ca]>>16&&(t[se]&3)===e&&(t[se]+=16384,ST(a,s)):ST(a,s)}var ha=-1,eo=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function uj(t){return t instanceof eo}function dj(t){return(t.flags&8)!==0}function hj(t){return(t.flags&16)!==0}function iS(t){return t!==ha}function Lh(t){return t&32767}function fj(t){return t>>16}function Vh(t,e){let n=fj(t),i=e;for(;n>0;)i=i[Da],n--;return i}var Oy=!0;function AT(t){let e=Oy;return Oy=t,e}var pj=256,rS=pj-1,sS=5,gj=0,mi={};function mj(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(ll)&&(i=n[ll]),i==null&&(i=n[ll]=gj++);let r=i&rS,s=1<<r;e.data[t+(r>>sS)]|=s}function jh(t,e){let n=oS(t,e);if(n!==-1)return n;let i=e[ve];i.firstCreatePass&&(t.injectorIndex=e.length,hy(i.data,t),hy(e,null),hy(i.blueprint,null));let r=Xv(t,e),s=t.injectorIndex;if(iS(r)){let o=Lh(r),a=Vh(r,e),c=a[ve].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=r,s}function hy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function oS(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Xv(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=dS(r),i===null)return ha;if(n++,r=r[Da],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return ha}function Fy(t,e,n){mj(t,e,n)}function yj(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let s=n[r];if(mx(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(s===e)return n[r+1];r=r+2}}}return null}function aS(t,e,n){if(n&ye.Optional||t!==void 0)return t;kv(e,"NodeInjector")}function cS(t,e,n,i){if(n&ye.Optional&&i===void 0&&(i=null),!(n&(ye.Self|ye.Host))){let r=t[va],s=Fn(void 0);try{return r?r.get(e,i,n&ye.Optional):ux(e,i,n&ye.Optional)}finally{Fn(s)}}return aS(i,e,n)}function lS(t,e,n,i=ye.Default,r){if(t!==null){if(e[se]&2048&&!(i&ye.Self)){let o=wj(t,e,n,i,mi);if(o!==mi)return o}let s=uS(t,e,n,i,mi);if(s!==mi)return s}return cS(e,n,i,r)}function uS(t,e,n,i,r){let s=_j(n);if(typeof s=="function"){if(!Qx(e,t,i))return i&ye.Host?aS(r,n,i):cS(e,n,i,r);try{let o;if(o=s(i),o==null&&!(i&ye.Optional))kv(n);else return o}finally{eS()}}else if(typeof s=="number"){let o=null,a=oS(t,e),c=ha,l=i&ye.Host?e[Ln][yn]:null;for((a===-1||i&ye.SkipSelf)&&(c=a===-1?Xv(t,e):e[a+8],c===ha||!RT(i,!1)?a=-1:(o=e[ve],a=Lh(c),e=Vh(c,e)));a!==-1;){let d=e[ve];if(MT(s,a,d.data)){let h=vj(a,e,n,o,i,l);if(h!==mi)return h}c=e[a+8],c!==ha&&RT(i,e[ve].data[a+8]===l)&&MT(s,a,e)?(o=d,a=Lh(c),e=Vh(c,e)):a=-1}}return r}function vj(t,e,n,i,r,s){let o=e[ve],a=o.data[t+8],c=i==null?tf(a)&&Oy:i!=o&&(a.type&3)!==0,l=r&ye.Host&&s===a,d=Th(a,o,n,c,l);return d!==null?to(e,o,d,a):mi}function Th(t,e,n,i,r){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,d=s>>20,h=i?a:a+d,f=r?a+d:l;for(let g=h;g<f;g++){let y=o[g];if(g<c&&n===y||g>=c&&y.type===n)return g}if(r){let g=o[c];if(g&&Kr(g)&&g.type===n)return c}return null}function to(t,e,n,i){let r=t[n],s=e.data;if(uj(r)){let o=r;o.resolving&&WV(qV(s[n]));let a=AT(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?Fn(o.injectImpl):null,d=Qx(t,i,ye.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&cj(n,s[n],e)}finally{l!==null&&Fn(l),AT(a),o.resolving=!1,eS()}}return r}function _j(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ll)?t[ll]:void 0;return typeof e=="number"?e>=0?e&rS:bj:e}function MT(t,e,n){let i=1<<t;return!!(n[e+(t>>sS)]&i)}function RT(t,e){return!(t&ye.Self)&&!(t&ye.Host&&e)}var Ks=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return lS(this._tNode,this._lView,e,Zh(i),n)}};function bj(){return new Ks(ln(),Se())}function Jr(t){return _l(()=>{let e=t.prototype.constructor,n=e[Ah]||Ly(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let s=r[Ah]||Ly(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Ly(t){return rx(t)?()=>{let e=Ly(an(t));return e&&e()}:pa(t)}function wj(t,e,n,i,r){let s=t,o=e;for(;s!==null&&o!==null&&o[se]&2048&&!(o[se]&512);){let a=uS(s,o,n,i|ye.Self,mi);if(a!==mi)return a;let c=s.parent;if(!c){let l=o[Mx];if(l){let d=l.get(n,mi,i);if(d!==mi)return d}c=dS(o),o=o[Da]}s=c}return r}function dS(t){let e=t[ve],n=e.type;return n===2?e.declTNode:n===1?t[yn]:null}function El(t){return yj(ln(),t)}function kT(t,e=null,n=null,i){let r=hS(t,e,n,i);return r.resolveInjectorInitializers(),r}function hS(t,e=null,n=null,i,r=new Set){let s=[n||pn,E2(t)];return i=i||(typeof t=="object"?void 0:cn(t)),new hl(s,e||Vv(),i||null,r)}var Gs=class Gs{static create(e,n){if(Array.isArray(e))return kT({name:""},n,e,"");{let i=e.name??"";return kT({name:i},e.parent,e.providers,i)}}};Gs.THROW_IF_NOT_FOUND=ul,Gs.NULL=new kh,Gs.\u0275prov=G({token:Gs,providedIn:"any",factory:()=>$(fx)}),Gs.__NG_ELEMENT_ID__=-1;var Bt=Gs;var Ij=new q("");Ij.__NG_ELEMENT_ID__=t=>{let e=ln();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(t&ye.Optional)return null;throw new Q(204,!1)};var Ej="ngOriginalError";function fy(t){return t[Ej]}var gn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&fy(e);for(;n&&fy(n);)n=fy(n);return n||null}},fS=new q("",{providedIn:"root",factory:()=>j(gn).handleError.bind(void 0)}),Ta=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Cj,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),Vy=class extends Ta{constructor(e){super(),this._lView=e}onDestroy(e){return Ux(this._lView,e),()=>q2(this._lView,e)}};function Cj(){return new Vy(Se())}function Dj(){return xa(ln(),Se())}function xa(t,e){return new lt(Vn(t,e))}var lt=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=Dj;let t=e;return t})();function Tj(t){return t instanceof lt?t.nativeElement:t}var jy=class extends tt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Ax()&&(this.destroyRef=j(Ta,{optional:!0})??void 0)}emit(e){let n=Ne(null);try{super.next(e)}finally{Ne(n)}}subscribe(e,n,i){let r=e,s=n||(()=>null),o=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=py(s),r&&(r=py(r)),o&&(o=py(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof et&&e.add(a),a}};function py(t){return e=>{setTimeout(t,void 0,e)}}var it=jy;function xj(){return this._results[Symbol.iterator]()}var Uh=class t{get changes(){return this._changes??=new it}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=xj)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=i2(e);(this._changesDetected=!n2(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function pS(t){return(t.flags&128)===128}var gS=new Map,Sj=0;function Aj(){return Sj++}function Mj(t){gS.set(t[ef],t)}function Rj(t){gS.delete(t[ef])}var PT="__ngContext__";function no(t,e){qr(e)?(t[PT]=e[ef],Mj(e)):t[PT]=e}function mS(t){return vS(t[pl])}function yS(t){return vS(t[ti])}function vS(t){for(;t!==null&&!er(t);)t=t[ti];return t}var Uy;function _S(t){Uy=t}function kj(){if(Uy!==void 0)return Uy;if(typeof document<"u")return document;throw new Q(210,!1)}var rf=new q("",{providedIn:"root",factory:()=>Pj}),Pj="ng",Zv=new q(""),vn=new q("",{providedIn:"platform",factory:()=>"unknown"});var Cl=new q("",{providedIn:"root",factory:()=>kj().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Nj="h",Oj="b";var Fj=()=>null;function Jv(t,e,n=!1){return Fj(t,e,n)}var bS=!1,Lj=new q("",{providedIn:"root",factory:()=>bS});var vh;function Vj(){if(vh===void 0&&(vh=null,Ys.trustedTypes))try{vh=Ys.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return vh}function sf(t){return Vj()?.createHTML(t)||t}var _h;function jj(){if(_h===void 0&&(_h=null,Ys.trustedTypes))try{_h=Ys.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _h}function NT(t){return jj()?.createScriptURL(t)||t}var Zi=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ix})`}},By=class extends Zi{getTypeName(){return"HTML"}},$y=class extends Zi{getTypeName(){return"Style"}},zy=class extends Zi{getTypeName(){return"Script"}},Hy=class extends Zi{getTypeName(){return"URL"}},qy=class extends Zi{getTypeName(){return"ResourceURL"}};function si(t){return t instanceof Zi?t.changingThisBreaksApplicationSecurity:t}function es(t,e){let n=Uj(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ix})`)}return n===e}function Uj(t){return t instanceof Zi&&t.getTypeName()||null}function wS(t){return new By(t)}function IS(t){return new $y(t)}function ES(t){return new zy(t)}function CS(t){return new Hy(t)}function DS(t){return new qy(t)}function Bj(t){let e=new Gy(t);return $j()?new Wy(e):e}var Wy=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(sf(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Gy=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=sf(e),n}};function $j(){try{return!!new window.DOMParser().parseFromString(sf(""),"text/html")}catch{return!1}}var zj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function of(t){return t=String(t),t.match(zj)?t:"unsafe:"+t}function tr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Dl(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var TS=tr("area,br,col,hr,img,wbr"),xS=tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),SS=tr("rp,rt"),Hj=Dl(SS,xS),qj=Dl(xS,tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wj=Dl(SS,tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),OT=Dl(TS,qj,Wj,Hj),AS=tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gj=tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Kj=tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Yj=Dl(AS,Gj,Kj),Qj=tr("script,style,template"),Ky=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=Jj(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=Zj(n);if(s){n=s;break}n=r.pop()}}return this.buf.join("")}startElement(e){let n=FT(e).toLowerCase();if(!OT.hasOwnProperty(n))return this.sanitizedSomething=!0,!Qj.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!Yj.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;AS[a]&&(c=of(c)),this.buf.push(" ",o,'="',LT(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=FT(e).toLowerCase();OT.hasOwnProperty(n)&&!TS.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(LT(e))}};function Xj(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Zj(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw MS(e);return e}function Jj(t){let e=t.firstChild;if(e&&Xj(t,e))throw MS(e);return e}function FT(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function MS(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var eU=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tU=/([^\#-~ |!])/g;function LT(t){return t.replace(/&/g,"&amp;").replace(eU,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(tU,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var bh;function RS(t,e){let n=null;try{bh=bh||Bj(t);let i=e?String(e):"";n=bh.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=bh.getInertBodyElement(i)}while(i!==s);let a=new Ky().sanitizeChildren(VT(n)||n);return sf(a)}finally{if(n){let i=VT(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function VT(t){return"content"in t&&nU(t)?t.content:null}function nU(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Zt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Zt||{});function Mn(t){let e=PS();return e?e.sanitize(Zt.URL,t)||"":es(t,"URL")?si(t):of(fa(t))}function iU(t){let e=PS();if(e)return NT(e.sanitize(Zt.RESOURCE_URL,t)||"");if(es(t,"ResourceURL"))return NT(si(t));throw new Q(904,!1)}function rU(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?iU:Mn}function kS(t,e,n){return rU(e,n)(t)}function PS(){let t=Se();return t&&t[vi].sanitizer}function NS(t){return t instanceof Function?t():t}function sU(t){return(t??j(Bt)).get(vn)==="browser"}var bi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(bi||{}),oU;function e_(t,e){return oU(t,e)}function la(t,e,n,i,r){if(i!=null){let s,o=!1;er(i)?s=i:qr(i)&&(o=!0,i=i[Ji]);let a=_i(i);t===0&&n!==null?r==null?US(e,n,a):Bh(e,n,a,r||null,!0):t===1&&n!==null?Bh(e,n,a,r||null,!0):t===2?bU(e,a,o):t===3&&e.destroyNode(a),s!=null&&IU(e,t,s,n,r)}}function aU(t,e){return t.createText(e)}function cU(t,e,n){t.setValue(e,n)}function OS(t,e,n){return t.createElement(e,n)}function lU(t,e){FS(t,e),e[Ji]=null,e[yn]=null}function uU(t,e,n,i,r,s){i[Ji]=r,i[yn]=e,af(t,i,n,1,r,s)}function FS(t,e){e[vi].changeDetectionScheduler?.notify(8),af(t,e,e[bt],2,null,null)}function dU(t){let e=t[pl];if(!e)return gy(t[ve],t);for(;e;){let n=null;if(qr(e))n=e[pl];else{let i=e[Sn];i&&(n=i)}if(!n){for(;e&&!e[ti]&&e!==t;)qr(e)&&gy(e[ve],e),e=e[Xt];e===null&&(e=t),qr(e)&&gy(e[ve],e),n=e&&e[ti]}e=n}}function hU(t,e,n,i){let r=Sn+i,s=n.length;i>0&&(n[r-1][ti]=e),i<s-Sn?(e[ti]=n[r],hx(n,Sn+i,e)):(n.push(e),e[ti]=null),e[Xt]=n;let o=e[Qs];o!==null&&n!==o&&LS(o,e);let a=e[Xi];a!==null&&a.insertView(t),Py(e),e[se]|=128}function LS(t,e){let n=t[_a],i=e[Xt];if(qr(i))t[se]|=Oh.HasTransplantedViews;else{let r=i[Xt][Ln];e[Ln]!==r&&(t[se]|=Oh.HasTransplantedViews)}n===null?t[_a]=[e]:n.push(e)}function t_(t,e){let n=t[_a],i=n.indexOf(e);n.splice(i,1)}function Yy(t,e){if(t.length<=Sn)return;let n=Sn+e,i=t[n];if(i){let r=i[Qs];r!==null&&r!==t&&t_(r,i),e>0&&(t[n-1][ti]=i[ti]);let s=Rh(t,Sn+e);lU(i[ve],i);let o=s[Xi];o!==null&&o.detachView(s[ve]),i[Xt]=null,i[ti]=null,i[se]&=-129}return i}function VS(t,e){if(!(e[se]&256)){let n=e[bt];n.destroyNode&&af(t,e,n,3,null,null),dU(e)}}function gy(t,e){if(e[se]&256)return;let n=Ne(null);try{e[se]&=-129,e[se]|=256,e[Xs]&&OD(e[Xs]),pU(t,e),fU(t,e),e[ve].type===1&&e[bt].destroy();let i=e[Qs];if(i!==null&&er(e[Xt])){i!==e[Xt]&&t_(i,e);let r=e[Xi];r!==null&&r.detachView(t)}Rj(e)}finally{Ne(n)}}function fU(t,e){let n=t.cleanup,i=e[Ph];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[n[s+1]];n[s].call(o)}i!==null&&(e[Ph]=null);let r=e[Hr];if(r!==null){e[Hr]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function pU(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof eo)){let s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],c=s[o+1];gi(4,a,c);try{c.call(a)}finally{gi(5,a,c)}}else{gi(4,r,s);try{s.call(r)}finally{gi(5,r,s)}}}}}function jS(t,e,n){return gU(t,e.parent,n)}function gU(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[Ji];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=t.data[i.directiveStart+r];if(s===yi.None||s===yi.Emulated)return null}return Vn(i,n)}}function Bh(t,e,n,i,r){t.insertBefore(e,n,i,r)}function US(t,e,n){t.appendChild(e,n)}function jT(t,e,n,i,r){i!==null?Bh(t,e,n,i,r):US(t,e,n)}function mU(t,e,n,i){t.removeChild(e,n,i)}function n_(t,e){return t.parentNode(e)}function yU(t,e){return t.nextSibling(e)}function BS(t,e,n){return _U(t,e,n)}function vU(t,e,n){return t.type&40?Vn(t,n):null}var _U=vU,UT;function i_(t,e,n,i){let r=jS(t,i,e),s=e[bt],o=i.parent||e[yn],a=BS(o,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)jT(s,r,n[c],a,!1);else jT(s,r,n,a,!1);UT!==void 0&&UT(s,i,e,n,r)}function xh(t,e){if(e!==null){let n=e.type;if(n&3)return Vn(e,t);if(n&4)return Qy(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return xh(t,i);{let r=t[e.index];return er(r)?Qy(-1,r):_i(r)}}else{if(n&32)return e_(e,t)()||_i(t[e.index]);{let i=$S(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=ml(t[Ln]);return xh(r,i)}else return xh(t,e.next)}}}return null}function $S(t,e){if(e!==null){let i=t[Ln][yn],r=e.projection;return i.projection[r]}return null}function Qy(t,e){let n=Sn+t+1;if(n<e.length){let i=e[n],r=i[ve].firstChild;if(r!==null)return xh(i,r)}return e[Zs]}function bU(t,e,n){let i=n_(t,e);i&&mU(t,i,e,n)}function r_(t,e,n,i,r,s,o){for(;n!=null;){let a=i[n.index],c=n.type;if(o&&e===0&&(a&&no(_i(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)r_(t,e,n.child,i,r,s,!1),la(e,t,r,a,s);else if(c&32){let l=e_(n,i),d;for(;d=l();)la(e,t,r,d,s);la(e,t,r,a,s)}else c&16?zS(t,e,i,n,r,s):la(e,t,r,a,s);n=o?n.projectionNext:n.next}}function af(t,e,n,i,r,s){r_(n,i,t.firstChild,e,r,s,!1)}function wU(t,e,n){let i=e[bt],r=jS(t,n,e),s=n.parent||e[yn],o=BS(s,n,e);zS(i,0,e,n,r,o)}function zS(t,e,n,i,r,s){let o=n[Ln],c=o[yn].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];la(e,t,r,d,s)}else{let l=c,d=o[Xt];pS(i)&&(l.flags|=128),r_(t,e,l,d,r,s,!0)}}function IU(t,e,n,i,r){let s=n[Zs],o=_i(n);s!==o&&la(e,t,i,s,r);for(let a=Sn;a<n.length;a++){let c=n[a];af(c[ve],c,t,e,i,s)}}function EU(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let s=i.indexOf("-")===-1?void 0:bi.DashCase;r==null?t.removeStyle(n,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=bi.Important),t.setStyle(n,i,r,s))}}function CU(t,e,n){t.setAttribute(e,"style",n)}function HS(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function qS(t,e,n){let{mergedAttrs:i,classes:r,styles:s}=n;i!==null&&xy(t,e,i),r!==null&&HS(t,e,r),s!==null&&CU(t,e,s)}var jn={};function W(t=1){WS($t(),Se(),Zr()+t,!1)}function WS(t,e,n,i){if(!i)if((e[se]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Ch(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Dh(e,s,0,n)}Js(n)}function B(t,e=ye.Default){let n=Se();if(n===null)return $(t,e);let i=ln();return lS(i,n,an(t),e)}function GS(){let t="invalid";throw new Error(t)}function KS(t,e,n,i,r,s){let o=Ne(null);try{let a=null;r&ma.SignalBased&&(a=e[i][Fr]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&ma.HasDecoratorInputTransform&&(s=t.inputTransforms[i].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,i):Px(e,a,i,s)}finally{Ne(o)}}function DU(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Js(~r);else{let s=r,o=n[++i],a=n[++i];nj(o,s);let c=e[s];a(2,c)}}}finally{Js(-1)}}function cf(t,e,n,i,r,s,o,a,c,l,d){let h=e.blueprint.slice();return h[Ji]=r,h[se]=i|4|128|8|64,(l!==null||t&&t[se]&2048)&&(h[se]|=2048),jx(h),h[Xt]=h[Da]=t,h[ni]=n,h[vi]=o||t&&t[vi],h[bt]=a||t&&t[bt],h[va]=c||t&&t[va]||null,h[yn]=s,h[ef]=Aj(),h[fl]=d,h[Mx]=l,h[Ln]=e.type==2?t[Ln]:h,h}function Tl(t,e,n,i,r){let s=t.data[e];if(s===null)s=TU(t,e,n,i,r),tj()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=i,s.attrs=r;let o=X2();s.injectorIndex=o===null?-1:o.injectorIndex}return Il(s,!0),s}function TU(t,e,n,i,r){let s=Hx(),o=qx(),a=o?s:s&&s.parent,c=t.data[e]=kU(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function YS(t,e,n,i){if(n===0)return-1;let r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function QS(t,e,n,i,r){let s=Zr(),o=i&2;try{Js(-1),o&&e.length>ii&&WS(t,e,ii,!1),gi(o?2:0,r),n(i,r)}finally{Js(s),gi(o?3:1,r)}}function XS(t,e,n){if(kx(e)){let i=Ne(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{Ne(i)}}}function ZS(t,e,n){$x()&&(VU(t,e,n,Vn(n,e)),(n.flags&64)===64&&rA(t,e,n))}function JS(t,e,n=Vn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?n(e,t):t[o];t[r++]=a}}}function eA(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=s_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function s_(t,e,n,i,r,s,o,a,c,l,d){let h=ii+i,f=h+r,g=xU(h,f),y=typeof l=="function"?l():l;return g[ve]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:d}}function xU(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:jn);return n}function SU(t,e,n,i){let s=i.get(Lj,bS)||n===yi.ShadowDom,o=t.selectRootElement(e,s);return AU(o),o}function AU(t){MU(t)}var MU=()=>null;function RU(t,e,n,i){let r=aA(e);r.push(n),t.firstCreatePass&&cA(t).push(i,r.length-1)}function kU(t,e,n,i,r,s){let o=e?e.injectorIndex:-1,a=0;return zx()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function BT(t,e,n,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,c=ma.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=s;if(r!==null){if(!r.hasOwnProperty(s))continue;l=r[s]}t===0?$T(i,n,l,a,c):$T(i,n,l,a)}return i}function $T(t,e,n,i,r){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,i):s=t[n]=[e,i],r!==void 0&&s.push(r)}function PU(t,e,n){let i=e.directiveStart,r=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,l=null;for(let d=i;d<r;d++){let h=s[d],f=n?n.get(h):null,g=f?f.inputs:null,y=f?f.outputs:null;c=BT(0,h.inputs,d,c,g),l=BT(1,h.outputs,d,l,y);let _=c!==null&&o!==null&&!Fv(e)?YU(c,d,o):null;a.push(_)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function NU(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function tA(t,e,n,i,r,s,o,a){let c=Vn(e,n),l=e.inputs,d;!a&&l!=null&&(d=l[i])?(o_(t,n,d,i,r),tf(e)&&OU(n,e.index)):e.type&3?(i=NU(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(c,i,r)):e.type&12}function OU(t,e){let n=Xr(e,t);n[se]&16||(n[se]|=64)}function nA(t,e,n,i){if($x()){let r=i===null?null:{"":-1},s=UU(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&iA(t,e,n,o,r,a),r&&BU(n,i,r)}n.mergedAttrs=dl(n.mergedAttrs,n.attrs)}function iA(t,e,n,i,r,s){for(let l=0;l<i.length;l++)Fy(jh(n,e),t,i[l].type);zU(n,t.data.length,i.length);for(let l=0;l<i.length;l++){let d=i[l];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,c=YS(t,e,i.length,null);for(let l=0;l<i.length;l++){let d=i[l];n.mergedAttrs=dl(n.mergedAttrs,d.hostAttrs),HU(t,n,e,c,d),$U(c,d,r),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let h=d.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}PU(t,n,s)}function FU(t,e,n,i,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;LU(o)!=a&&o.push(a),o.push(n,i,s)}}function LU(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function VU(t,e,n,i){let r=n.directiveStart,s=n.directiveEnd;tf(n)&&qU(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||jh(n,e),no(i,e);let o=n.initialInputs;for(let a=r;a<s;a++){let c=t.data[a],l=to(e,t,a,n);if(no(l,e),o!==null&&KU(e,a-r,l,c,n,o),Kr(c)){let d=Xr(n.index,e);d[ni]=to(e,t,a,n)}}}function rA(t,e,n){let i=n.directiveStart,r=n.directiveEnd,s=n.index,o=ij();try{Js(s);for(let a=i;a<r;a++){let c=t.data[a],l=e[a];Ny(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&jU(c,l)}}finally{Js(-1),Ny(o)}}function jU(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function UU(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(vx(e,o.selectors,!1))if(i||(i=[]),Kr(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let c=a.length;Xy(t,e,c)}else i.unshift(o),Xy(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function Xy(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function BU(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=n[e[r+1]];if(s==null)throw new Q(-301,!1);i.push(e[r],s)}}}function $U(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Kr(e)&&(n[""]=t)}}function zU(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function HU(t,e,n,i,r){t.data[i]=r;let s=r.factory||(r.factory=pa(r.type,!0)),o=new eo(s,Kr(r),B);t.blueprint[i]=o,n[i]=o,FU(t,e,i,YS(t,n,r.hostVars,jn),r)}function qU(t,e,n){let i=Vn(e,t),r=eA(n),s=t[vi].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=lf(t,cf(t,r,null,o,i,e,null,s.createRenderer(i,n),null,null,null));t[e.index]=a}function WU(t,e,n,i,r,s){let o=Vn(t,e);GU(e[bt],o,s,t.value,n,i,r)}function GU(t,e,n,i,r,s,o){if(s==null)t.removeAttribute(e,r,n);else{let a=o==null?fa(s):o(s,i||"",r);t.setAttribute(e,r,a,n)}}function KU(t,e,n,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],d=o[a++],h=o[a++];KS(i,n,c,l,d,h)}}function YU(t,e,n){let i=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){i===null&&(i=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],n[r+1]);break}}r+=2}return i}function sA(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function oA(t,e){let n=t.contentQueries;if(n!==null){let i=Ne(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],o=n[r+1];if(o!==-1){let a=t.data[o];Hv(s),a.contentQueries(2,e[o],o)}}}finally{Ne(i)}}}function lf(t,e){return t[pl]?t[DT][ti]=e:t[pl]=e,t[DT]=e,e}function Zy(t,e,n){Hv(0);let i=Ne(null);try{e(t,n)}finally{Ne(i)}}function aA(t){return t[Ph]??=[]}function cA(t){return t.cleanup??=[]}function lA(t,e){let n=t[va],i=n?n.get(gn,null):null;i&&i.handleError(e)}function o_(t,e,n,i,r){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],l=e[o],d=t.data[o];KS(d,l,i,a,c,r)}}function uA(t,e,n){let i=Lx(e,t);cU(t[bt],i,n)}function QU(t,e){let n=Xr(e,t),i=n[ve];XU(i,n);let r=n[Ji];r!==null&&n[fl]===null&&(n[fl]=Jv(r,n[va])),a_(i,n,n[ni])}function XU(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function a_(t,e,n){qv(e);try{let i=t.viewQuery;i!==null&&Zy(1,i,n);let r=t.template;r!==null&&QS(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Xi]?.finishViewCreation(t),t.staticContentQueries&&oA(t,e),t.staticViewQueries&&Zy(2,t.viewQuery,n);let s=t.components;s!==null&&ZU(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[se]&=-5,Wv()}}function ZU(t,e){for(let n=0;n<e.length;n++)QU(t,e[n])}function dA(t,e,n,i){let r=Ne(null);try{let s=e.tView,a=t[se]&4096?4096:16,c=cf(t,s,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=t[e.index];c[Qs]=l;let d=t[Xi];return d!==null&&(c[Xi]=d.createEmbeddedView(s)),a_(s,c,n),c}finally{Ne(r)}}function Jy(t,e){return!e||e.firstChild===null||pS(t)}function hA(t,e,n,i=!0){let r=e[ve];if(hU(r,e,t,n),i){let o=Qy(n,t),a=e[bt],c=n_(a,t[Zs]);c!==null&&uU(r,t[yn],a,e,c,o)}let s=e[fl];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function $h(t,e,n,i,r=!1){for(;n!==null;){let s=e[n.index];s!==null&&i.push(_i(s)),er(s)&&JU(s,i);let o=n.type;if(o&8)$h(t,e,n.child,i);else if(o&32){let a=e_(n,e),c;for(;c=a();)i.push(c)}else if(o&16){let a=$S(e,n);if(Array.isArray(a))i.push(...a);else{let c=ml(e[Ln]);$h(c[ve],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function JU(t,e){for(let n=Sn;n<t.length;n++){let i=t[n],r=i[ve].firstChild;r!==null&&$h(i[ve],i,r,e)}t[Zs]!==t[Ji]&&e.push(t[Zs])}var fA=[];function eB(t){return t[Xs]??tB(t)}function tB(t){let e=fA.pop()??Object.create(iB);return e.lView=t,e}function nB(t){t.lView[Xs]!==t&&(t.lView=null,fA.push(t))}var iB=ge(H({},qd),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{nf(t.lView)},consumerOnSignalRead(){this.lView[Xs]=this}}),rB=100;function pA(t,e=!0,n=0){let i=t[vi],r=i.rendererFactory,s=!1;s||r.begin?.();try{sB(t,n)}catch(o){throw e&&lA(t,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function sB(t,e){let n=Gx();try{xT(!0),ev(t,e);let i=0;for(;gl(t);){if(i===rB)throw new Q(103,!1);i++,ev(t,1)}}finally{xT(n)}}function oB(t,e,n,i){let r=e[se];if((r&256)===256)return;let s=!1,o=!1;!s&&e[vi].inlineEffectRunner?.flush(),qv(e);let a=null,c=null;!s&&aB(t)&&(c=eB(e),a=Lm(c));try{jx(e),ej(t.bindingStartIndex),n!==null&&QS(t,e,n,2,i);let l=(r&3)===3;if(!s)if(l){let f=t.preOrderCheckHooks;f!==null&&Ch(e,f,null)}else{let f=t.preOrderHooks;f!==null&&Dh(e,f,0,null),dy(e,0)}if(o||cB(e),gA(e,0),t.contentQueries!==null&&oA(t,e),!s)if(l){let f=t.contentCheckHooks;f!==null&&Ch(e,f)}else{let f=t.contentHooks;f!==null&&Dh(e,f,1),dy(e,1)}DU(t,e);let d=t.components;d!==null&&yA(e,d,0);let h=t.viewQuery;if(h!==null&&Zy(2,h,i),!s)if(l){let f=t.viewCheckHooks;f!==null&&Ch(e,f)}else{let f=t.viewHooks;f!==null&&Dh(e,f,2),dy(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[uy]){for(let f of e[uy])f();e[uy]=null}s||(e[se]&=-73)}catch(l){throw s||nf(e),l}finally{c!==null&&(Vm(c,a),nB(c)),Wv()}}function aB(t){return t.type!==2}function gA(t,e){for(let n=mS(t);n!==null;n=yS(n))for(let i=Sn;i<n.length;i++){let r=n[i];mA(r,e)}}function cB(t){for(let e=mS(t);e!==null;e=yS(e)){if(!(e[se]&Oh.HasTransplantedViews))continue;let n=e[_a];for(let i=0;i<n.length;i++){let r=n[i];z2(r)}}}function lB(t,e,n){let i=Xr(e,t);mA(i,n)}function mA(t,e){Bv(t)&&ev(t,e)}function ev(t,e){let i=t[ve],r=t[se],s=t[Xs],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&jm(s)),o||=!1,s&&(s.dirty=!1),t[se]&=-9217,o)oB(i,t,i.template,t[ni]);else if(r&8192){gA(t,1);let a=i.components;a!==null&&yA(t,a,1)}}function yA(t,e,n){for(let i=0;i<e.length;i++)lB(t,e[i],n)}function c_(t,e){let n=Gx()?64:1088;for(t[vi].changeDetectionScheduler?.notify(e);t;){t[se]|=n;let i=ml(t);if(Ry(t)&&!i)return t;t=i}return null}var io=class{get rootNodes(){let e=this._lView,n=e[ve];return $h(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ni]}set context(e){this._lView[ni]=e}get destroyed(){return(this._lView[se]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Xt];if(er(e)){let n=e[Nh],i=n?n.indexOf(this):-1;i>-1&&(Yy(e,i),Rh(n,i))}this._attachedToViewContainer=!1}VS(this._lView[ve],this._lView)}onDestroy(e){Ux(this._lView,e)}markForCheck(){c_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[se]&=-129}reattach(){Py(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,pA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ry(this._lView),n=this._lView[Qs];n!==null&&!e&&t_(n,this._lView),FS(this._lView[ve],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let n=Ry(this._lView),i=this._lView[Qs];i!==null&&!n&&LS(i,this._lView),Py(this._lView)}},ro=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=hB;let t=e;return t})(),uB=ro,dB=class extends uB{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=dA(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new io(r)}};function hB(){return uf(ln(),Se())}function uf(t,e){return t.type&4?new dB(e,t,xa(t,e)):null}var ase=new RegExp(`^(\\d+)*(${Oj}|${Nj})*(.*)`);var fB=()=>null;function tv(t,e){return fB(t,e)}var ba=class{},vA=new q("",{providedIn:"root",factory:()=>!1});var _A=new q(""),nv=class{},zh=class{};function pB(t){let e=Error(`No component factory found for ${cn(t)}.`);return e[gB]=t,e}var gB="ngComponent";var iv=class{resolveComponentFactory(e){throw pB(e)}},v_=class v_{};v_.NULL=new iv;var wa=v_,Ia=class{},Ei=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>mB();let t=e;return t})();function mB(){let t=Se(),e=ln(),n=Xr(e.index,t);return(qr(n)?n:t)[bt]}var yB=(()=>{let e=class e{};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),my={};var zT=new Set;function Sa(t){zT.has(t)||(zT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function bA(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof Ys.requestAnimationFrame=="function"&&Ys.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function HT(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function qT(...t){}var we=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new it(!1),this.onMicrotaskEmpty=new it(!1),this.onStable=new it(!1),this.onError=new it(!1),typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.callbackScheduled=!1,bB(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Q(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,vB,qT,qT);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},vB={};function l_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function _B(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{bA(()=>{t.callbackScheduled=!1,rv(t),t.isCheckStableRunning=!0,l_(t),t.isCheckStableRunning=!1})}),rv(t))}function bB(t){let e=()=>{_B(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{if(wB(a))return n.invokeTask(r,s,o,a);try{return WT(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),GT(t)}},onInvoke:(n,i,r,s,o,a,c)=>{try{return WT(t),n.invoke(r,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!IB(a)&&e(),GT(t)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,rv(t),l_(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function rv(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function WT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function GT(t){t._nesting--,l_(t)}var sv=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new it,this.onMicrotaskEmpty=new it,this.onStable=new it,this.onError=new it}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function wB(t){return wA(t,"__ignore_ng_zone__")}function IB(t){return wA(t,"__scheduler_tick__")}function wA(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ua=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ua||{}),EB={destroy(){}};function xl(t,e){!e&&jv(xl);let n=e?.injector??j(Bt);if(!sU(n))return EB;Sa("NgAfterNextRender");let i=n.get(u_),r=i.handler??=new av,s=e?.phase??ua.MixedReadWrite,o=()=>{r.unregister(c),a()},a=n.get(Ta).onDestroy(o),c=An(n,()=>new ov(s,()=>{o(),t()}));return r.register(c),{destroy:o}}var ov=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=j(we),this.errorHandler=j(gn,{optional:!0}),j(ba,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},av=class{constructor(){this.executingCallbacks=!1,this.buckets={[ua.EarlyRead]:new Set,[ua.Write]:new Set,[ua.MixedReadWrite]:new Set,[ua.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},u_=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function cv(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=Ey(r,a);else if(s==2){let c=a,l=e[++o];i=Ey(i,c+": "+l+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var Hh=class extends wa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Gr(e);return new Ea(n,this.ngModule)}};function KT(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function CB(t){let e=t.toLowerCase();return e==="svg"?V2:e==="math"?j2:null}var lv=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=Zh(i);let r=this.injector.get(e,my,i);return r!==my||n===my?r:this.parentInjector.get(e,n,i)}},Ea=class extends zh{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=KT(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return KT(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=v2(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let s=Ne(null);try{r=r||this.ngModule;let o=r instanceof Qt?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new lv(e,o):e,c=a.get(Ia,null);if(c===null)throw new Q(407,!1);let l=a.get(yB,null),d=a.get(u_,null),h=a.get(ba,null),f={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:h},g=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",_=i?SU(g,i,this.componentDef.encapsulation,a):OS(g,y,CB(y)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let C=null;_!==null&&(C=Jv(_,a,!0));let S=s_(0,null,null,1,0,null,null,null,null,null,null),k=cf(null,S,null,v,null,null,f,g,a,null,C);qv(k);let P,F;try{let N=this.componentDef,E,b=null;N.findHostDirectiveDefs?(E=[],b=new Map,N.findHostDirectiveDefs(N,E,b),E.push(N)):E=[N];let I=DB(k,_),T=TB(I,_,N,E,k,f,g);F=Vx(S,ii),_&&AB(g,N,_,i),n!==void 0&&MB(F,this.ngContentSelectors,n),P=SB(T,N,E,b,k,[RB]),a_(S,k,null)}finally{Wv()}return new uv(this.componentType,P,xa(F,k),k,F)}finally{Ne(s)}}},uv=class extends nv{constructor(e,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new io(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;o_(s[ve],s,r,e,n),this.previousInputValues.set(e,n);let o=Xr(this._tNode.index,s);c_(o,1)}}get injector(){return new Ks(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function DB(t,e){let n=t[ve],i=ii;return t[i]=e,Tl(n,i,2,"#host",null)}function TB(t,e,n,i,r,s,o){let a=r[ve];xB(i,t,e,o);let c=null;e!==null&&(c=Jv(e,r[va]));let l=s.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let h=cf(r,eA(n),null,d,r[t.index],t,s,l,null,null,c);return a.firstCreatePass&&Xy(a,t,i.length-1),lf(r,h),r[t.index]=h}function xB(t,e,n,i){for(let r of t)e.mergedAttrs=dl(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(cv(e,e.mergedAttrs,!0),n!==null&&qS(i,n,e))}function SB(t,e,n,i,r,s){let o=ln(),a=r[ve],c=Vn(o,r);iA(a,r,o,n,null,i);for(let d=0;d<n.length;d++){let h=o.directiveStart+d,f=to(r,a,h,o);no(f,r)}rA(a,r,o),c&&no(c,r);let l=to(r,a,o.directiveStart+o.componentOffset,o);if(t[ni]=r[ni]=l,s!==null)for(let d of s)d(l,e);return XS(a,o,r),l}function AB(t,e,n,i){if(i)xy(t,n,["ng-version","18.0.2"]);else{let{attrs:r,classes:s}=_2(e.selectors[0]);r&&xy(t,n,r),s&&s.length>0&&HS(t,n,s.join(" "))}}function MB(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let s=n[r];i.push(s!=null?Array.from(s):null)}}function RB(){let t=ln();Qv(Se()[ve],t)}var ts=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=kB;let t=e;return t})();function kB(){let t=ln();return EA(t,Se())}var PB=ts,IA=class extends PB{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return xa(this._hostTNode,this._hostLView)}get injector(){return new Ks(this._hostTNode,this._hostLView)}get parentInjector(){let e=Xv(this._hostTNode,this._hostLView);if(iS(e)){let n=Vh(e,this._hostLView),i=Lh(e),r=n[ve].data[i+8];return new Ks(r,n)}else return new Ks(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=YT(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Sn}createEmbeddedView(e,n,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=tv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,r,Jy(this._hostTNode,o)),a}createComponent(e,n,i,r,s){let o=e&&!N2(e),a;if(o)a=n;else{let y=n||{};a=y.index,i=y.injector,r=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}let c=o?e:new Ea(Gr(e)),l=i||this.parentInjector;if(!s&&c.ngModule==null){let _=(o?l:this.parentInjector).get(Qt,null);_&&(s=_)}let d=Gr(c.componentType??{}),h=tv(this._lContainer,d?.id??null),f=h?.firstChild??null,g=c.create(l,r,f,s);return this.insertImpl(g.hostView,a,Jy(this._hostTNode,h)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if($2(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[Xt],l=new IA(c,c[yn],c[Xt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return hA(o,r,s,i),e.attachToViewContainerRef(),hx(yy(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=YT(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=Yy(this._lContainer,n);i&&(Rh(yy(this._lContainer),n),VS(i[ve],i))}detach(e){let n=this._adjustIndex(e,-1),i=Yy(this._lContainer,n);return i&&Rh(yy(this._lContainer),n)!=null?new io(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function YT(t){return t[Nh]}function yy(t){return t[Nh]||(t[Nh]=[])}function EA(t,e){let n,i=e[t.index];return er(i)?n=i:(n=sA(i,e,null,t),e[t.index]=n,lf(e,n)),OB(n,e,t,i),new IA(n,t,e)}function NB(t,e){let n=t[bt],i=n.createComment(""),r=Vn(e,t),s=n_(n,r);return Bh(n,s,i,yU(n,r),!1),i}var OB=VB,FB=()=>!1;function LB(t,e,n){return FB(t,e,n)}function VB(t,e,n,i){if(t[Zs])return;let r;n.type&8?r=_i(i):r=NB(e,n),t[Zs]=r}var dv=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},hv=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)d_(e,n).matches!==null&&this.queries[n].setDirty()}},qh=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=WB(e):this.predicate=e}},fv=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},pv=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,n,jB(n,s)),this.matchTNodeWithReadOption(e,n,Th(n,e,s,!1,!1))}else i===ro?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Th(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===lt||r===ts||r===ro&&n.type&4)this.addMatch(n.index,-2);else{let s=Th(n,e,r,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function jB(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function UB(t,e){return t.type&11?xa(t,e):t.type&4?uf(t,e):null}function BB(t,e,n,i){return n===-1?UB(e,t):n===-2?$B(t,e,i):to(t,t[ve],n,e)}function $B(t,e,n){if(n===lt)return xa(e,t);if(n===ro)return uf(e,t);if(n===ts)return EA(e,t)}function CA(t,e,n,i){let r=e[Xi].queries[i];if(r.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let d=s[l];a.push(BB(e,d,o[c+1],n.metadata.read))}}r.matches=a}return r.matches}function gv(t,e,n,i){let r=t.queries.getByIndex(n),s=r.matches;if(s!==null){let o=CA(t,e,r,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)i.push(o[a/2]);else{let l=s[a+1],d=e[-c];for(let h=Sn;h<d.length;h++){let f=d[h];f[Qs]===f[Xt]&&gv(f[ve],f,l,i)}if(d[_a]!==null){let h=d[_a];for(let f=0;f<h.length;f++){let g=h[f];gv(g[ve],g,l,i)}}}}}return i}function zB(t,e){return t[Xi].queries[e].queryList}function DA(t,e,n){let i=new Uh((n&4)===4);return RU(t,e,i,i.destroy),(e[Xi]??=new hv).queries.push(new dv(i))-1}function HB(t,e,n){let i=$t();return i.firstCreatePass&&(TA(i,new qh(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),DA(i,Se(),e)}function qB(t,e,n,i){let r=$t();if(r.firstCreatePass){let s=ln();TA(r,new qh(e,n,i),s.index),GB(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return DA(r,Se(),n)}function WB(t){return t.split(",").map(e=>e.trim())}function TA(t,e,n){t.queries===null&&(t.queries=new fv),t.queries.track(new pv(e,n))}function GB(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function d_(t,e){return t.queries.getByIndex(e)}function KB(t,e){let n=t[ve],i=d_(n,e);return i.crossesNgTemplate?gv(n,t,e,[]):CA(n,t,i,e)}function h_(t,e){Sa("NgSignals");let n=zD(t),i=n[Fr];return e?.equal&&(i.equal=e.equal),n.set=r=>Um(i,r),n.update=r=>HD(i,r),n.asReadonly=YB.bind(n),n}function YB(){let t=this[Fr];if(t.readonlyFn===void 0){let e=()=>this();e[Fr]=t,t.readonlyFn=e}return t.readonlyFn}function QB(t){return Object.getPrototypeOf(t.prototype).constructor}function nr(t){let e=QB(t.type),n=!0,i=[t];for(;e;){let r;if(Kr(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let o=t;o.inputs=wh(t.inputs),o.inputTransforms=wh(t.inputTransforms),o.declaredInputs=wh(t.declaredInputs),o.outputs=wh(t.outputs);let a=r.hostBindings;a&&t$(t,a);let c=r.viewQuery,l=r.contentQueries;if(c&&JB(t,c),l&&e$(t,l),XB(t,r),LV(t.outputs,r.outputs),Kr(r)&&r.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===nr&&(n=!1)}}e=Object.getPrototypeOf(e)}ZB(i)}function XB(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function ZB(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=dl(r.hostAttrs,n=dl(n,r.hostAttrs))}}function wh(t){return t===ga?{}:t===pn?[]:t}function JB(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function e$(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,s)=>{e(i,r,s),n(i,r,s)}:t.contentQueries=e}function t$(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function ao(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}var Yr=class{},yl=class{};var mv=class extends Yr{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Hh(this);let r=Ix(e);this._bootstrapComponents=NS(r.bootstrap),this._r3Injector=hS(e,n,[{provide:Yr,useValue:this},{provide:wa,useValue:this.componentFactoryResolver},...i],cn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},yv=class extends yl{constructor(e){super(),this.moduleType=e}create(e){return new mv(this.moduleType,e,[])}};var Wh=class extends Yr{constructor(e){super(),this.componentFactoryResolver=new Hh(this),this.instance=null;let n=new hl([...e.providers,{provide:Yr,useValue:this},{provide:wa,useValue:this.componentFactoryResolver}],e.parent||Vv(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function df(t,e,n=null){return new Wh({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var co=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new We(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xA(t){return f_(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function n$(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function f_(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function SA(t,e,n){return t[e]=n}function Qr(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function AA(t,e,n,i){let r=Qr(t,e,n);return Qr(t,e+1,i)||r}function i$(t){return(t.flags&32)===32}function r$(t,e,n,i,r,s,o,a,c){let l=e.consts,d=Tl(e,t,4,o||null,a||null);nA(e,n,d,Fh(l,c)),Qv(e,d);let h=d.tView=s_(2,d,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}function MA(t,e,n,i,r,s,o,a,c,l){let d=n+ii,h=e.firstCreatePass?r$(d,e,t,i,r,s,o,a,c):e.data[d];Il(h,!1);let f=s$(e,t,h,n);Kv()&&i_(e,t,f,h),no(f,t);let g=sA(f,t,f,h);return t[d]=g,lf(t,g),LB(g,h,t),Uv(h)&&ZS(e,t,h),c!=null&&JS(t,h,l),h}function Oe(t,e,n,i,r,s,o,a){let c=Se(),l=$t(),d=Fh(l.consts,s);return MA(c,l,t,e,n,i,r,d,o,a),Oe}var s$=o$;function o$(t,e,n,i){return Yv(!0),e[bt].createComment("")}function ir(t,e,n,i){let r=Se(),s=$v();if(Qr(r,s,e)){let o=$t(),a=Gv();WU(a,r,t,e,n,i)}return ir}function RA(t,e,n,i){return Qr(t,$v(),n)?e+fa(n)+i:jn}function a$(t,e,n,i,r,s){let o=J2(),a=AA(t,o,n,r);return zv(2),a?e+fa(n)+i+fa(r)+s:jn}function Ih(t,e){return t<<17|e<<2}function so(t){return t>>17&32767}function c$(t){return(t&2)==2}function l$(t,e){return t&131071|e<<17}function vv(t){return t|2}function Ca(t){return(t&131068)>>2}function vy(t,e){return t&-131069|e<<2}function u$(t){return(t&1)===1}function _v(t){return t|1}function d$(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=so(o),c=Ca(o);t[i]=n;let l=!1,d;if(Array.isArray(n)){let h=n;d=h[1],(d===null||wl(h,d)>0)&&(l=!0)}else d=n;if(r)if(c!==0){let f=so(t[a+1]);t[i+1]=Ih(f,a),f!==0&&(t[f+1]=vy(t[f+1],i)),t[a+1]=l$(t[a+1],i)}else t[i+1]=Ih(a,0),a!==0&&(t[a+1]=vy(t[a+1],i)),a=i;else t[i+1]=Ih(c,0),a===0?a=i:t[c+1]=vy(t[c+1],i),c=i;l&&(t[i+1]=vv(t[i+1])),QT(t,d,i,!0),QT(t,d,i,!1),h$(e,d,t,i,s),o=Ih(a,c),s?e.classBindings=o:e.styleBindings=o}function h$(t,e,n,i,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&wl(s,e)>=0&&(n[i+1]=_v(n[i+1]))}function QT(t,e,n,i){let r=t[n+1],s=e===null,o=i?so(r):Ca(r),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],l=t[o+1];f$(c,e)&&(a=!0,t[o+1]=i?_v(l):vv(l)),o=i?so(l):Ca(l)}a&&(t[n+1]=i?vv(r):_v(r))}function f$(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?wl(t,e)>=0:!1}var ei={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function p$(t){return t.substring(ei.key,ei.keyEnd)}function g$(t){return m$(t),kA(t,PA(t,0,ei.textEnd))}function kA(t,e){let n=ei.textEnd;return n===e?-1:(e=ei.keyEnd=y$(t,ei.key=e,n),PA(t,e,n))}function m$(t){ei.key=0,ei.keyEnd=0,ei.value=0,ei.valueEnd=0,ei.textEnd=t.length}function PA(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function y$(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function ne(t,e,n){let i=Se(),r=$v();if(Qr(i,r,e)){let s=$t(),o=Gv();tA(s,o,i,t,e,i[bt],n,!1)}return ne}function bv(t,e,n,i,r){let s=e.inputs,o=r?"class":"style";o_(t,n,s[o],o,i)}function Un(t,e){return _$(t,e,null,!0),Un}function NA(t){b$(T$,v$,t,!0)}function v$(t,e){for(let n=g$(e);n>=0;n=kA(e,n))Ov(t,p$(e),!0)}function _$(t,e,n,i){let r=Se(),s=$t(),o=zv(2);if(s.firstUpdatePass&&FA(s,t,o,i),e!==jn&&Qr(r,o,e)){let a=s.data[Zr()];LA(s,a,r,r[bt],t,r[o+1]=S$(e,n),i,o)}}function b$(t,e,n,i){let r=$t(),s=zv(2);r.firstUpdatePass&&FA(r,null,s,i);let o=Se();if(n!==jn&&Qr(o,s,n)){let a=r.data[Zr()];if(VA(a,i)&&!OA(r,s)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Ey(c,n||"")),bv(r,a,o,n,i)}else x$(r,a,o,o[bt],o[s+1],o[s+1]=D$(t,e,n),i,s)}}function OA(t,e){return e>=t.expandoStartIndex}function FA(t,e,n,i){let r=t.data;if(r[n+1]===null){let s=r[Zr()],o=OA(t,n);VA(s,i)&&e===null&&!o&&(e=!1),e=w$(r,s,e,i),d$(r,s,e,n,o,i)}}function w$(t,e,n,i){let r=rj(t),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=_y(null,t,e,n,i),n=vl(n,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==r)if(n=_y(r,t,e,n,i),s===null){let c=I$(t,e,i);c!==void 0&&Array.isArray(c)&&(c=_y(null,t,e,c[1],i),c=vl(c,e.attrs,i),E$(t,e,i,c))}else s=C$(t,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),n}function I$(t,e,n){let i=n?e.classBindings:e.styleBindings;if(Ca(i)!==0)return t[so(i)]}function E$(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[so(r)]=i}function C$(t,e,n){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;i=vl(i,o,n)}return vl(i,e.attrs,n)}function _y(t,e,n,i,r){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],i=vl(i,s.hostAttrs,r),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function vl(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ov(t,o,n?!0:e[++s]))}return t===void 0?null:t}function D$(t,e,n){if(n==null||n==="")return pn;let i=[],r=si(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function T$(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&Ov(t,i,n)}function x$(t,e,n,i,r,s,o,a){r===jn&&(r=pn);let c=0,l=0,d=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;d!==null||h!==null;){let f=c<r.length?r[c+1]:void 0,g=l<s.length?s[l+1]:void 0,y=null,_;d===h?(c+=2,l+=2,f!==g&&(y=h,_=g)):h===null||d!==null&&d<h?(c+=2,y=d):(l+=2,y=h,_=g),y!==null&&LA(t,e,n,i,y,_,o,a),d=c<r.length?r[c]:null,h=l<s.length?s[l]:null}}function LA(t,e,n,i,r,s,o,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],d=u$(l)?XT(c,e,n,r,Ca(l),o):void 0;if(!Gh(d)){Gh(s)||c$(l)&&(s=XT(c,null,n,r,a,o));let h=Lx(Zr(),n);EU(i,o,h,r,s)}}function XT(t,e,n,i,r,s){let o=e===null,a;for(;r>0;){let c=t[r],l=Array.isArray(c),d=l?c[1]:c,h=d===null,f=n[r+1];f===jn&&(f=h?pn:void 0);let g=h?cy(f,i):d===i?f:void 0;if(l&&!Gh(g)&&(g=cy(c,i)),Gh(g)&&(a=g,o))return a;let y=t[r+1];r=o?so(y):Ca(y)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=cy(c,i))}return a}function Gh(t){return t!==void 0}function S$(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=cn(si(t)))),t}function VA(t,e){return(t.flags&(e?8:16))!==0}function A$(t,e,n,i,r,s){let o=e.consts,a=Fh(o,r),c=Tl(e,t,2,i,a);return nA(e,n,c,Fh(o,s)),c.attrs!==null&&cv(c,c.attrs,!1),c.mergedAttrs!==null&&cv(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function O(t,e,n,i){let r=Se(),s=$t(),o=ii+t,a=r[bt],c=s.firstCreatePass?A$(o,s,r,e,n,i):s.data[o],l=M$(s,r,c,a,e,t);r[o]=l;let d=Uv(c);return Il(c,!0),qS(a,l,c),!i$(c)&&Kv()&&i_(s,r,l,c),W2()===0&&no(l,r),G2(),d&&(ZS(s,r,c),XS(s,c,r)),i!==null&&JS(r,c),O}function V(){let t=ln();qx()?Wx():(t=t.parent,Il(t,!1));let e=t;Y2(e)&&Q2(),K2();let n=$t();return n.firstCreatePass&&(Qv(n,t),kx(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&dj(e)&&bv(n,e,Se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&hj(e)&&bv(n,e,Se(),e.stylesWithoutHost,!1),V}function J(t,e,n,i){return O(t,e,n,i),V(),J}var M$=(t,e,n,i,r,s)=>(Yv(!0),OS(i,r,aj()));function yt(){return Se()}var Kh="en-US";var R$=Kh;function k$(t){typeof t=="string"&&(R$=t.toLowerCase().replace(/_/g,"-"))}var P$=(t,e,n)=>{};function ke(t,e,n,i){let r=Se(),s=$t(),o=ln();return O$(s,r,r[bt],o,t,e,i),ke}function N$(t,e,n,i){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===n&&r[s+1]===i){let a=e[Ph],c=r[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function O$(t,e,n,i,r,s,o){let a=Uv(i),l=t.firstCreatePass&&cA(t),d=e[ni],h=aA(e),f=!0;if(i.type&3||o){let _=Vn(i,e),v=o?o(_):_,C=h.length,S=o?P=>o(_i(P[i.index])):i.index,k=null;if(!o&&a&&(k=N$(t,e,r,i.index)),k!==null){let P=k.__ngLastListenerFn__||k;P.__ngNextListenerFn__=s,k.__ngLastListenerFn__=s,f=!1}else{s=JT(i,e,d,s),P$(_,r,s);let P=n.listen(v,r,s);h.push(s,P),l&&l.push(r,S,C,C+1)}}else s=JT(i,e,d,s);let g=i.outputs,y;if(f&&g!==null&&(y=g[r])){let _=y.length;if(_)for(let v=0;v<_;v+=2){let C=y[v],S=y[v+1],F=e[C][S].subscribe(s),N=h.length;h.push(s,F),l&&l.push(r,i.index,N,-(N+1))}}}function ZT(t,e,n,i){let r=Ne(null);try{return gi(6,e,n),n(i)!==!1}catch(s){return lA(t,s),!1}finally{gi(7,e,n),Ne(r)}}function JT(t,e,n,i){return function r(s){if(s===Function)return i;let o=t.componentOffset>-1?Xr(t.index,e):e;c_(o,5);let a=ZT(e,n,i,s),c=r.__ngNextListenerFn__;for(;c;)a=ZT(e,n,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function De(t=1){return oj(t)}function F$(t,e){let n=null,i=f2(t);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){n=r;continue}if(i===null?vx(t,s,!0):m2(i,s))return r}return n}function p_(t){let e=Se()[Ln][yn];if(!e.projection){let n=t?t.length:1,i=e.projection=r2(n,null),r=i.slice(),s=e.child;for(;s!==null;){let o=t?F$(s,t):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function g_(t,e=0,n,i,r,s){let o=Se(),a=$t(),c=i?t+1:null;c!==null&&MA(o,a,c,i,r,s,null,n);let l=Tl(a,ii+t,16,null,n||null);l.projection===null&&(l.projection=e),Wx();let h=!o[fl]||zx();o[Ln][yn].projection[l.projection]===null&&c!==null?L$(o,a,c):h&&(l.flags&32)!==32&&wU(a,o,l)}function L$(t,e,n){let i=ii+n,r=e.data[i],s=t[i],o=tv(s,r.tView.ssrId),a=dA(t,r,void 0,{dehydratedView:o});hA(s,a,0,Jy(r,o))}function rr(t,e,n){return jA(t,"",e,"",n),rr}function jA(t,e,n,i,r){let s=Se(),o=RA(s,e,n,i);if(o!==jn){let a=$t(),c=Gv();tA(a,c,s,t,o,s[bt],r,!1)}return jA}function UA(t,e,n,i){qB(t,e,n,i)}function lo(t,e,n){HB(t,e,n)}function sr(t){let e=Se(),n=$t(),i=Yx();Hv(i+1);let r=d_(n,i);if(t.dirty&&B2(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=KB(e,i);t.reset(s,Tj),t.notifyOnChanges()}return!0}return!1}function or(){return zB(Se(),Yx())}function Jt(t){let e=Z2();return U2(e,ii+t)}function U(t,e=""){let n=Se(),i=$t(),r=t+ii,s=i.firstCreatePass?Tl(i,r,1,e,null):i.data[r],o=V$(i,n,s,e,t);n[r]=o,Kv()&&i_(i,n,o,s),Il(s,!1)}var V$=(t,e,n,i,r)=>(Yv(!0),aU(e[bt],i));function Te(t){return ns("",t,""),Te}function ns(t,e,n){let i=Se(),r=RA(i,t,e,n);return r!==jn&&uA(i,Zr(),r),ns}function Aa(t,e,n,i,r){let s=Se(),o=a$(s,t,e,n,i,r);return o!==jn&&uA(s,Zr(),o),Aa}function j$(t,e,n){let i=$t();if(i.firstCreatePass){let r=Kr(t);wv(n,i.data,i.blueprint,r,!0),wv(e,i.data,i.blueprint,r,!1)}}function wv(t,e,n,i,r){if(t=an(t),Array.isArray(t))for(let s=0;s<t.length;s++)wv(t[s],e,n,i,r);else{let s=$t(),o=Se(),a=ln(),c=ya(t)?t:an(t.provide),l=Sx(t),d=a.providerIndexes&1048575,h=a.directiveStart,f=a.providerIndexes>>20;if(ya(t)||!t.multi){let g=new eo(l,r,B),y=wy(c,e,r?d:d+f,h);y===-1?(Fy(jh(a,o),s,c),by(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(g),o.push(g)):(n[y]=g,o[y]=g)}else{let g=wy(c,e,d+f,h),y=wy(c,e,d,d+f),_=g>=0&&n[g],v=y>=0&&n[y];if(r&&!v||!r&&!_){Fy(jh(a,o),s,c);let C=$$(r?B$:U$,n.length,r,i,l);!r&&v&&(n[y].providerFactory=C),by(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(C),o.push(C)}else{let C=BA(n[r?y:g],l,!r&&i);by(s,t,g>-1?g:y,C)}!r&&i&&v&&n[y].componentProviders++}}}function by(t,e,n,i){let r=ya(e),s=x2(e);if(r||s){let c=(s?an(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let d=l.indexOf(n);d===-1?l.push(n,[i,c]):l[d+1].push(i,c)}else l.push(n,c)}}}function BA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function wy(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function U$(t,e,n,i){return Iv(this.multi,[])}function B$(t,e,n,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=to(n,n[ve],this.providerFactory.index,i);s=a.slice(0,o),Iv(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Iv(r,s);return s}function Iv(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function $$(t,e,n,i,r){let s=new eo(t,n,B);return s.multi=[],s.index=e,s.componentProviders=0,BA(s,r,i&&!n),s}function ar(t,e=[]){return n=>{n.providersResolver=(i,r)=>j$(i,r?r(t):t,e)}}var z$=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=Dx(!1,i.type),s=r.length>0?df([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=G({token:e,providedIn:"environment",factory:()=>new e($(Qt))});let t=e;return t})();function be(t){Sa("NgStandalone"),t.getStandaloneInjector=e=>e.get(z$).getOrCreateStandaloneInjector(t)}function uo(t,e,n,i){return H$(Se(),Kx(),t,e,n,i)}function $A(t,e,n,i,r){return q$(Se(),Kx(),t,e,n,i,r)}function zA(t,e){let n=t[e];return n===jn?void 0:n}function H$(t,e,n,i,r,s){let o=e+n;return Qr(t,o,r)?SA(t,o+1,s?i.call(s,r):i(r)):zA(t,o+1)}function q$(t,e,n,i,r,s,o){let a=e+n;return AA(t,a,r,s)?SA(t,a+2,o?i.call(o,r,s):i(r,s)):zA(t,a+2)}function cr(t,e){return uf(t,e)}var wi=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},HA=new wi("18.0.2"),hf=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var qA=new q("");function ho(t){return!!t&&typeof t.then=="function"}function WA(t){return!!t&&typeof t.subscribe=="function"}var ff=new q(""),GA=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=j(ff,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(ho(o))i.push(o);else if(WA(o)){let a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sl=new q("");function W$(){$D(()=>{throw new Q(600,!1)})}function G$(t){return t.isBoundToModule}var K$=10;function Y$(t,e,n){try{let i=n();return ho(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var fo=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=j(fS),this.afterRenderEffectManager=j(u_),this.zonelessEnabled=j(vA),this.externalTestViews=new Set,this.beforeRender=new tt,this.afterTick=new tt,this.componentTypes=[],this.components=[],this.isStable=j(co).hasPendingTasks.pipe(ee(i=>!i)),this._injector=j(Qt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof zh;if(!this._injector.get(GA).done){let g=!s&&wx(i),y=!1;throw new Q(405,y)}let a;s?a=i:a=this._injector.get(wa).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let c=G$(a)?void 0:this._injector.get(Yr),l=r||a.selector,d=a.create(Bt.NULL,[],l,c),h=d.location.nativeElement,f=d.injector.get(qA,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Iy(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new Q(101,!1);let r=Ne(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,Ne(r),this.afterTick.next()}}detectChangesInAttachedViews(i){let r=null;this._injector.destroyed||(r=this._injector.get(Ia,null,{optional:!0}));let s=0,o=this.afterRenderEffectManager;for(;s<K$;){let a=s===0;if(i||!a){this.beforeRender.next(a);for(let{_lView:c,notifyErrorHandler:l}of this._views)Q$(c,l,a,this.zonelessEnabled)}else r?.begin?.(),r?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:c})=>gl(c))&&(o.execute(),!this.allViews.some(({_lView:c})=>gl(c))))break}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;Iy(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(Sl,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Iy(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Q(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Iy(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Q$(t,e,n,i){if(!n&&!gl(t))return;pA(t,e,n&&!i?0:1)}var Ev=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},pf=(()=>{let e=class e{compileModuleSync(i){return new yv(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=Ix(i),o=NS(s.declarations).reduce((a,c)=>{let l=Gr(c);return l&&a.push(new Ea(l)),a},[]);return new Ev(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var X$=(()=>{let e=class e{constructor(){this.zone=j(we),this.changeDetectionScheduler=j(ba),this.applicationRef=j(fo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Z$({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new we(ez()),[{provide:we,useFactory:t},{provide:Wr,multi:!0,useFactory:()=>{let n=j(X$,{optional:!0});return()=>n.initialize()}},{provide:Wr,multi:!0,useFactory:()=>{let n=j(tz);return()=>{n.initialize()}}},{provide:fS,useFactory:J$},e===!0?{provide:_A,useValue:!0}:[]]}function J$(){let t=j(we),e=j(gn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function ez(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var tz=(()=>{let e=class e{constructor(){this.subscription=new et,this.initialized=!1,this.zone=j(we),this.pendingTasks=j(co)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var nz=(()=>{let e=class e{constructor(){this.appRef=j(fo),this.taskService=j(co),this.ngZone=j(we),this.zonelessEnabled=j(vA),this.disableScheduling=j(_A,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new et,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof sv||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&i===5)return;switch(i){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?HT:bA;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=r(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=r(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&we.isInAngularZone())}tick(i){if(this.runningTick||this.appRef.destroyed)return;let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(i)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(r),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,HT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iz(){return typeof $localize<"u"&&$localize.locale||Kh}var gf=new q("",{providedIn:"root",factory:()=>j(gf,ye.Optional|ye.SkipSelf)||iz()});var KA=new q("");var Sh=null;function rz(t=[],e){return Bt.create({name:e,providers:[{provide:Jh,useValue:"platform"},{provide:KA,useValue:new Set([()=>Sh=null])},...t]})}function sz(t=[]){if(Sh)return Sh;let e=rz(t);return Sh=e,W$(),oz(e),e}function oz(t){t.get(Zv,null)?.forEach(n=>n())}function YA(){return!1}var lr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=az;let t=e;return t})();function az(t){return cz(ln(),Se(),(t&16)===16)}function cz(t,e,n){if(tf(t)&&!n){let i=Xr(t.index,e);return new io(i,i)}else if(t.type&47){let i=e[Ln];return new io(i,e)}return null}var Cv=class{constructor(){}supports(e){return xA(e)}create(e){return new Dv(e)}},lz=(t,e)=>e,Dv=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||lz}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){let o=!i||n&&n.currentIndex<ex(i,r,s)?n:i,a=ex(o,r,s),c=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,o.previousIndex==null)r++;else{s||(s=[]);let l=a-r,d=c-r;if(l!=d){for(let f=0;f<l;f++){let g=f<s.length?s[f]:s[f]=0,y=g+f;d<=y&&y<l&&(s[f]=g+1)}let h=o.previousIndex;s[h]=d-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!xA(e))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),i=!0):(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else r=0,n$(e,a=>{o=this._trackByFn(r,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,r)):e=this._addAfter(new Tv(n,i),s,r)),e}_verifyReinsertion(e,n,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Yh),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Yh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Tv=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},xv=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},Yh=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new xv,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ex(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var Sv=class{constructor(){}supports(e){return e instanceof Map||f_(e)}create(){return new Av}},Av=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||f_(e)))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let i=e._prev;return n._next=e,n._prev=i,e._prev=n,i&&(i._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,n);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let i=new Mv(e);return this._records.set(e,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(i=>n(e[i],i))}},Mv=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function tx(){return new m_([new Cv])}var m_=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||tx()),deps:[[e,new bl,new mn]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new Q(901,!1)}};e.\u0275prov=G({token:e,providedIn:"root",factory:tx});let t=e;return t})();function nx(){return new y_([new Sv])}var y_=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||nx()),deps:[[e,new bl,new mn]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r)return r;throw new Q(901,!1)}};e.\u0275prov=G({token:e,providedIn:"root",factory:nx});let t=e;return t})();function QA(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=sz(i),s=[Z$({}),{provide:ba,useExisting:nz},...n||[]],a=new Wh({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(we);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(gn,null),d;c.runOutsideAngular(()=>{d=c.onError.subscribe({next:g=>{l.handleError(g)}})});let h=()=>a.destroy(),f=r.get(KA);return f.add(h),a.onDestroy(()=>{d.unsubscribe(),f.delete(h)}),Y$(l,c,()=>{let g=a.get(GA);return g.runInitializers(),g.donePromise.then(()=>{let y=a.get(gf,Kh);k$(y||Kh);let _=a.get(fo);return e!==void 0&&_.bootstrap(e),_})})})}catch(e){return Promise.reject(e)}}function Bn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function mf(t,e){Sa("NgSignals");let n=jD(t);return e?.equal&&(n[Fr].equal=e.equal),n}function XA(t){let e=Gr(t);if(!e)return null;let n=new Ea(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var iM=null;function dr(){return iM}function rM(t){iM??=t}var yf=class{};var ot=new q(""),C_=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>j(dz),providedIn:"platform"});let t=e;return t})(),sM=new q(""),dz=(()=>{let e=class e extends C_{constructor(){super(),this._doc=j(ot),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return dr().getBaseHref(this._doc)}onPopState(i){let r=dr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=dr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function D_(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function ZA(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function ur(t){return t&&t[0]!=="?"?"?"+t:t}var hr=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>j(T_),providedIn:"root"});let t=e;return t})(),oM=new q(""),T_=(()=>{let e=class e extends hr{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??j(ot).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return D_(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+ur(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+ur(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+ur(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)($(C_),$(oM,8))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aM=(()=>{let e=class e extends hr{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=D_(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+ur(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+ur(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)($(C_),$(oM,8))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),Ra=(()=>{let e=class e{constructor(i){this._subject=new it,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=pz(ZA(JA(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+ur(r))}normalize(i){return e.stripTrailingSlash(fz(this._basePath,JA(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ur(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ur(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=ur,e.joinWithSlash=D_,e.stripTrailingSlash=ZA,e.\u0275fac=function(r){return new(r||e)($(hr))},e.\u0275prov=G({token:e,factory:()=>hz(),providedIn:"root"});let t=e;return t})();function hz(){return new Ra($(hr))}function fz(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function JA(t){return t.replace(/\/index.html$/,"")}function pz(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function vf(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var __=/\s+/,eM=[],cM=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=eM,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(__):eM}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(__):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let s=this.stateMap.get(i);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],s=i[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(__).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(B(lt),B(Ei))},e.\u0275dir=ct({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var b_=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ci=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new b_(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,a),tM(c,s)}});for(let s=0,o=r.length;s<o;s++){let c=r.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);tM(o,s)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(B(ts),B(ro),B(m_))},e.\u0275dir=ct({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function tM(t,e){t.context.$implicit=e.item}var _n=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new w_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){nM("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){nM("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(B(ts),B(ro))},e.\u0275dir=ct({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),w_=class{constructor(){this.$implicit=null,this.ngIf=null}};function nM(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${cn(e)}'.`)}var ka=(()=>{let e=class e{constructor(i,r,s){this._ngEl=i,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){let i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,r){let[s,o]=i.split("."),a=s.indexOf("-")===-1?void 0:bi.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${r}${o}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(i){i.forEachRemovedItem(r=>this._setStyle(r.key,null)),i.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),i.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};e.\u0275fac=function(r){return new(r||e)(B(lt),B(y_),B(Ei))},e.\u0275dir=ct({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})();var xt=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Tt({type:e}),e.\u0275inj=Dt({});let t=e;return t})(),x_="browser",gz="server";function S_(t){return t===x_}function _f(t){return t===gz}var lM=(()=>{let e=class e{};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>S_(j(vn))?new I_(j(ot),window):new E_});let t=e;return t})(),I_=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=mz(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function mz(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var E_=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ma=class{};var Ml=class{},wf=class{},Pt=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),s=r.toLowerCase(),o=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var M_=class{encodeKey(e){return uM(e)}encodeValue(e){return uM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function yz(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var vz=/%(\d[a-f0-9])/gi,_z={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function uM(t){return encodeURIComponent(t).replace(vz,(e,n)=>_z[n]??e)}function bf(t){return`${t}`}var rs=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new M_,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=yz(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(bf):[bf(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(bf(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(bf(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var R_=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function bz(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function dM(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function hM(t){return typeof Blob<"u"&&t instanceof Blob}function fM(t){return typeof FormData<"u"&&t instanceof FormData}function wz(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Al=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(bz(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Pt,this.context??=new R_,!this.params)this.params=new rs,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||dM(this.body)||hM(this.body)||fM(this.body)||wz(this.body)?this.body:this.body instanceof rs?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||fM(this.body)?null:hM(this.body)?this.body.type||null:dM(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof rs?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,d=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((f,g)=>f.set(g,e.setHeaders[g]),l)),e.setParams&&(d=Object.keys(e.setParams).reduce((f,g)=>f.set(g,e.setParams[g]),d)),new t(n,i,o,{params:d,headers:l,context:h,reportProgress:c,responseType:r,withCredentials:a,transferCache:s})}},ss=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ss||{}),Rl=class{constructor(e,n=200,i="OK"){this.headers=e.headers||new Pt,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},If=class t extends Rl{constructor(e={}){super(e),this.type=ss.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},kl=class t extends Rl{constructor(e={}){super(e),this.type=ss.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},is=class extends Rl{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},yM=200,Iz=204;function A_(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var St=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,s={}){let o;if(i instanceof Al)o=i;else{let l;s.headers instanceof Pt?l=s.headers:l=new Pt(s.headers);let d;s.params&&(s.params instanceof rs?d=s.params:d=new rs({fromObject:s.params})),o=new Al(i,r,s.body!==void 0?s.body:null,{headers:l,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=Z(o).pipe(Yi(l=>this.handler.handle(l)));if(i instanceof Al||s.observe==="events")return a;let c=a.pipe(Yt(l=>l instanceof kl));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(ee(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(ee(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(ee(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(ee(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new rs().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,A_(s,r))}post(i,r,s={}){return this.request("POST",i,A_(s,r))}put(i,r,s={}){return this.request("PUT",i,A_(s,r))}};e.\u0275fac=function(r){return new(r||e)($(Ml))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),Ez=/^\)\]\}',?\n/,Cz="X-Request-URL";function pM(t){if(t.url)return t.url;let e=Cz.toLocaleLowerCase();return t.headers.get(e)}var Dz=(()=>{let e=class e{constructor(){this.fetchImpl=j(k_,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=j(we)}handle(i){return new ce(r=>{let s=new AbortController;return this.doRequest(i,s.signal,r).then(P_,o=>r.error(new is({error:o}))),()=>s.abort()})}doRequest(i,r,s){return A(this,null,function*(){let o=this.createRequestInit(i),a;try{let y=this.fetchImpl(i.urlWithParams,H({signal:r},o));Tz(y),s.next({type:ss.Sent}),a=yield y}catch(y){s.error(new is({error:y,status:y.status??0,statusText:y.statusText,url:i.urlWithParams,headers:y.headers}));return}let c=new Pt(a.headers),l=a.statusText,d=pM(a)??i.urlWithParams,h=a.status,f=null;if(i.reportProgress&&s.next(new If({headers:c,status:h,statusText:l,url:d})),a.body){let y=a.headers.get("content-length"),_=[],v=a.body.getReader(),C=0,S,k,P=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>A(this,null,function*(){for(;;){let{done:N,value:E}=yield v.read();if(N)break;if(_.push(E),C+=E.length,i.reportProgress){k=i.responseType==="text"?(k??"")+(S??=new TextDecoder).decode(E,{stream:!0}):void 0;let b=()=>s.next({type:ss.DownloadProgress,total:y?+y:void 0,loaded:C,partialText:k});P?P.run(b):b()}}}));let F=this.concatChunks(_,C);try{let N=a.headers.get("Content-Type")??"";f=this.parseBody(i,F,N)}catch(N){s.error(new is({error:N,headers:new Pt(a.headers),status:a.status,statusText:a.statusText,url:pM(a)??i.urlWithParams}));return}}h===0&&(h=f?yM:0),h>=200&&h<300?(s.next(new kl({body:f,headers:c,status:h,statusText:l,url:d})),s.complete()):s.error(new is({error:f,headers:c,status:h,statusText:l,url:d}))})}parseBody(i,r,s){switch(i.responseType){case"json":let o=new TextDecoder().decode(r).replace(Ez,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(i){let r={},s=i.withCredentials?"include":void 0;if(i.headers.forEach((o,a)=>r[o]=a.join(",")),r.Accept??="application/json, text/plain, */*",!r["Content-Type"]){let o=i.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:i.serializeBody(),method:i.method,headers:r,credentials:s}}concatChunks(i,r){let s=new Uint8Array(r),o=0;for(let a of i)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),k_=class{};function P_(){}function Tz(t){t.then(P_,P_)}function xz(t,e){return e(t)}function Sz(t,e,n){return(i,r)=>An(n,()=>e(i,s=>t(s,r)))}var vM=new q(""),Az=new q(""),Mz=new q("",{providedIn:"root",factory:()=>!0});var gM=(()=>{let e=class e extends Ml{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=j(co),this.contributeToStability=j(Mz)}handle(i){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(vM),...this.injector.get(Az,[])]));this.chain=r.reduceRight((s,o)=>Sz(s,o,this.injector),xz)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(i,s=>this.backend.handle(s)).pipe(Qi(()=>this.pendingTasks.remove(r)))}else return this.chain(i,r=>this.backend.handle(r))}};e.\u0275fac=function(r){return new(r||e)($(wf),$(Qt))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})();var Rz=/^\)\]\}',?\n/;function kz(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var mM=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new Q(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ge(r.\u0275loadImpl()):Z(null)).pipe(fn(()=>new ce(o=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((v,C)=>a.setRequestHeader(v,C.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let v=i.detectContentTypeHeader();v!==null&&a.setRequestHeader("Content-Type",v)}if(i.responseType){let v=i.responseType.toLowerCase();a.responseType=v!=="json"?v:"text"}let c=i.serializeBody(),l=null,d=()=>{if(l!==null)return l;let v=a.statusText||"OK",C=new Pt(a.getAllResponseHeaders()),S=kz(a)||i.url;return l=new If({headers:C,status:a.status,statusText:v,url:S}),l},h=()=>{let{headers:v,status:C,statusText:S,url:k}=d(),P=null;C!==Iz&&(P=typeof a.response>"u"?a.responseText:a.response),C===0&&(C=P?yM:0);let F=C>=200&&C<300;if(i.responseType==="json"&&typeof P=="string"){let N=P;P=P.replace(Rz,"");try{P=P!==""?JSON.parse(P):null}catch(E){P=N,F&&(F=!1,P={error:E,text:P})}}F?(o.next(new kl({body:P,headers:v,status:C,statusText:S,url:k||void 0})),o.complete()):o.error(new is({error:P,headers:v,status:C,statusText:S,url:k||void 0}))},f=v=>{let{url:C}=d(),S=new is({error:v,status:a.status||0,statusText:a.statusText||"Unknown Error",url:C||void 0});o.error(S)},g=!1,y=v=>{g||(o.next(d()),g=!0);let C={type:ss.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(C.total=v.total),i.responseType==="text"&&a.responseText&&(C.partialText=a.responseText),o.next(C)},_=v=>{let C={type:ss.UploadProgress,loaded:v.loaded};v.lengthComputable&&(C.total=v.total),o.next(C)};return a.addEventListener("load",h),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),i.reportProgress&&(a.addEventListener("progress",y),c!==null&&a.upload&&a.upload.addEventListener("progress",_)),a.send(c),o.next({type:ss.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",h),a.removeEventListener("timeout",f),i.reportProgress&&(a.removeEventListener("progress",y),c!==null&&a.upload&&a.upload.removeEventListener("progress",_)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)($(Ma))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),_M=new q(""),Pz="XSRF-TOKEN",Nz=new q("",{providedIn:"root",factory:()=>Pz}),Oz="X-XSRF-TOKEN",Fz=new q("",{providedIn:"root",factory:()=>Oz}),Ef=class{},Lz=(()=>{let e=class e{constructor(i,r,s){this.doc=i,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=vf(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)($(ot),$(vn),$(Nz))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})();function Vz(t,e){let n=t.url.toLowerCase();if(!j(_M)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=j(Ef).getToken(),r=j(Fz);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}function bM(...t){let e=[St,mM,gM,{provide:Ml,useExisting:gM},{provide:wf,useFactory:()=>j(Dz,{optional:!0})??j(mM)},{provide:vM,useValue:Vz,multi:!0},{provide:_M,useValue:!0},{provide:Ef,useClass:Lz}];for(let n of t)e.push(...n.\u0275providers);return ri(e)}var F_=class extends yf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},L_=class t extends F_{static makeCurrent(){rM(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=jz();return n==null?null:Uz(n)}resetBaseElement(){Pl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return vf(document.cookie,e)}},Pl=null;function jz(){return Pl=Pl||document.querySelector("base"),Pl?Pl.getAttribute("href"):null}function Uz(t){return new URL(t,document.baseURI).pathname}var Bz=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),V_=new q(""),CM=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)($(V_),$(we))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),Cf=class{constructor(e){this._doc=e}},N_="ng-app-id",DM=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_f(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${N_}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(N_),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(N_,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)($(ot),$(rf),$(Cl,8),$(vn))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),O_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},U_=/%COMP%/g,TM="%COMP%",$z=`_nghost-${TM}`,zz=`_ngcontent-${TM}`,Hz=!0,qz=new q("",{providedIn:"root",factory:()=>Hz});function Wz(t){return zz.replace(U_,t)}function Gz(t){return $z.replace(U_,t)}function xM(t,e){return e.map(n=>n.replace(U_,t))}var wM=(()=>{let e=class e{constructor(i,r,s,o,a,c,l,d=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=_f(c),this.defaultRenderer=new Nl(i,a,l,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===yi.ShadowDom&&(r=ge(H({},r),{encapsulation:yi.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof Df?s.applyToHost(i):s instanceof Ol&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case yi.Emulated:o=new Df(l,d,r,this.appId,h,a,c,f);break;case yi.ShadowDom:return new j_(l,d,i,r,a,c,this.nonce,f);default:o=new Ol(l,d,r,h,a,c,f);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)($(CM),$(DM),$(rf),$(qz),$(ot),$(vn),$(we),$(Cl))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),Nl=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(O_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(IM(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(IM(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new Q(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let s=O_[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=O_[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(bi.DashCase|bi.Important)?e.style.setProperty(n,i,r&bi.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&bi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=dr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function IM(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var j_=class extends Nl{constructor(e,n,i,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=xM(r.id,r.styles);for(let d of l){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ol=class extends Nl{constructor(e,n,i,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?xM(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Df=class extends Ol{constructor(e,n,i,r,s,o,a,c){let l=r+"-"+i.id;super(e,n,i,s,o,a,c,l),this.contentAttr=Wz(l),this.hostAttr=Gz(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},Kz=(()=>{let e=class e extends Cf{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)($(ot))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),EM=["alt","control","meta","shift"],Yz={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qz={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Xz=(()=>{let e=class e extends Cf{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dr().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),EM.forEach(d=>{let h=r.indexOf(d);h>-1&&(r.splice(h,1),a+=d+".")}),a+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(i,r){let s=Yz[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),EM.forEach(a=>{if(a!==s){let c=Qz[a];c(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)($(ot))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})();function SM(t,e){return QA(H({rootComponent:t},Zz(e)))}function Zz(t){return{appProviders:[...iH,...t?.providers??[]],platformProviders:nH}}function Jz(){L_.makeCurrent()}function eH(){return new gn}function tH(){return _S(document),document}var nH=[{provide:vn,useValue:x_},{provide:Zv,useValue:Jz,multi:!0},{provide:ot,useFactory:tH,deps:[]}];var iH=[{provide:Jh,useValue:"root"},{provide:gn,useFactory:eH,deps:[]},{provide:V_,useClass:Kz,multi:!0,deps:[ot,we,vn]},{provide:V_,useClass:Xz,multi:!0,deps:[ot]},wM,DM,CM,{provide:Ia,useExisting:wM},{provide:Ma,useClass:Bz,deps:[]},[]];var AM=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)($(ot))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var B_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=$(rH),s},providedIn:"root"});let t=e;return t})(),rH=(()=>{let e=class e extends B_{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case Zt.NONE:return r;case Zt.HTML:return es(r,"HTML")?si(r):RS(this._doc,String(r)).toString();case Zt.STYLE:return es(r,"Style")?si(r):r;case Zt.SCRIPT:if(es(r,"Script"))return si(r);throw new Q(5200,!1);case Zt.URL:return es(r,"URL")?si(r):of(String(r));case Zt.RESOURCE_URL:if(es(r,"ResourceURL"))return si(r);throw new Q(5201,!1);default:throw new Q(5202,!1)}}bypassSecurityTrustHtml(i){return wS(i)}bypassSecurityTrustStyle(i){return IS(i)}bypassSecurityTrustScript(i){return ES(i)}bypassSecurityTrustUrl(i){return CS(i)}bypassSecurityTrustResourceUrl(i){return DS(i)}};e.\u0275fac=function(r){return new(r||e)($(ot))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pe="primary",Xl=Symbol("RouteTitle"),W_=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Va(t){return new W_(t)}function sH(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function oH(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Di(t[n],e[n]))return!1;return!0}function Di(t,e){let n=t?G_(t):void 0,i=e?G_(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!BM(t[r],e[r]))return!1;return!0}function G_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function BM(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}else return t===e}function $M(t){return t.length>0?t[t.length-1]:null}function ls(t){return Zm(t)?t:ho(t)?Ge(Promise.resolve(t)):Z(t)}var aH={exact:HM,subset:qM},zM={exact:cH,subset:lH,ignored:()=>!0};function RM(t,e,n){return aH[n.paths](t.root,e.root,n.matrixParams)&&zM[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function cH(t,e){return Di(t,e)}function HM(t,e,n){if(!go(t.segments,e.segments)||!Sf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!HM(t.children[i],e.children[i],n))return!1;return!0}function lH(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>BM(t[n],e[n]))}function qM(t,e,n){return WM(t,e,e.segments,n)}function WM(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!go(r,n)||e.hasChildren()||!Sf(r,n,i))}else if(t.segments.length===n.length){if(!go(t.segments,n)||!Sf(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!qM(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!go(t.segments,r)||!Sf(t.segments,r,i)||!t.children[pe]?!1:WM(t.children[pe],e,s,i)}}function Sf(t,e,n){return e.every((i,r)=>zM[n](t[r].parameters,i.parameters))}var as=class{constructor(e=new Le([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Va(this.queryParams),this._queryParamMap}toString(){return hH.serialize(this)}},Le=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Af(this)}},po=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Va(this.parameters),this._parameterMap}toString(){return KM(this)}};function uH(t,e){return go(t,e)&&t.every((n,i)=>Di(n.parameters,e[i].parameters))}function go(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function dH(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===pe&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==pe&&(n=n.concat(e(r,i)))}),n}var Zl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>new ja,providedIn:"root"});let t=e;return t})(),ja=class{parse(e){let n=new Y_(e);return new as(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Fl(e.root,!0)}`,i=gH(e.queryParams),r=typeof e.fragment=="string"?`#${fH(e.fragment)}`:"";return`${n}${i}${r}`}},hH=new ja;function Af(t){return t.segments.map(e=>KM(e)).join("/")}function Fl(t,e){if(!t.hasChildren())return Af(t);if(e){let n=t.children[pe]?Fl(t.children[pe],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==pe&&i.push(`${r}:${Fl(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=dH(t,(i,r)=>r===pe?[Fl(t.children[pe],!1)]:[`${r}:${Fl(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[pe]!=null?`${Af(t)}/${n[0]}`:`${Af(t)}/(${n.join("//")})`}}function GM(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tf(t){return GM(t).replace(/%3B/gi,";")}function fH(t){return encodeURI(t)}function K_(t){return GM(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mf(t){return decodeURIComponent(t)}function kM(t){return Mf(t.replace(/\+/g,"%20"))}function KM(t){return`${K_(t.path)}${pH(t.parameters)}`}function pH(t){return Object.entries(t).map(([e,n])=>`;${K_(e)}=${K_(n)}`).join("")}function gH(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Tf(n)}=${Tf(r)}`).join("&"):`${Tf(n)}=${Tf(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var mH=/^[^\/()?;#]+/;function $_(t){let e=t.match(mH);return e?e[0]:""}var yH=/^[^\/()?;=#]+/;function vH(t){let e=t.match(yH);return e?e[0]:""}var _H=/^[^=?&#]+/;function bH(t){let e=t.match(_H);return e?e[0]:""}var wH=/^[^&#]+/;function IH(t){let e=t.match(wH);return e?e[0]:""}var Y_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Le([],{}):new Le([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[pe]=new Le(e,n)),i}parseSegment(){let e=$_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new po(Mf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=vH(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=$_(this.remaining);r&&(i=r,this.capture(i))}e[Mf(n)]=Mf(i)}parseQueryParam(e){let n=bH(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=IH(this.remaining);o&&(i=o,this.capture(i))}let r=kM(n),s=kM(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=$_(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Q(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=pe);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[pe]:new Le([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function YM(t){return t.segments.length>0?new Le([],{[pe]:t}):t}function QM(t){let e={};for(let[i,r]of Object.entries(t.children)){let s=QM(r);if(i===pe&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let n=new Le(t.segments,e);return EH(n)}function EH(t){if(t.numberOfChildren===1&&t.children[pe]){let e=t.children[pe];return new Le(t.segments.concat(e.segments),e.children)}return t}function $l(t){return t instanceof as}function CH(t,e,n=null,i=null){let r=XM(t);return ZM(r,e,n,i)}function XM(t){let e;function n(s){let o={};for(let c of s.children){let l=n(c);o[c.outlet]=l}let a=new Le(s.url,o);return s===t&&(e=a),a}let i=n(t.root),r=YM(i);return e??r}function ZM(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return z_(r,r,r,n,i);let s=DH(e);if(s.toRoot())return z_(r,r,new Le([],{}),n,i);let o=TH(s,r,t),a=o.processChildren?jl(o.segmentGroup,o.index,s.commands):eR(o.segmentGroup,o.index,s.commands);return z_(r,o.segmentGroup,a,n,i)}function Rf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function zl(t){return typeof t=="object"&&t!=null&&t.outlets}function z_(t,e,n,i,r){let s={};i&&Object.entries(i).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let o;t===e?o=n:o=JM(t,e,n);let a=YM(QM(o));return new as(a,s,r)}function JM(t,e,n){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===e?i[r]=n:i[r]=JM(s,e,n)}),new Le(t.segments,i)}var kf=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Rf(i[0]))throw new Q(4003,!1);let r=i.find(zl);if(r&&r!==$M(i))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function DH(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new kf(!0,0,t);let e=0,n=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new kf(n,e,i)}var Oa=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function TH(t,e,n){if(t.isAbsolute)return new Oa(e,!0,0);if(!n)return new Oa(e,!1,NaN);if(n.parent===null)return new Oa(n,!0,0);let i=Rf(t.commands[0])?0:1,r=n.segments.length-1+i;return xH(n,r,t.numberOfDoubleDots)}function xH(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Q(4005,!1);r=i.segments.length}return new Oa(i,!1,r-s)}function SH(t){return zl(t[0])?t[0].outlets:{[pe]:t}}function eR(t,e,n){if(t??=new Le([],{}),t.segments.length===0&&t.hasChildren())return jl(t,e,n);let i=AH(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new Le(t.segments.slice(0,i.pathIndex),{});return s.children[pe]=new Le(t.segments.slice(i.pathIndex),t.children),jl(s,0,r)}else return i.match&&r.length===0?new Le(t.segments,{}):i.match&&!t.hasChildren()?Q_(t,e,n):i.match?jl(t,0,r):Q_(t,e,n)}function jl(t,e,n){if(n.length===0)return new Le(t.segments,{});{let i=SH(n),r={};if(Object.keys(i).some(s=>s!==pe)&&t.children[pe]&&t.numberOfChildren===1&&t.children[pe].segments.length===0){let s=jl(t.children[pe],e,n);return new Le(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=eR(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new Le(t.segments,r)}}function AH(t,e,n){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;let o=t.segments[r],a=n[i];if(zl(a))break;let c=`${a}`,l=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!NM(c,l,o))return s;i+=2}else{if(!NM(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Q_(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(zl(s)){let c=MH(s.outlets);return new Le(i,c)}if(r===0&&Rf(n[0])){let c=t.segments[e];i.push(new po(c.path,PM(n[0]))),r++;continue}let o=zl(s)?s.outlets[pe]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&Rf(a)?(i.push(new po(o,PM(a))),r+=2):(i.push(new po(o,{})),r++)}return new Le(i,{})}function MH(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=Q_(new Le([],{}),0,i))}),e}function PM(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function NM(t,e,n){return t==n.path&&Di(e,n.parameters)}var Ul="imperative",Nt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Nt||{}),$n=class{constructor(e,n){this.id=e,this.url=n}},Ua=class extends $n{constructor(e,n,i="imperative",r=null){super(e,n),this.type=Nt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ci=class extends $n{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=Nt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},kn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(kn||{}),Pf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Pf||{}),fr=class extends $n{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Nt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},cs=class extends $n{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Nt.NavigationSkipped}},Hl=class extends $n{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=Nt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nf=class extends $n{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Nt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},X_=class extends $n{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Nt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Z_=class extends $n{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=Nt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},J_=class extends $n{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Nt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eb=class extends $n{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Nt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tb=class{constructor(e){this.route=e,this.type=Nt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},nb=class{constructor(e){this.route=e,this.type=Nt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ib=class{constructor(e){this.snapshot=e,this.type=Nt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rb=class{constructor(e){this.snapshot=e,this.type=Nt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sb=class{constructor(e){this.snapshot=e,this.type=Nt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ob=class{constructor(e){this.snapshot=e,this.type=Nt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Of=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=Nt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ql=class{},Ba=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var ab=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new Jl(this.injector),this.attachRef=null}},Jl=(()=>{let e=class e{constructor(i){this.parentInjector=i,this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new ab(this.parentInjector),this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)($(Qt))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ff=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=cb(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=cb(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=lb(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return lb(e,this._root).map(n=>n.value)}};function cb(t,e){if(t===e.value)return e;for(let n of e.children){let i=cb(t,n);if(i)return i}return null}function lb(t,e){if(t===e.value)return[e];for(let n of e.children){let i=lb(t,n);if(i.length)return i.unshift(e),i}return[]}var Rn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Na(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Lf=class extends Ff{constructor(e,n){super(e),this.snapshot=n,vb(this,e)}toString(){return this.snapshot.toString()}};function tR(t){let e=RH(t),n=new We([new po("",{})]),i=new We({}),r=new We({}),s=new We({}),o=new We(""),a=new Ue(n,i,s,o,r,pe,t,e.root);return a.snapshot=e.root,new Lf(new Rn(a,[]),e)}function RH(t){let e={},n={},i={},r="",s=new Fa([],e,i,r,n,pe,t,null,{});return new jf("",new Rn(s,[]))}var Ue=class{constructor(e,n,i,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ee(l=>l[Xl]))??Z(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>Va(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>Va(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Vf(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:H(H({},e.params),t.params),data:H(H({},e.data),t.data),resolve:H(H(H(H({},t.data),e.data),r?.data),t._resolvedData)}:i={params:H({},t.params),data:H({},t.data),resolve:H(H({},t.data),t._resolvedData??{})},r&&iR(r)&&(i.resolve[Xl]=r.title),i}var Fa=class{get title(){return this.data?.[Xl]}constructor(e,n,i,r,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Va(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Va(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},jf=class extends Ff{constructor(e,n){super(n),this.url=e,vb(this,n)}toString(){return nR(this._root)}};function vb(t,e){e.value._routerState=t,e.children.forEach(n=>vb(t,n))}function nR(t){let e=t.children.length>0?` { ${t.children.map(nR).join(", ")} } `:"";return`${t.value}${e}`}function H_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Di(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Di(e.params,n.params)||t.paramsSubject.next(n.params),oH(e.url,n.url)||t.urlSubject.next(n.url),Di(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ub(t,e){let n=Di(t.params,e.params)&&uH(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||ub(t.parent,e.parent))}function iR(t){return typeof t.title=="string"||t.title===null}var _b=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=pe,this.activateEvents=new it,this.deactivateEvents=new it,this.attachEvents=new it,this.detachEvents=new it,this.parentContexts=j(Jl),this.location=j(ts),this.changeDetector=j(lr),this.inputBinder=j(zf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new db(i,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ct({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ii]});let t=e;return t})(),db=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Ue?this.route:e===Jl?this.childContexts:this.parent.get(e,n)}},zf=new q(""),OM=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=Ws([r.queryParams,r.params,r.data]).pipe(fn(([o,a,c],l)=>(c=H(H(H({},o),a),c),l===0?Z(c):Promise.resolve(c)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=XA(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:c}of a.inputs)i.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})();function kH(t,e,n){let i=Wl(t,e._root,n?n._root:void 0);return new Lf(i,e)}function Wl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=PH(t,e,n);return new Rn(i,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Wl(t,a)),o}}let i=NH(e.value),r=e.children.map(s=>Wl(t,s));return new Rn(i,r)}}function PH(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Wl(t,i,r);return Wl(t,i)})}function NH(t){return new Ue(new We(t.url),new We(t.params),new We(t.queryParams),new We(t.fragment),new We(t.data),t.outlet,t.component,t)}var Gl=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},rR="ngNavigationCancelingError";function Uf(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=$l(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=sR(!1,kn.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function sR(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[rR]=!0,n.cancellationCode=e,n}function OH(t){return oR(t)&&$l(t.url)}function oR(t){return!!t&&t[rR]}var FH=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=_e({type:e,selectors:[["ng-component"]],standalone:!0,features:[be],decls:1,vars:0,template:function(r,s){r&1&&J(0,"router-outlet")},dependencies:[_b],encapsulation:2});let t=e;return t})();function LH(t,e){return t.providers&&!t._injector&&(t._injector=df(t.providers,e,`Route: ${t.path}`)),t._injector??e}function bb(t){let e=t.children&&t.children.map(bb),n=e?ge(H({},t),{children:e}):H({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==pe&&(n.component=FH),n}function ai(t){return t.outlet||pe}function VH(t,e){let n=t.filter(i=>ai(i)===e);return n.push(...t.filter(i=>ai(i)!==e)),n}function eu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var jH=(t,e,n,i)=>ee(r=>(new hb(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),hb=class{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),H_(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=Na(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Na(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Na(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=Na(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new ob(s.value.snapshot))}),e.children.length&&this.forwardEvent(new rb(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(H_(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),H_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=eu(r.snapshot);o.attachRef=null,o.route=r,o.injector=a??o.injector,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}},Bf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},La=class{constructor(e,n){this.component=e,this.route=n}};function UH(t,e,n){let i=t._root,r=e?e._root:null;return Ll(i,r,n,[i.value])}function BH(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ha(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!sx(t)?t:e.get(t):i}function Ll(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Na(e);return t.children.forEach(o=>{$H(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Bl(a,n.getContext(o),r)),r}function $H(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=zH(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Bf(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ll(t,e,a?a.children:null,i,r):Ll(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new La(a.outlet.component,o))}else o&&Bl(e,a,r),r.canActivateChecks.push(new Bf(i)),s.component?Ll(t,null,a?a.children:null,i,r):Ll(t,null,n,i,r);return r}function zH(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!go(t.url,e.url);case"pathParamsOrQueryParamsChange":return!go(t.url,e.url)||!Di(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ub(t,e)||!Di(t.queryParams,e.queryParams);case"paramsChange":default:return!ub(t,e)}}function Bl(t,e,n){let i=Na(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Bl(o,e.children.getContext(s),n):Bl(o,null,n):Bl(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new La(e.outlet.component,r)):n.canDeactivateChecks.push(new La(null,r)):n.canDeactivateChecks.push(new La(null,r))}function tu(t){return typeof t=="function"}function HH(t){return typeof t=="boolean"}function qH(t){return t&&tu(t.canLoad)}function WH(t){return t&&tu(t.canActivate)}function GH(t){return t&&tu(t.canActivateChild)}function KH(t){return t&&tu(t.canDeactivate)}function YH(t){return t&&tu(t.canMatch)}function aR(t){return t instanceof Ki||t?.name==="EmptyError"}var xf=Symbol("INITIAL_VALUE");function $a(){return fn(t=>Ws(t.map(e=>e.pipe(xn(1),al(xf)))).pipe(ee(e=>{for(let n of e)if(n!==!0){if(n===xf)return xf;if(n===!1||QH(n))return n}return!0}),Yt(e=>e!==xf),xn(1)))}function QH(t){return $l(t)||t instanceof Gl}function XH(t,e){return _t(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Z(ge(H({},n),{guardsResult:!0})):ZH(o,i,r,t).pipe(_t(a=>a&&HH(a)?JH(i,s,t,e):Z(a)),ee(a=>ge(H({},n),{guardsResult:a})))})}function ZH(t,e,n,i){return Ge(t).pipe(_t(r=>r4(r.component,r.route,n,e,i)),pi(r=>r!==!0,!0))}function JH(t,e,n,i){return Ge(e).pipe(Yi(r=>Br(t4(r.route.parent,i),e4(r.route,i),i4(t,r.path,n),n4(t,r.route,n))),pi(r=>r!==!0,!0))}function e4(t,e){return t!==null&&e&&e(new sb(t)),Z(!0)}function t4(t,e){return t!==null&&e&&e(new ib(t)),Z(!0)}function n4(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return Z(!0);let r=i.map(s=>gh(()=>{let o=eu(e)??n,a=Ha(s,o),c=WH(a)?a.canActivate(e,t):An(o,()=>a(e,t));return ls(c).pipe(pi())}));return Z(r).pipe($a())}function i4(t,e,n){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>BH(o)).filter(o=>o!==null).map(o=>gh(()=>{let a=o.guards.map(c=>{let l=eu(o.node)??n,d=Ha(c,l),h=GH(d)?d.canActivateChild(i,t):An(l,()=>d(i,t));return ls(h).pipe(pi())});return Z(a).pipe($a())}));return Z(s).pipe($a())}function r4(t,e,n,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Z(!0);let o=s.map(a=>{let c=eu(e)??r,l=Ha(a,c),d=KH(l)?l.canDeactivate(t,e,n,i):An(c,()=>l(t,e,n,i));return ls(d).pipe(pi())});return Z(o).pipe($a())}function s4(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return Z(!0);let s=r.map(o=>{let a=Ha(o,t),c=qH(a)?a.canLoad(e,n):An(t,()=>a(e,n));return ls(c)});return Z(s).pipe($a(),cR(i))}function cR(t){return Wm(nt(e=>{if(typeof e!="boolean")throw Uf(t,e)}),ee(e=>e===!0))}function o4(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return Z(!0);let s=r.map(o=>{let a=Ha(o,t),c=YH(a)?a.canMatch(e,n):An(t,()=>a(e,n));return ls(c)});return Z(s).pipe($a(),cR(i))}var Kl=class{constructor(e){this.segmentGroup=e||null}},Yl=class extends Error{constructor(e){super(),this.urlTree=e}};function Pa(t){return jr(new Kl(t))}function a4(t){return jr(new Q(4e3,!1))}function c4(t){return jr(sR(!1,kn.GuardRejected))}var fb=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Z(i);if(r.numberOfChildren>1||!r.children[pe])return a4(`${e.redirectTo}`);r=r.children[pe]}}applyRedirectCommands(e,n,i,r,s){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:d,url:h,outlet:f,params:g,data:y,title:_}=r,v=An(s,()=>a({params:g,data:y,queryParams:c,fragment:l,routeConfig:d,url:h,outlet:f,title:_}));if(v instanceof as)throw new Yl(v);n=v}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n[0]==="/")throw new Yl(o);return o}applyRedirectCreateUrlTree(e,n,i,r){let s=this.createSegmentGroup(e,n.root,i,r);return new as(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){let s=this.createSegments(e,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,i,r)}),new Le(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new Q(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},pb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function l4(t,e,n,i,r){let s=wb(t,e,n);return s.matched?(i=LH(e,i),o4(i,e,n,r).pipe(ee(o=>o===!0?s:H({},pb)))):Z(s)}function wb(t,e,n){if(e.path==="**")return u4(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?H({},pb):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||sH)(n,t,e);if(!r)return H({},pb);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?H(H({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function u4(t){return{matched:!0,parameters:t.length>0?$M(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function FM(t,e,n,i){return n.length>0&&f4(t,n,i)?{segmentGroup:new Le(e,h4(i,new Le(n,t.children))),slicedSegments:[]}:n.length===0&&p4(t,n,i)?{segmentGroup:new Le(t.segments,d4(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Le(t.segments,t.children),slicedSegments:n}}function d4(t,e,n,i){let r={};for(let s of n)if(Hf(t,e,s)&&!i[ai(s)]){let o=new Le([],{});r[ai(s)]=o}return H(H({},i),r)}function h4(t,e){let n={};n[pe]=e;for(let i of t)if(i.path===""&&ai(i)!==pe){let r=new Le([],{});n[ai(i)]=r}return n}function f4(t,e,n){return n.some(i=>Hf(t,e,i)&&ai(i)!==pe)}function p4(t,e,n){return n.some(i=>Hf(t,e,i))}function Hf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function g4(t,e,n,i){return ai(t)!==i&&(i===pe||!Hf(e,n,t))?!1:wb(e,t,n).matched}function m4(t,e,n){return e.length===0&&!t.children[n]}var gb=class{};function y4(t,e,n,i,r,s,o="emptyOnly"){return new mb(t,e,n,i,r,o,s).recognize()}var v4=31,mb=class{constructor(e,n,i,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new fb(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=FM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:n,rootSnapshot:i})=>{let r=new Rn(i,n),s=new jf("",r),o=CH(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Fa([],Object.freeze({}),Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),pe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,pe,n).pipe(ee(i=>({children:i,rootSnapshot:n})),fi(i=>{if(i instanceof Yl)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Kl?this.noMatchError(i):i}))}processSegmentGroup(e,n,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i,s):this.processSegment(e,n,i,i.segments,r,!0,s).pipe(ee(o=>o instanceof Rn?[o]:[]))}processChildren(e,n,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return Ge(s).pipe(Yi(o=>{let a=i.children[o],c=VH(n,o);return this.processSegmentGroup(e,c,a,o,r)}),ol((o,a)=>(o.push(...a),o)),$r(null),ny(),_t(o=>{if(o===null)return Pa(i);let a=lR(o);return _4(a),Z(a)}))}processSegment(e,n,i,r,s,o,a){return Ge(n).pipe(Yi(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,i,r,s,o,a).pipe(fi(l=>{if(l instanceof Kl)return Z(null);throw l}))),pi(c=>!!c),fi(c=>{if(aR(c))return m4(i,r,s)?Z(new gb):Pa(i);throw c}))}processSegmentAgainstRoute(e,n,i,r,s,o,a,c){return g4(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o,c):Pa(r):Pa(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o,a){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:h,remainingSegments:f}=wb(n,r,s);if(!c)return Pa(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>v4&&(this.allowRedirects=!1));let g=new Fa(s,l,Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,LM(r),ai(r),r.component??r._loadedComponent??null,r,VM(r)),y=Vf(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(y.params),g.data=Object.freeze(y.data);let _=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,h,g,e);return this.applyRedirects.lineralizeSegments(r,_).pipe(_t(v=>this.processSegment(e,i,n,v.concat(f),o,!1,a)))}matchSegmentAgainstRoute(e,n,i,r,s,o){let a=l4(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(fn(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(fn(({routes:l})=>{let d=i._loadedInjector??e,{parameters:h,consumedSegments:f,remainingSegments:g}=c,y=new Fa(f,h,Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,LM(i),ai(i),i.component??i._loadedComponent??null,i,VM(i)),_=Vf(y,o,this.paramsInheritanceStrategy);y.params=Object.freeze(_.params),y.data=Object.freeze(_.data);let{segmentGroup:v,slicedSegments:C}=FM(n,f,g,l);if(C.length===0&&v.hasChildren())return this.processChildren(d,l,v,y).pipe(ee(k=>new Rn(y,k)));if(l.length===0&&C.length===0)return Z(new Rn(y,[]));let S=ai(i)===s;return this.processSegment(d,l,v,C,S?pe:s,!0,y).pipe(ee(k=>new Rn(y,k instanceof Rn?[k]:[])))}))):Pa(n)))}getChildConfig(e,n,i){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):s4(e,n,i,this.urlSerializer).pipe(_t(r=>r?this.configLoader.loadChildren(e,n).pipe(nt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):c4(n))):Z({routes:[],injector:e})}};function _4(t){t.sort((e,n)=>e.value.outlet===pe?-1:n.value.outlet===pe?1:e.value.outlet.localeCompare(n.value.outlet))}function b4(t){let e=t.value.routeConfig;return e&&e.path===""}function lR(t){let e=[],n=new Set;for(let i of t){if(!b4(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=lR(i.children);e.push(new Rn(i.value,r))}return e.filter(i=>!n.has(i))}function LM(t){return t.data||{}}function VM(t){return t.resolve||{}}function w4(t,e,n,i,r,s){return _t(o=>y4(t,e,n,i,o.extractedUrl,r,s).pipe(ee(({state:a,tree:c})=>ge(H({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function I4(t,e){return _t(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Z(n);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of uR(c))o.add(l);let a=0;return Ge(o).pipe(Yi(c=>s.has(c)?E4(c,i,t,e):(c.data=Vf(c,c.parent,t).resolve,Z(void 0))),nt(()=>a++),oa(1),_t(c=>a===o.size?Z(n):Tn))})}function uR(t){let e=t.children.map(n=>uR(n)).flat();return[t,...e]}function E4(t,e,n,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!iR(r)&&(s[Xl]=r.title),C4(s,t,e,i).pipe(ee(o=>(t._resolvedData=o,t.data=Vf(t,t.parent,n).resolve,null)))}function C4(t,e,n,i){let r=G_(t);if(r.length===0)return Z({});let s={};return Ge(r).pipe(_t(o=>D4(t[o],e,n,i).pipe(pi(),nt(a=>{if(a instanceof Gl)throw Uf(new ja,a);s[o]=a}))),oa(1),ey(s),fi(o=>aR(o)?Tn:jr(o)))}function D4(t,e,n,i){let r=eu(e)??i,s=Ha(t,r),o=s.resolve?s.resolve(e,n):An(r,()=>s(e,n));return ls(o)}function q_(t){return fn(e=>{let n=t(e);return n?Ge(n).pipe(ee(()=>e)):Z(e)})}var dR=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===pe);return r}getResolvedTitleForRoute(i){return i.data[Xl]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>j(T4),providedIn:"root"});let t=e;return t})(),T4=(()=>{let e=class e extends dR{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)($(AM))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nu=new q("",{providedIn:"root",factory:()=>({})}),Ql=new q(""),Ib=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j(pf)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Z(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=ls(i.loadComponent()).pipe(ee(hR),nt(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),Qi(()=>{this.componentLoaders.delete(i)})),s=new ta(r,()=>new tt).pipe(ea());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=x4(r,this.compiler,i,this.onLoadEndListener).pipe(Qi(()=>{this.childrenLoaders.delete(r)})),a=new ta(o,()=>new tt).pipe(ea());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function x4(t,e,n,i){return ls(t.loadChildren()).pipe(ee(hR),_t(r=>r instanceof yl||Array.isArray(r)?Z(r):Ge(e.compileModuleAsync(r))),ee(r=>{i&&i(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(Ql,[],{optional:!0,self:!0}).flat()),{routes:o.map(bb),injector:s}}))}function S4(t){return t&&typeof t=="object"&&"default"in t}function hR(t){return S4(t)?t.default:t}var Eb=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>j(A4),providedIn:"root"});let t=e;return t})(),A4=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fR=new q(""),pR=new q("");function M4(t,e,n){let i=t.get(pR),r=t.get(ot);return t.get(we).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=r.startViewTransition(()=>(s(),R4(t))),{onViewTransitionCreated:c}=i;return c&&An(t,()=>c({transition:a,from:e,to:n})),o})}function R4(t){return new Promise(e=>{xl(e,{injector:t})})}var k4=new q(""),Cb=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new tt,this.transitionAbortSubject=new tt,this.configLoader=j(Ib),this.environmentInjector=j(Qt),this.urlSerializer=j(Zl),this.rootContexts=j(Jl),this.location=j(Ra),this.inputBindingEnabled=j(zf,{optional:!0})!==null,this.titleStrategy=j(dR),this.options=j(nu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=j(Eb),this.createViewTransition=j(fR,{optional:!0}),this.navigationErrorHandler=j(k4,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let i=s=>this.events.next(new tb(s)),r=s=>this.events.next(new nb(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(ge(H(H({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new We({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ul,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Yt(o=>o.id!==0),ee(o=>ge(H({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),fn(o=>{let a=!1,c=!1;return Z(o).pipe(fn(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",kn.SupersededByNewNavigation),Tn;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ge(H({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!d&&h!=="reload"){let f="";return this.events.next(new cs(l.id,this.urlSerializer.serialize(l.rawUrl),f,Pf.IgnoredSameUrlNavigation)),l.resolve(!1),Tn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Z(l).pipe(fn(f=>{let g=this.transitions?.getValue();return this.events.next(new Ua(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),g!==this.transitions?.getValue()?Tn:Promise.resolve(f)}),w4(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),nt(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=ge(H({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let g=new Nf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:g,source:y,restoredState:_,extras:v}=l,C=new Ua(f,this.urlSerializer.serialize(g),y,_);this.events.next(C);let S=tR(this.rootComponentType).snapshot;return this.currentTransition=o=ge(H({},l),{targetSnapshot:S,urlAfterRedirects:g,extras:ge(H({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,Z(o)}else{let f="";return this.events.next(new cs(l.id,this.urlSerializer.serialize(l.extractedUrl),f,Pf.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Tn}}),nt(l=>{let d=new X_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),ee(l=>(this.currentTransition=o=ge(H({},l),{guards:UH(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),XH(this.environmentInjector,l=>this.events.next(l)),nt(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Uf(this.urlSerializer,l.guardsResult);let d=new Z_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),Yt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",kn.GuardRejected),!1)),q_(l=>{if(l.guards.canActivateChecks.length)return Z(l).pipe(nt(d=>{let h=new J_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),fn(d=>{let h=!1;return Z(d).pipe(I4(this.paramsInheritanceStrategy,this.environmentInjector),nt({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",kn.NoDataFromResolver)}}))}),nt(d=>{let h=new eb(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),q_(l=>{let d=h=>{let f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe(nt(g=>{h.component=g}),ee(()=>{})));for(let g of h.children)f.push(...d(g));return f};return Ws(d(l.targetSnapshot.root)).pipe($r(null),xn(1))}),q_(()=>this.afterPreactivation()),fn(()=>{let{currentSnapshot:l,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return h?Ge(h).pipe(ee(()=>o)):Z(o)}),ee(l=>{let d=kH(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ge(H({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),nt(()=>{this.events.next(new ql)}),jH(this.rootContexts,i.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),xn(1),nt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ci(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),cl(this.transitionAbortSubject.pipe(nt(l=>{throw l}))),Qi(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",kn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),fi(l=>{if(c=!0,oR(l))this.events.next(new fr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),OH(l)?this.events.next(new Ba(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let d=new Hl(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let h=An(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(h instanceof Gl){let{message:f,cancellationCode:g}=Uf(this.urlSerializer,h);this.events.next(new fr(o.id,this.urlSerializer.serialize(o.extractedUrl),f,g)),this.events.next(new Ba(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(d);let f=i.errorHandler(l);o.resolve(!!f)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Tn}))}))}cancelNavigationTransition(i,r,s){let o=new fr(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function P4(t){return t!==Ul}var N4=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>j(O4),providedIn:"root"});let t=e;return t})(),yb=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},O4=(()=>{let e=class e extends yb{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Jr(e)))(s||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>j(F4),providedIn:"root"});let t=e;return t})(),F4=(()=>{let e=class e extends gR{constructor(){super(...arguments),this.location=j(Ra),this.urlSerializer=j(Zl),this.options=j(nu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=j(Eb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new as,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=tR(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Ua)this.stateMemento=this.createStateMemento();else if(i instanceof cs)this.rawUrlTree=r.initialUrl;else if(i instanceof Nf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof ql?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof fr&&(i.code===kn.GuardRejected||i.code===kn.NoDataFromResolver)?this.restoreHistory(r):i instanceof Hl?this.restoreHistory(r,!0):i instanceof ci&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=H(H({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=H(H({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Jr(e)))(s||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Vl||{});function mR(t,e){t.events.pipe(Yt(n=>n instanceof ci||n instanceof fr||n instanceof Hl||n instanceof cs),ee(n=>n instanceof ci||n instanceof cs?Vl.COMPLETE:(n instanceof fr?n.code===kn.Redirect||n.code===kn.SupersededByNewNavigation:!1)?Vl.REDIRECTING:Vl.FAILED),Yt(n=>n!==Vl.REDIRECTING),xn(1)).subscribe(()=>{e()})}function L4(t){throw t}var V4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},j4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ve=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=j(hf),this.stateManager=j(gR),this.options=j(nu,{optional:!0})||{},this.pendingTasks=j(co),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=j(Cb),this.urlSerializer=j(Zl),this.location=j(Ra),this.urlHandlingStrategy=j(Eb),this._events=new tt,this.errorHandler=this.options.errorHandler||L4,this.navigated=!1,this.routeReuseStrategy=j(N4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=j(Ql,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!j(zf,{optional:!0}),this.eventsSubscription=new et,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof fr&&r.code!==kn.Redirect&&r.code!==kn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ci)this.navigated=!0;else if(r instanceof Ba){let a=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),l=H({info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||P4(s.source)},a);this.scheduleNavigation(c,Ul,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}B4(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ul,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=H({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(bb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=r,d=l?this.currentUrlTree.fragment:a,h=null;switch(c){case"merge":h=H(H({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let f;try{let g=s?s.snapshot:this.routerState.snapshot.root;f=XM(g)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),f=this.currentUrlTree.root}return ZM(f,i,h,d??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=$l(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Ul,null,r)}navigate(i,r={skipLocationChange:!1}){return U4(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=H({},V4):r===!1?s=H({},j4):s=r,$l(i))return RM(this.currentUrlTree,i,s);let o=this.parseUrl(i);return RM(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,d;a?(c=a.resolve,l=a.reject,d=a.promise):d=new Promise((f,g)=>{c=f,l=g});let h=this.pendingTasks.add();return mR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(f=>Promise.reject(f))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function U4(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Q(4008,!1)}function B4(t){return!(t instanceof ql)&&!(t instanceof Ba)}var za=(()=>{let e=class e{constructor(i,r,s,o,a,c){this.router=i,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new tt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=i.events.subscribe(d=>{d instanceof ci&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(i!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:kS(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,i,r):s.removeAttribute(o,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(B(Ve),B(Ue),El("tabindex"),B(Ei),B(lt),B(hr))},e.\u0275dir=ct({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&ke("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&ir("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Bn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Bn],replaceUrl:[2,"replaceUrl","replaceUrl",Bn],routerLink:"routerLink"},standalone:!0,features:[ao,Ii]});let t=e;return t})(),yR=(()=>{let e=class e{get isActive(){return this._isActive}constructor(i,r,s,o,a){this.router=i,this.element=r,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new it,this.routerEventsSubscription=i.events.subscribe(c=>{c instanceof ci&&this.update()})}ngAfterContentInit(){Z(this.links.changes,Z(null)).pipe(Ur()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ge(i).pipe(Ur()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.isActiveChange.emit(i))})}isLinkActive(i){let r=$4(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?i.isActive(o,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};e.\u0275fac=function(r){return new(r||e)(B(Ve),B(lt),B(Ei),B(lr),B(za,8))},e.\u0275dir=ct({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,o){if(r&1&&UA(o,za,5),r&2){let a;sr(a=or())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Ii]});let t=e;return t})();function $4(t){return!!t.paths}var $f=class{};var z4=(()=>{let e=class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Yt(i=>i instanceof ci),Yi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=df(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Ge(s).pipe(Ur())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=Z(null);let o=s.pipe(_t(a=>a===null?Z(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return Ge([o,a]).pipe(Ur())}else return o})}};e.\u0275fac=function(r){return new(r||e)($(Ve),$(pf),$(Qt),$($f),$(Ib))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vR=new q(""),H4=(()=>{let e=class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=j(Qt),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Ua?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof ci?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof cs&&i.code===Pf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Of&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>A(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),xl(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Of(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){GS()},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})();function _R(t,...e){return ri([{provide:Ql,multi:!0,useValue:t},[],{provide:Ue,useFactory:bR,deps:[Ve]},{provide:Sl,multi:!0,useFactory:wR},e.map(n=>n.\u0275providers)])}function bR(t){return t.routerState.root}function iu(t,e){return{\u0275kind:t,\u0275providers:e}}function wR(){let t=j(Bt);return e=>{let n=t.get(fo);if(e!==n.components[0])return;let i=t.get(Ve),r=t.get(IR);t.get(Db)===1&&i.initialNavigation(),t.get(ER,null,ye.Optional)?.setUpPreloading(),t.get(vR,null,ye.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var IR=new q("",{factory:()=>new tt}),Db=new q("",{providedIn:"root",factory:()=>1});function q4(){return iu(2,[{provide:Db,useValue:0},{provide:ff,multi:!0,deps:[Bt],useFactory:e=>{let n=e.get(sM,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(Ve),s=e.get(IR);mR(r,()=>{i(!0)}),e.get(Cb).afterPreactivation=()=>(i(!0),s.closed?Z(void 0):s),r.initialNavigation()}))}}])}function W4(){return iu(3,[{provide:ff,multi:!0,useFactory:()=>{let e=j(Ve);return()=>{e.setUpLocationChangeListener()}}},{provide:Db,useValue:2}])}var ER=new q("");function G4(t){return iu(0,[{provide:ER,useExisting:z4},{provide:$f,useExisting:t}])}function K4(){return iu(8,[OM,{provide:zf,useExisting:OM}])}function Y4(t){let e=[{provide:fR,useValue:M4},{provide:pR,useValue:H({skipNextTransition:!!t?.skipInitialTransition},t)}];return iu(9,e)}var jM=new q("ROUTER_FORROOT_GUARD"),Q4=[Ra,{provide:Zl,useClass:ja},Ve,Jl,{provide:Ue,useFactory:bR,deps:[Ve]},Ib,[]],qf=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[Q4,[],{provide:Ql,multi:!0,useValue:i},{provide:jM,useFactory:e5,deps:[[Ve,new mn,new bl]]},{provide:nu,useValue:r||{}},r?.useHash?Z4():J4(),X4(),r?.preloadingStrategy?G4(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?t5(r):[],r?.bindToComponentInputs?K4().\u0275providers:[],r?.enableViewTransitions?Y4().\u0275providers:[],n5()]}}static forChild(i){return{ngModule:e,providers:[{provide:Ql,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)($(jM,8))},e.\u0275mod=Tt({type:e}),e.\u0275inj=Dt({});let t=e;return t})();function X4(){return{provide:vR,useFactory:()=>{let t=j(lM),e=j(we),n=j(nu),i=j(Cb),r=j(Zl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new H4(r,i,t,e,n)}}}function Z4(){return{provide:hr,useClass:aM}}function J4(){return{provide:hr,useClass:T_}}function e5(t){return"guarded"}function t5(t){return[t.initialNavigation==="disabled"?W4().\u0275providers:[],t.initialNavigation==="enabledBlocking"?q4().\u0275providers:[]]}var UM=new q("");function n5(){return[{provide:UM,useFactory:wR},{provide:Sl,multi:!0,useExisting:UM}]}var kR=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(B(Ei),B(lt))},e.\u0275dir=ct({type:e});let t=e;return t})(),i5=(()=>{let e=class e extends kR{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Jr(e)))(s||e)}})(),e.\u0275dir=ct({type:e,features:[nr]});let t=e;return t})(),PR=new q("");var r5={provide:PR,useExisting:oo(()=>Jf),multi:!0};function s5(){let t=dr()?dr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var o5=new q(""),Jf=(()=>{let e=class e extends kR{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!s5())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(B(Ei),B(lt),B(o5,8))},e.\u0275dir=ct({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&ke("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[ar([r5]),nr]});let t=e;return t})();function a5(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var xb=new q(""),NR=new q("");function c5(t){return a5(t.value)?{required:!0}:null}function CR(t){return null}function OR(t){return t!=null}function FR(t){return ho(t)?Ge(t):t}function LR(t){let e={};return t.forEach(n=>{e=n!=null?H(H({},e),n):e}),Object.keys(e).length===0?null:e}function VR(t,e){return e.map(n=>n(t))}function l5(t){return!t.validate}function jR(t){return t.map(e=>l5(e)?e:n=>e.validate(n))}function u5(t){if(!t)return null;let e=t.filter(OR);return e.length==0?null:function(n){return LR(VR(n,e))}}function Sb(t){return t!=null?u5(jR(t)):null}function d5(t){if(!t)return null;let e=t.filter(OR);return e.length==0?null:function(n){let i=VR(n,e).map(FR);return sl(i).pipe(ee(LR))}}function Ab(t){return t!=null?d5(jR(t)):null}function DR(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function h5(t){return t._rawValidators}function f5(t){return t._rawAsyncValidators}function Tb(t){return t?Array.isArray(t)?t:[t]:[]}function Gf(t,e){return Array.isArray(t)?t.includes(e):t===e}function TR(t,e){let n=Tb(e);return Tb(t).forEach(r=>{Gf(n,r)||n.push(r)}),n}function xR(t,e){return Tb(e).filter(n=>!Gf(t,n))}var Kf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Sb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ab(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ga=class extends Kf{get formDirective(){return null}get path(){return null}},lu=class extends Kf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Yf=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},p5={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},zoe=ge(H({},p5),{"[class.ng-submitted]":"isSubmitted"}),UR=(()=>{let e=class e extends Yf{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(B(lu,2))},e.\u0275dir=ct({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Un("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[nr]});let t=e;return t})(),BR=(()=>{let e=class e extends Yf{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(B(Ga,10))},e.\u0275dir=ct({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&Un("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[nr]});let t=e;return t})();var ru="VALID",Wf="INVALID",qa="PENDING",su="DISABLED",Ka=class{},Qf=class extends Ka{constructor(e,n){super(),this.value=e,this.source=n}},au=class extends Ka{constructor(e,n){super(),this.pristine=e,this.source=n}},cu=class extends Ka{constructor(e,n){super(),this.touched=e,this.source=n}},Wa=class extends Ka{constructor(e,n){super(),this.status=e,this.source=n}};function $R(t){return(ep(t)?t.validators:t)||null}function g5(t){return Array.isArray(t)?Sb(t):t||null}function zR(t,e){return(ep(e)?e.asyncValidators:t)||null}function m5(t){return Array.isArray(t)?Ab(t):t||null}function ep(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function y5(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new Q(1e3,"");if(!i[n])throw new Q(1001,"")}function v5(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new Q(1002,"")})}var Xf=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new tt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ru}get invalid(){return this.status===Wf}get pending(){return this.status==qa}get disabled(){return this.status===su}get enabled(){return this.status!==su}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(TR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(xR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(xR(e,this._rawAsyncValidators))}hasValidator(e){return Gf(this._rawValidators,e)}hasAsyncValidator(e){return Gf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ge(H({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new cu(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),n&&e.emitEvent!==!1&&this._events.next(new cu(!1,i))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ge(H({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new au(!1,i))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),n&&e.emitEvent!==!1&&this._events.next(new au(!0,i))}markAsPending(e={}){this.status=qa;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wa(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ge(H({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=su,this.errors=null,this._forEachChild(r=>{r.disable(ge(H({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qf(this.value,i)),this._events.next(new Wa(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ge(H({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ru,this._forEachChild(i=>{i.enable(ge(H({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ge(H({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ru||this.status===qa)&&this._runAsyncValidator(i,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qf(this.value,n)),this._events.next(new Wa(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ge(H({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?su:ru}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=qa,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=FR(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Wa(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,i)}_initObservables(){this.valueChanges=new it,this.statusChanges=new it}_calculateStatus(){return this._allControlsDisabled()?su:this.errors?Wf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qa)?qa:this._anyControlsHaveStatus(Wf)?Wf:ru}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new au(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new cu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ep(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=g5(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=m5(this._rawAsyncValidators)}},Zf=class extends Xf{constructor(e,n,i){super($R(n),zR(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){v5(this,!0,e),Object.keys(e).forEach(i=>{y5(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Mb=new q("CallSetDisabledState",{providedIn:"root",factory:()=>Rb}),Rb="always";function _5(t,e){return[...e.path,t]}function HR(t,e,n=Rb){qR(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),w5(t,e),E5(t,e),I5(t,e),b5(t,e)}function SR(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function b5(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function qR(t,e){let n=h5(t);e.validator!==null?t.setValidators(DR(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=f5(t);e.asyncValidator!==null?t.setAsyncValidators(DR(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();SR(e._rawValidators,r),SR(e._rawAsyncValidators,r)}function w5(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&WR(t,e)})}function I5(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&WR(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function WR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function E5(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function C5(t,e){t==null,qR(t,e)}function D5(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function T5(t){return Object.getPrototypeOf(t.constructor)===i5}function x5(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function S5(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===Jf?n=s:T5(s)?i=s:r=s}),r||i||n||null}var A5={provide:Ga,useExisting:oo(()=>kb)},ou=Promise.resolve(),kb=(()=>{let e=class e extends Ga{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new it,this.form=new Zf({},Sb(i),Ab(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){ou.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),HR(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){ou.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){ou.then(()=>{let r=this._findContainer(i.path),s=new Zf({});C5(s,i),r.registerControl(i.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){ou.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){ou.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,x5(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(B(xb,10),B(NR,10),B(Mb,8))},e.\u0275dir=ct({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){r&1&&ke("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ar([A5]),nr]});let t=e;return t})();function AR(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function MR(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var M5=class extends Xf{constructor(e=null,n,i){super($R(n),zR(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ep(n)&&(n.nonNullable||n.initialValueIsDefault)&&(MR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){AR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){AR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){MR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var R5={provide:lu,useExisting:oo(()=>Pb)},RR=Promise.resolve(),Pb=(()=>{let e=class e extends lu{constructor(i,r,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new M5,this._registered=!1,this.name="",this.update=new it,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=S5(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),D5(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){HR(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){RR.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&Bn(r);RR.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?_5(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(B(Ga,9),B(xb,10),B(NR,10),B(PR,10),B(lr,8),B(Mb,8))},e.\u0275dir=ct({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ar([R5]),nr,Ii]});let t=e;return t})(),GR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ct({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var k5=(()=>{let e=class e{constructor(){this._validator=CR}ngOnChanges(i){if(this.inputName in i){let r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):CR,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ct({type:e,features:[Ii]});let t=e;return t})();var P5={provide:xb,useExisting:oo(()=>Nb),multi:!0};var Nb=(()=>{let e=class e extends k5{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Bn,this.createValidator=i=>c5}enabled(i){return i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Jr(e)))(s||e)}})(),e.\u0275dir=ct({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,s){r&2&&ir("required",s._enabled?"":null)},inputs:{required:"required"},features:[ar([P5]),nr]});let t=e;return t})();var N5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Tt({type:e}),e.\u0275inj=Dt({});let t=e;return t})();var tp=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Mb,useValue:i.callSetDisabledState??Rb}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Tt({type:e}),e.\u0275inj=Dt({imports:[N5]});let t=e;return t})();var mo=class{constructor(e,n,i,r){this.email=e,this.id=n,this._token=i,this._tokenExpirationDate=r}get token(){return!this._tokenExpirationDate||new Date>new Date(this._tokenExpirationDate)?null:(console.log(this._tokenExpirationDate),console.log(new Date),this._token)}};var YR=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},F5=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},QR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,l=c?t[r+2]:0,d=s>>2,h=(s&3)<<4|a>>4,f=(a&15)<<2|l>>6,g=l&63;c||(g=64,o||(f=64)),i.push(n[d],n[h],n[f],n[g])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):F5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let l=r<t.length?n[t.charAt(r)]:64;++r;let h=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||l==null||h==null)throw new Fb;let f=s<<2|a>>4;if(i.push(f),l!==64){let g=a<<4&240|l>>2;if(i.push(g),h!==64){let y=l<<6&192|h;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Fb=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},L5=function(t){let e=YR(t);return QR.encodeByteArray(e,!0)},uu=function(t){return L5(t).replace(/\./g,"")},Vb=function(t){try{return QR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function V5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var j5=()=>V5().__FIREBASE_DEFAULTS__,U5=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},B5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Vb(t[1]);return e&&JSON.parse(e)},ip=()=>{try{return j5()||U5()||B5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jb=t=>{var e,n;return(n=(e=ip())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},XR=t=>{let e=jb(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Ub=()=>{var t;return(t=ip())===null||t===void 0?void 0:t.config},Bb=t=>{var e;return(e=ip())===null||e===void 0?void 0:e[`_${t}`]};var np=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function ZR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[uu(JSON.stringify(n)),uu(JSON.stringify(o)),""].join(".")}function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function $5(){var t;let e=(t=ip())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ek(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nk(){let t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ik(){return!$5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $b(){try{return typeof indexedDB=="object"}catch{return!1}}function rk(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var z5="FirebaseError",Nn=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=z5,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pr.prototype.create)}},pr=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?H5(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Nn(r,a,i)}};function H5(t,e){return t.replace(q5,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var q5=/\{\$([^}]+)}/g;function sk(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function us(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let s=t[r],o=e[r];if(KR(s)&&KR(o)){if(!us(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function KR(t){return t!==null&&typeof t=="object"}function du(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ok(t,e){let n=new Lb(t,e);return n.subscribe.bind(n)}var Lb=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");W5(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Ob),r.error===void 0&&(r.error=Ob),r.complete===void 0&&(r.complete=Ob);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function W5(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ob(){}var Koe=4*60*60*1e3;function un(t){return t&&t._delegate?t._delegate:t}var zn=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var yo="[DEFAULT]";var zb=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new np;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(K5(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return A(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=yo){return this.instances.has(e)}getOptions(e=yo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:G5(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=yo){return this.component?this.component.multipleInstances?e:yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function G5(t){return t===yo?void 0:t}function K5(t){return t.instantiationMode==="EAGER"}var rp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new zb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Y5=[],Ee=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ee||{}),Q5={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},X5=Ee.INFO,Z5={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},J5=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=Z5[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ds=class{constructor(e){this.name=e,this._logLevel=X5,this._logHandler=J5,this._userLogHandler=null,Y5.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Q5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}};var e3=(t,e)=>e.some(n=>t instanceof n),ak,ck;function t3(){return ak||(ak=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n3(){return ck||(ck=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var lk=new WeakMap,qb=new WeakMap,uk=new WeakMap,Hb=new WeakMap,Gb=new WeakMap;function i3(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ti(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lk.set(n,t)}).catch(()=>{}),Gb.set(e,t),e}function r3(t){if(qb.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});qb.set(t,e)}var Wb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ti(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dk(t){Wb=t(Wb)}function s3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(sp(this),e,...n);return uk.set(i,e.sort?e.sort():[e]),Ti(i)}:n3().includes(t)?function(...e){return t.apply(sp(this),e),Ti(lk.get(this))}:function(...e){return Ti(t.apply(sp(this),e))}}function o3(t){return typeof t=="function"?s3(t):(t instanceof IDBTransaction&&r3(t),e3(t,t3())?new Proxy(t,Wb):t)}function Ti(t){if(t instanceof IDBRequest)return i3(t);if(Hb.has(t))return Hb.get(t);let e=o3(t);return e!==t&&(Hb.set(t,e),Gb.set(e,t)),e}var sp=t=>Gb.get(t);function fk(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(t,e),a=Ti(o);return i&&o.addEventListener("upgradeneeded",c=>{i(Ti(o.result),c.oldVersion,c.newVersion,Ti(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var a3=["get","getKey","getAll","getAllKeys","count"],c3=["put","add","delete","clear"],Kb=new Map;function hk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kb.get(e))return Kb.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=c3.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||a3.includes(n)))return;let s=function(o,...a){return A(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),r&&c.done]))[0]})};return Kb.set(e,s),s}dk(t=>ge(H({},t),{get:(e,n,i)=>hk(e,n)||t.get(e,n,i),has:(e,n)=>!!hk(e,n)||t.has(e,n)}));var Qb=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(l3(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function l3(t){let e=t.getComponent();return e?.type==="VERSION"}var Xb="@firebase/app",pk="0.10.5";var vo=new ds("@firebase/app"),u3="@firebase/app-compat",d3="@firebase/analytics-compat",h3="@firebase/analytics",f3="@firebase/app-check-compat",p3="@firebase/app-check",g3="@firebase/auth",m3="@firebase/auth-compat",y3="@firebase/database",v3="@firebase/database-compat",_3="@firebase/functions",b3="@firebase/functions-compat",w3="@firebase/installations",I3="@firebase/installations-compat",E3="@firebase/messaging",C3="@firebase/messaging-compat",D3="@firebase/performance",T3="@firebase/performance-compat",x3="@firebase/remote-config",S3="@firebase/remote-config-compat",A3="@firebase/storage",M3="@firebase/storage-compat",R3="@firebase/firestore",k3="@firebase/vertexai-preview",P3="@firebase/firestore-compat",N3="firebase",O3="10.12.2";var Zb="[DEFAULT]",F3={[Xb]:"fire-core",[u3]:"fire-core-compat",[h3]:"fire-analytics",[d3]:"fire-analytics-compat",[p3]:"fire-app-check",[f3]:"fire-app-check-compat",[g3]:"fire-auth",[m3]:"fire-auth-compat",[y3]:"fire-rtdb",[v3]:"fire-rtdb-compat",[_3]:"fire-fn",[b3]:"fire-fn-compat",[w3]:"fire-iid",[I3]:"fire-iid-compat",[E3]:"fire-fcm",[C3]:"fire-fcm-compat",[D3]:"fire-perf",[T3]:"fire-perf-compat",[x3]:"fire-rc",[S3]:"fire-rc-compat",[A3]:"fire-gcs",[M3]:"fire-gcs-compat",[R3]:"fire-fst",[P3]:"fire-fst-compat",[k3]:"fire-vertex","fire-js":"fire-js",[N3]:"fire-js-all"};var hu=new Map,L3=new Map,Jb=new Map;function gk(t,e){try{t.container.addComponent(e)}catch(n){vo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fs(t){let e=t.name;if(Jb.has(e))return vo.debug(`There were multiple attempts to register component ${e}.`),!1;Jb.set(e,t);for(let n of hu.values())gk(n,t);for(let n of L3.values())gk(n,t);return!0}function pu(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gr(t){return t.settings!==void 0}var V3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new pr("app","Firebase",V3);var e0=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}};var ps=O3;function i0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Zb,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw hs.create("bad-app-name",{appName:String(r)});if(n||(n=Ub()),!n)throw hs.create("no-options");let s=hu.get(r);if(s){if(us(n,s.options)&&us(i,s.config))return s;throw hs.create("duplicate-app",{appName:r})}let o=new rp(r);for(let c of Jb.values())o.addComponent(c);let a=new e0(n,i,o);return hu.set(r,a),a}function Ya(t=Zb){let e=hu.get(t);if(!e&&t===Zb&&Ub())return i0();if(!e)throw hs.create("no-app",{appName:t});return e}function op(){return Array.from(hu.values())}function Ot(t,e,n){var i;let r=(i=F3[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vo.warn(a.join(" "));return}fs(new zn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var j3="firebase-heartbeat-database",U3=1,fu="firebase-heartbeat-store",Yb=null;function _k(){return Yb||(Yb=fk(j3,U3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fu)}catch(n){console.warn(n)}}}}).catch(t=>{throw hs.create("idb-open",{originalErrorMessage:t.message})})),Yb}function B3(t){return A(this,null,function*(){try{let n=(yield _k()).transaction(fu),i=yield n.objectStore(fu).get(bk(t));return yield n.done,i}catch(e){if(e instanceof Nn)vo.warn(e.message);else{let n=hs.create("idb-get",{originalErrorMessage:e?.message});vo.warn(n.message)}}})}function mk(t,e){return A(this,null,function*(){try{let i=(yield _k()).transaction(fu,"readwrite");yield i.objectStore(fu).put(e,bk(t)),yield i.done}catch(n){if(n instanceof Nn)vo.warn(n.message);else{let i=hs.create("idb-set",{originalErrorMessage:n?.message});vo.warn(i.message)}}})}function bk(t){return`${t.name}!${t.options.appId}`}var $3=1024,z3=30*24*60*60*1e3,t0=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new n0(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return A(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yk();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=z3}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return A(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=yk(),{heartbeatsToSend:i,unsentEntries:r}=H3(this._heartbeatsCache.heartbeats),s=uu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function yk(){return new Date().toISOString().substring(0,10)}function H3(t,e=$3){let n=[],i=t.slice();for(let r of t){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),vk(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),vk(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var n0=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return A(this,null,function*(){return $b()?rk().then(()=>!0).catch(()=>!1):!1})}read(){return A(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield B3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return A(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return mk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return A(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return mk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function vk(t){return uu(JSON.stringify({version:2,heartbeats:t})).length}function q3(t){fs(new zn("platform-logger",e=>new Qb(e),"PRIVATE")),fs(new zn("heartbeat",e=>new t0(e),"PRIVATE")),Ot(Xb,pk,t),Ot(Xb,pk,"esm2017"),Ot("fire-js","")}q3("");function Lk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Vk=Lk,jk=new pr("auth","Firebase",Lk());var hp=new ds("@firebase/auth");function W3(t,...e){hp.logLevel<=Ee.WARN&&hp.warn(`Auth (${ps}): ${t}`,...e)}function cp(t,...e){hp.logLevel<=Ee.ERROR&&hp.error(`Auth (${ps}): ${t}`,...e)}function ms(t,...e){throw D0(t,...e)}function bo(t,...e){return D0(t,...e)}function Uk(t,e,n){let i=Object.assign(Object.assign({},Vk()),{[e]:n});return new pr("auth","Firebase",i).create(e,{appName:t.name})}function _o(t){return Uk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function D0(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return jk.create(t,...e)}function ie(t,e,...n){if(!t)throw D0(e,...n)}function mr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw cp(e),new Error(e)}function ys(t,e){t||mr(e)}function a0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function G3(){return wk()==="http:"||wk()==="https:"}function wk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function K3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(G3()||ek()||"connection"in navigator)?navigator.onLine:!0}function Y3(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var wo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ys(n>e,"Short delay should be less than long delay!"),this.isMobile=JR()||tk()}get(){return K3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function T0(t,e){ys(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var fp=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Q3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var X3=new wo(3e4,6e4);function wu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function vs(s,o,a,c){return A(this,arguments,function*(t,e,n,i,r={}){return Bk(t,r,()=>A(this,null,function*(){let l={},d={};i&&(e==="GET"?d=i:l={body:JSON.stringify(i)});let h=du(Object.assign({key:t.config.apiKey},d)).slice(1),f=yield t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),fp.fetch()($k(t,t.config.apiHost,n,h),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},l))}))})}function Bk(t,e,n){return A(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},Q3),e);try{let r=new c0(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw ap(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ap(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ap(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ap(t,"user-disabled",o);let d=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Uk(t,d,l);ms(t,d)}}catch(r){if(r instanceof Nn)throw r;ms(t,"network-request-failed",{message:String(r)})}})}function Z3(s,o,a,c){return A(this,arguments,function*(t,e,n,i,r={}){let l=yield vs(t,e,n,i,r);return"mfaPendingCredential"in l&&ms(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function $k(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?T0(t.config,r):`${t.config.apiScheme}://${r}`}function J3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var c0=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(bo(this.auth,"network-request-failed")),X3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ap(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=bo(t,e,i);return r.customData._tokenResponse=n,r}function Ik(t){return t!==void 0&&t.enterprise!==void 0}var l0=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return J3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function eq(t,e){return A(this,null,function*(){return vs(t,"GET","/v2/recaptchaConfig",wu(t,e))})}function tq(t,e){return A(this,null,function*(){return vs(t,"POST","/v1/accounts:delete",e)})}function zk(t,e){return A(this,null,function*(){return vs(t,"POST","/v1/accounts:lookup",e)})}function gu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function x0(t,e=!1){return A(this,null,function*(){let n=un(t),i=yield n.getIdToken(e),r=S0(i);ie(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:gu(r0(r.auth_time)),issuedAtTime:gu(r0(r.iat)),expirationTime:gu(r0(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function r0(t){return Number(t)*1e3}function S0(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return cp("JWT malformed, contained fewer than 3 sections"),null;try{let r=Vb(n);return r?JSON.parse(r):(cp("Failed to decode base64 JWT payload"),null)}catch(r){return cp("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Ek(t){let e=S0(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function yu(t,e,n=!1){return A(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof Nn&&nq(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function nq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var u0=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>A(this,null,function*(){yield this.iteration()}),n)}iteration(){return A(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var vu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function pp(t){return A(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield yu(t,zk(n,{idToken:i}));ie(r?.users.length,n,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Hk(s.providerUserInfo):[],a=iq(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,d=c?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new vu(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)})}function A0(t){return A(this,null,function*(){let e=un(t);yield pp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function iq(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Hk(t){return t.map(e=>{var{providerId:n}=e,i=Xm(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function rq(t,e){return A(this,null,function*(){let n=yield Bk(t,{},()=>A(this,null,function*(){let i=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=$k(t,r,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",fp.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function sq(t,e){return A(this,null,function*(){return vs(t,"POST","/v2/accounts:revokeToken",wu(t,e))})}var mu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ek(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");let n=Ek(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return A(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return A(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield rq(e,n);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new t;return i&&(ie(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(ie(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return mr("not implemented")}};function gs(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Qa=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=Xm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new u0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vu(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return A(this,null,function*(){let n=yield yu(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return x0(this,e)}reload(){return A0(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return A(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield pp(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return A(this,null,function*(){if(gr(this.auth.app))return Promise.reject(_o(this.auth));let e=yield this.getIdToken();return yield yu(this,tq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,c,l,d;let h=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,C=(l=n.createdAt)!==null&&l!==void 0?l:void 0,S=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:k,emailVerified:P,isAnonymous:F,providerData:N,stsTokenManager:E}=n;ie(k&&E,e,"internal-error");let b=mu.fromJSON(this.name,E);ie(typeof k=="string",e,"internal-error"),gs(h,e.name),gs(f,e.name),ie(typeof P=="boolean",e,"internal-error"),ie(typeof F=="boolean",e,"internal-error"),gs(g,e.name),gs(y,e.name),gs(_,e.name),gs(v,e.name),gs(C,e.name),gs(S,e.name);let I=new t({uid:k,auth:e,email:f,emailVerified:P,displayName:h,isAnonymous:F,photoURL:y,phoneNumber:g,tenantId:_,stsTokenManager:b,createdAt:C,lastLoginAt:S});return N&&Array.isArray(N)&&(I.providerData=N.map(T=>Object.assign({},T))),v&&(I._redirectEventId=v),I}static _fromIdTokenResponse(e,n,i=!1){return A(this,null,function*(){let r=new mu;r.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield pp(s),s})}static _fromGetAccountInfoResponse(e,n,i){return A(this,null,function*(){let r=n.users[0];ie(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?Hk(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new mu;a.updateFromIdToken(i);let c=new t({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new vu(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var Ck=new Map;function yr(t){ys(t instanceof Function,"Expected a class definition");let e=Ck.get(t);return e?(ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ck.set(t,e),e)}var oq=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return A(this,null,function*(){return!0})}_set(n,i){return A(this,null,function*(){this.storage[n]=i})}_get(n){return A(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return A(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),d0=oq;function lp(t,e,n){return`firebase:${t}:${e}:${n}`}var gp=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=lp(this.userKey,r.apiKey,s),this.fullPersistenceKey=lp("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return A(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Qa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return A(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return A(this,null,function*(){if(!n.length)return new t(yr(d0),e,i);let r=(yield Promise.all(n.map(l=>A(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=r[0]||yr(d0),o=lp(i,e.config.apiKey,e.name),a=null;for(let l of n)try{let d=yield l._get(o);if(d){let h=Qa._fromJSON(e,d);l!==s&&(a=h),s=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,i):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>A(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,i))})}};function Dk(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yk(e))return"Blackberry";if(Qk(e))return"Webos";if(M0(e))return"Safari";if((e.includes("chrome/")||Wk(e))&&!e.includes("edge/"))return"Chrome";if(Kk(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function qk(t=At()){return/firefox\//i.test(t)}function M0(t=At()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wk(t=At()){return/crios\//i.test(t)}function Gk(t=At()){return/iemobile/i.test(t)}function Kk(t=At()){return/android/i.test(t)}function Yk(t=At()){return/blackberry/i.test(t)}function Qk(t=At()){return/webos/i.test(t)}function Ep(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aq(t=At()){var e;return Ep(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cq(){return nk()&&document.documentMode===10}function Xk(t=At()){return Ep(t)||Kk(t)||Qk(t)||Yk(t)||/windows phone/i.test(t)||Gk(t)}function lq(){try{return!!(window&&window!==window.top)}catch{return!1}}function Zk(t,e=[]){let n;switch(t){case"Browser":n=Dk(At());break;case"Worker":n=`${Dk(At())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ps}/${i}`}var h0=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return A(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function uq(n){return A(this,arguments,function*(t,e={}){return vs(t,"GET","/v2/passwordPolicy",wu(t,e))})}var dq=6,f0=class{constructor(e){var n,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:dq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var p0=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mp(this),this.idTokenSubscription=new mp(this),this.beforeStateQueue=new h0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yr(n)),this._initializationPromise=this.queue(()=>A(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield gp.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return A(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return A(this,null,function*(){try{let n=yield zk(this,{idToken:e}),i=yield Qa._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return A(this,null,function*(){var n;if(gr(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return A(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return A(this,null,function*(){try{yield pp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Y3()}_delete(){return A(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return A(this,null,function*(){if(gr(this.app))return Promise.reject(_o(this));let n=e?un(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return A(this,null,function*(){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>A(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return A(this,null,function*(){return gr(this.app)?Promise.reject(_o(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return gr(this.app)?Promise.reject(_o(this)):this.queue(()=>A(this,null,function*(){yield this.assertedPersistence.setPersistence(yr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return A(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return A(this,null,function*(){let e=yield uq(this),n=new f0(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pr("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return A(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield sq(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return A(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return A(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&yr(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=yield gp.create(this,[yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return A(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>A(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return A(this,null,function*(){if(e===this.currentUser)return this.queue(()=>A(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return A(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return A(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return A(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&W3(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Iu(t){return un(t)}var mp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ok(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Cp={loadJS(){return A(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hq(t){Cp=t}function Jk(t){return Cp.loadJS(t)}function fq(){return Cp.recaptchaEnterpriseScript}function pq(){return Cp.gapiScript}function eP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var gq="recaptcha-enterprise",mq="NO_RECAPTCHA",g0=class{constructor(e){this.type=gq,this.auth=Iu(e)}verify(e="verify",n=!1){return A(this,null,function*(){function i(s){return A(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>A(this,null,function*(){eq(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new l0(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})}))})}function r(s,o,a){let c=window.grecaptcha;Ik(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(mq)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&Ik(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=fq();c.length!==0&&(c+=a),Jk(c).then(()=>{r(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function Tk(t,e,n,i=!1){return A(this,null,function*(){let r=new g0(t),s;try{s=yield r.verify(n)}catch{s=yield r.verify(n,!0)}let o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function yq(t,e,n,i){return A(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield Tk(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(s=>A(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield Tk(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)}))})}function R0(t,e){let n=pu(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),s=n.getOptions();if(us(s,e??{}))return r;ms(r,"already-initialized")}return n.initialize({options:e})}function vq(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(yr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function k0(t,e,n){let i=Iu(t);ie(i._canInitEmulator,i,"emulator-config-failed"),ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,s=tP(e),{host:o,port:a}=_q(e),c=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||bq()}function tP(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _q(t){let e=tP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:xk(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:xk(o)}}}function xk(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function bq(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var yp=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mr("not implemented")}_getIdTokenResponse(e){return mr("not implemented")}_linkToIdToken(e,n){return mr("not implemented")}_getReauthenticationResolver(e){return mr("not implemented")}};function wq(t,e){return A(this,null,function*(){return vs(t,"POST","/v1/accounts:sendOobCode",wu(t,e))})}function Iq(t,e){return A(this,null,function*(){return wq(t,e)})}function s0(t,e){return A(this,null,function*(){return Z3(t,"POST","/v1/accounts:signInWithIdp",wu(t,e))})}var vp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var m0=class extends vp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var _u=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return A(this,null,function*(){let s=yield Qa._fromIdTokenResponse(e,i,r),o=Sk(i);return new t({user:s,providerId:o,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return A(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=Sk(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function Sk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var y0=class t extends Nn{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function nP(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?y0._fromErrorAndOperation(t,s,e,i):s})}function Eq(t,e,n=!1){return A(this,null,function*(){let i=yield yu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return _u._forOperation(t,"link",i)})}function Cq(t,e,n=!1){return A(this,null,function*(){let{auth:i}=t;if(gr(i.app))return Promise.reject(_o(i));let r="reauthenticate";try{let s=yield yu(t,nP(i,r,e,t),n);ie(s.idToken,i,"internal-error");let o=S0(s.idToken);ie(o,i,"internal-error");let{sub:a}=o;return ie(t.uid===a,i,"user-mismatch"),_u._forOperation(t,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&ms(i,"user-mismatch"),s}})}function Dq(t,e,n=!1){return A(this,null,function*(){if(gr(t.app))return Promise.reject(_o(t));let i="signIn",r=yield nP(t,i,e),s=yield _u._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s})}function Tq(t,e,n){var i;ie(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),ie(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ie(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ie(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function Dp(t,e,n){return A(this,null,function*(){let i=Iu(t),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Tq(i,r,n),yield yq(i,r,"getOobCode",Iq)})}function P0(t,e,n,i){return un(t).onIdTokenChanged(e,n,i)}function N0(t,e,n){return un(t).beforeAuthStateChanged(e,n)}var _p="__sak";var bp=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_p,"1"),this.storage.removeItem(_p),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function xq(){let t=At();return M0(t)||Ep(t)}var Sq=1e3,Aq=10,Mq=(()=>{class t extends bp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=xq()&&lq(),this.fallbackToPolling=Xk(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&n(i,s,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let r=n.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(r);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(r,n.newValue):this.storage.removeItem(r);else if(this.localCache[r]===n.newValue&&!i)return}let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);cq()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,Aq):s()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},Sq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return A(this,null,function*(){yield Or(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return A(this,null,function*(){let i=yield Or(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return A(this,null,function*(){yield Or(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),iP=Mq;var Rq=(()=>{class t extends bp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),O0=Rq;function kq(t){return Promise.all(t.map(e=>A(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Pq=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(s=>s.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return A(this,null,function*(){let i=n,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let c=Array.from(a).map(d=>A(this,null,function*(){return d(i.origin,o)})),l=yield kq(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function rP(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var v0=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return A(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=rP("",20);r.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){let f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function xi(){return window}function Nq(t){xi().location.href=t}function sP(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}function Oq(){return A(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Fq(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Lq(){return sP()?self:null}var oP="firebaseLocalStorageDb",Vq=1,wp="firebaseLocalStorage",aP="fbase_key",Io=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Tp(t,e){return t.transaction([wp],e?"readwrite":"readonly").objectStore(wp)}function jq(){let t=indexedDB.deleteDatabase(oP);return new Io(t).toPromise()}function _0(){let t=indexedDB.open(oP,Vq);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(wp,{keyPath:aP})}catch(r){n(r)}}),t.addEventListener("success",()=>A(this,null,function*(){let i=t.result;i.objectStoreNames.contains(wp)?e(i):(i.close(),yield jq(),e(yield _0()))}))})}function Ak(t,e,n){return A(this,null,function*(){let i=Tp(t,!0).put({[aP]:e,value:n});return new Io(i).toPromise()})}function Uq(t,e){return A(this,null,function*(){let n=Tp(t,!1).get(e),i=yield new Io(n).toPromise();return i===void 0?null:i.value})}function Mk(t,e){let n=Tp(t,!0).delete(e);return new Io(n).toPromise()}var Bq=800,$q=3,zq=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return A(this,null,function*(){return this.db?this.db:(this.db=yield _0(),this.db)})}_withRetries(n){return A(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>$q)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return A(this,null,function*(){return sP()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return A(this,null,function*(){this.receiver=Pq._getInstance(Lq()),this.receiver._subscribe("keyChanged",(n,i)=>A(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>A(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return A(this,null,function*(){var n,i;if(this.activeServiceWorker=yield Oq(),!this.activeServiceWorker)return;this.sender=new v0(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return A(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Fq()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return A(this,null,function*(){try{if(!indexedDB)return!1;let n=yield _0();return yield Ak(n,_p,"1"),yield Mk(n,_p),!0}catch{}return!1})}_withPendingWrite(n){return A(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return A(this,null,function*(){return this._withPendingWrite(()=>A(this,null,function*(){return yield this._withRetries(r=>Ak(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return A(this,null,function*(){let i=yield this._withRetries(r=>Uq(r,n));return this.localCache[n]=i,i})}_remove(n){return A(this,null,function*(){return this._withPendingWrite(()=>A(this,null,function*(){return yield this._withRetries(i=>Mk(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return A(this,null,function*(){let n=yield this._withRetries(s=>{let o=Tp(s,!1).getAll();return new Io(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>A(this,null,function*(){return this._poll()}),Bq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),cP=zq;var Iae=eP("rcb"),Eae=new wo(3e4,6e4);function Hq(t,e){return e?yr(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var bu=class extends yp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return s0(e,this._buildIdpRequest())}_linkToIdToken(e,n){return s0(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return s0(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function qq(t){return Dq(t.auth,new bu(t),t.bypassAuthState)}function Wq(t){let{auth:e,user:n}=t;return ie(n,e,"internal-error"),Cq(n,new bu(t),t.bypassAuthState)}function Gq(t){return A(this,null,function*(){let{auth:e,user:n}=t;return ie(n,e,"internal-error"),Eq(n,new bu(t),t.bypassAuthState)})}var b0=class{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>A(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return A(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qq;case"linkViaPopup":case"linkViaRedirect":return Gq;case"reauthViaPopup":case"reauthViaRedirect":return Wq;default:ms(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Cae=new wo(2e3,1e4);var Kq="pendingRedirect",up=new Map,w0=class t extends b0{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return A(this,null,function*(){let e=up.get(this.auth._key());if(!e){try{let i=(yield Yq(this.resolver,this.auth))?yield Or(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}up.set(this.auth._key(),e)}return this.bypassAuthState||up.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return A(this,null,function*(){if(e.type==="signInViaRedirect")return Or(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Or(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return A(this,null,function*(){})}cleanUp(){}};function Yq(t,e){return A(this,null,function*(){let n=Zq(e),i=Xq(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function Qq(t,e){up.set(t._key(),e)}function Xq(t){return yr(t._redirectPersistence)}function Zq(t){return lp(Kq,t.config.apiKey,t.name)}function Jq(t,e,n=!1){return A(this,null,function*(){if(gr(t.app))return Promise.reject(_o(t));let i=Iu(t),r=Hq(i,e),o=yield new w0(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var eW=10*60*1e3,I0=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!lP(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(bo(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eW&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rk(e))}saveEventToCache(e){this.cachedEventUids.add(Rk(e)),this.lastProcessedEventTime=Date.now()}};function Rk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lP({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function tW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lP(t);default:return!1}}function nW(n){return A(this,arguments,function*(t,e={}){return vs(t,"GET","/v1/projects",e)})}var iW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rW=/^https?/;function sW(t){return A(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield nW(t);for(let n of e)try{if(oW(n))return}catch{}ms(t,"unauthorized-domain")})}function oW(t){let e=a0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!rW.test(n))return!1;if(iW.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var aW=new wo(3e4,6e4);function kk(){let t=xi().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cW(t){return new Promise((e,n)=>{var i,r,s;function o(){kk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kk(),n(bo(t,"network-request-failed"))},timeout:aW.get()})}if(!((r=(i=xi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=xi().gapi)===null||s===void 0)&&s.load)o();else{let a=eP("iframefcb");return xi()[a]=()=>{gapi.load?o():n(bo(t,"network-request-failed"))},Jk(`${pq()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw dp=null,e})}var dp=null;function lW(t){return dp=dp||cW(t),dp}var uW=new wo(5e3,15e3),dW="__/auth/iframe",hW="emulator/auth/iframe",fW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gW(t){let e=t.config;ie(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?T0(e,hW):`https://${t.config.authDomain}/${dW}`,i={apiKey:e.apiKey,appName:t.name,v:ps},r=pW.get(t.config.apiHost);r&&(i.eid=r);let s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${du(i).slice(1)}`}function mW(t){return A(this,null,function*(){let e=yield lW(t),n=xi().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:gW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fW,dontclear:!0},i=>new Promise((r,s)=>A(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=bo(t,"network-request-failed"),a=xi().setTimeout(()=>{s(o)},uW.get());function c(){xi().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{s(o)})})))})}var yW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vW=500,_W=600,bW="_blank",wW="http://localhost",Ip=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function IW(t,e,n,i=vW,r=_W){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},yW),{width:i.toString(),height:r.toString(),top:s,left:o}),l=At().toLowerCase();n&&(a=Wk(l)?bW:n),qk(l)&&(e=e||wW,c.scrollbars="yes");let d=Object.entries(c).reduce((f,[g,y])=>`${f}${g}=${y},`,"");if(aq(l)&&a!=="_self")return EW(e||"",a),new Ip(null);let h=window.open(e||"",a,d);ie(h,t,"popup-blocked");try{h.focus()}catch{}return new Ip(h)}function EW(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var CW="__/auth/handler",DW="emulator/auth/handler",TW=encodeURIComponent("fac");function Pk(t,e,n,i,r,s){return A(this,null,function*(){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ps,eventId:r};if(e instanceof vp){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",sk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof m0){let d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield t._getAppCheckToken(),l=c?`#${TW}=${encodeURIComponent(c)}`:"";return`${xW(t)}?${du(a).slice(1)}${l}`})}function xW({config:t}){return t.emulator?T0(t,DW):`https://${t.authDomain}/${CW}`}var o0="webStorageSupport",E0=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O0,this._completeRedirectFn=Jq,this._overrideRedirectResult=Qq}_openPopup(e,n,i,r){return A(this,null,function*(){var s;ys((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Pk(e,n,i,a0(),r);return IW(e,o,rP())})}_openRedirect(e,n,i,r){return A(this,null,function*(){yield this._originValidation(e);let s=yield Pk(e,n,i,a0(),r);return Nq(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ys(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return A(this,null,function*(){let n=yield mW(e),i=new I0(e);return n.register("authEvent",r=>(ie(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(o0,{type:o0},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[o0];o!==void 0&&n(!!o),ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Xk()||M0()||Ep()}},uP=E0;var Nk="@firebase/auth",Ok="1.7.4";var C0=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return A(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function SW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AW(t){fs(new zn("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zk(t)},l=new p0(i,r,s,c);return vq(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),fs(new zn("auth-internal",e=>{let n=Iu(e.getProvider("auth").getImmediate());return(i=>new C0(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ot(Nk,Ok,SW(t)),Ot(Nk,Ok,"esm2017")}var MW=5*60,RW=Bb("authIdTokenMaxAge")||MW,Fk=null,kW=t=>e=>A(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>RW)return;let r=n?.token;Fk!==r&&(Fk=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function xp(t=Ya()){let e=pu(t,"auth");if(e.isInitialized())return e.getImmediate();let n=R0(t,{popupRedirectResolver:uP,persistence:[cP,iP,O0]}),i=Bb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=kW(s.toString());N0(n,o,()=>o(n.currentUser)),P0(n,a=>o(a))}}let r=jb("auth");return r&&k0(n,`http://${r}`),n}function PW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}hq({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let s=bo("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",PW().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AW("Browser");var TG="firebase",xG="10.12.2";Ot(TG,xG,"app");var Za=new wi("ANGULARFIRE2_VERSION");function L0(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Cu=(t,e)=>{let n=e?[e]:op(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},Eu=class{constructor(){return Cu(SG)}},SG="app-check";function Xa(){}var Sp=class{zone;delegate;constructor(e,n=rl){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},F0=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xa,{},Xa,Xa)),n.pipe(nt({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Du=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Sp(Zone.current)),this.insideAngular=n.run(()=>new Sp(Zone.current,il)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)($(we))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ap(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function AG(t){return Ap().ngZone.runOutsideAngular(()=>t())}function Eo(t){return Ap().ngZone.run(()=>t())}function MG(t){return RG(Ap())(t)}function RG(t){return function(n){return n=n.lift(new F0(t.ngZone)),n.pipe(Vr(t.outsideAngular),hi(t.insideAngular))}}var kG=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Eo(()=>t.apply(void 0,i))},vr=(t,e)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(n||=Eo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xa,{},Xa,Xa))),i[s]=kG(i[s],n));let r=AG(()=>t.apply(this,i));if(!e)if(r instanceof ce){let s=Ap();return r.pipe(Vr(s.outsideAngular),hi(s.insideAngular))}else return Eo(()=>r);return r instanceof ce?r.pipe(MG):r instanceof Promise?Eo(()=>new Promise((s,o)=>r.then(a=>Eo(()=>s(a)),a=>Eo(()=>o(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Eo(()=>r)};var Co=class{constructor(e){return e}},Tu=class{constructor(){return op()}};function PG(t){return t&&t.length===1?t[0]:new Co(Ya())}var V0=new q("angularfire2._apps"),NG={provide:Co,useFactory:PG,deps:[[new mn,V0]]},OG={provide:Tu,deps:[[new mn,V0]]};function FG(t){return(e,n)=>{let i=n.get(vn);Ot("angularfire",Za.full,"core"),Ot("angularfire",Za.full,"app"),Ot("angular",HA.full,i.toString());let r=e.runOutsideAngular(()=>t(n));return new Co(r)}}function dP(t,...e){return ri([NG,OG,{provide:V0,useFactory:FG(t),multi:!0,deps:[we,Bt,Du,...e]}])}var hP=vr(i0,!0);var LG="auth";var Mp=class{constructor(){return Cu(LG)}};var fP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pP={};var _s,j0;(function(){var t;function e(E,b){function I(){}I.prototype=b.prototype,E.D=b.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(T,x,M){for(var D=Array(arguments.length-2),at=2;at<arguments.length;at++)D[at-2]=arguments[at];return b.prototype[x].apply(T,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,b,I){I||(I=0);var T=Array(16);if(typeof b=="string")for(var x=0;16>x;++x)T[x]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(x=0;16>x;++x)T[x]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=E.g[0],I=E.g[1],x=E.g[2];var M=E.g[3],D=b+(M^I&(x^M))+T[0]+3614090360&4294967295;b=I+(D<<7&4294967295|D>>>25),D=M+(x^b&(I^x))+T[1]+3905402710&4294967295,M=b+(D<<12&4294967295|D>>>20),D=x+(I^M&(b^I))+T[2]+606105819&4294967295,x=M+(D<<17&4294967295|D>>>15),D=I+(b^x&(M^b))+T[3]+3250441966&4294967295,I=x+(D<<22&4294967295|D>>>10),D=b+(M^I&(x^M))+T[4]+4118548399&4294967295,b=I+(D<<7&4294967295|D>>>25),D=M+(x^b&(I^x))+T[5]+1200080426&4294967295,M=b+(D<<12&4294967295|D>>>20),D=x+(I^M&(b^I))+T[6]+2821735955&4294967295,x=M+(D<<17&4294967295|D>>>15),D=I+(b^x&(M^b))+T[7]+4249261313&4294967295,I=x+(D<<22&4294967295|D>>>10),D=b+(M^I&(x^M))+T[8]+1770035416&4294967295,b=I+(D<<7&4294967295|D>>>25),D=M+(x^b&(I^x))+T[9]+2336552879&4294967295,M=b+(D<<12&4294967295|D>>>20),D=x+(I^M&(b^I))+T[10]+4294925233&4294967295,x=M+(D<<17&4294967295|D>>>15),D=I+(b^x&(M^b))+T[11]+2304563134&4294967295,I=x+(D<<22&4294967295|D>>>10),D=b+(M^I&(x^M))+T[12]+1804603682&4294967295,b=I+(D<<7&4294967295|D>>>25),D=M+(x^b&(I^x))+T[13]+4254626195&4294967295,M=b+(D<<12&4294967295|D>>>20),D=x+(I^M&(b^I))+T[14]+2792965006&4294967295,x=M+(D<<17&4294967295|D>>>15),D=I+(b^x&(M^b))+T[15]+1236535329&4294967295,I=x+(D<<22&4294967295|D>>>10),D=b+(x^M&(I^x))+T[1]+4129170786&4294967295,b=I+(D<<5&4294967295|D>>>27),D=M+(I^x&(b^I))+T[6]+3225465664&4294967295,M=b+(D<<9&4294967295|D>>>23),D=x+(b^I&(M^b))+T[11]+643717713&4294967295,x=M+(D<<14&4294967295|D>>>18),D=I+(M^b&(x^M))+T[0]+3921069994&4294967295,I=x+(D<<20&4294967295|D>>>12),D=b+(x^M&(I^x))+T[5]+3593408605&4294967295,b=I+(D<<5&4294967295|D>>>27),D=M+(I^x&(b^I))+T[10]+38016083&4294967295,M=b+(D<<9&4294967295|D>>>23),D=x+(b^I&(M^b))+T[15]+3634488961&4294967295,x=M+(D<<14&4294967295|D>>>18),D=I+(M^b&(x^M))+T[4]+3889429448&4294967295,I=x+(D<<20&4294967295|D>>>12),D=b+(x^M&(I^x))+T[9]+568446438&4294967295,b=I+(D<<5&4294967295|D>>>27),D=M+(I^x&(b^I))+T[14]+3275163606&4294967295,M=b+(D<<9&4294967295|D>>>23),D=x+(b^I&(M^b))+T[3]+4107603335&4294967295,x=M+(D<<14&4294967295|D>>>18),D=I+(M^b&(x^M))+T[8]+1163531501&4294967295,I=x+(D<<20&4294967295|D>>>12),D=b+(x^M&(I^x))+T[13]+2850285829&4294967295,b=I+(D<<5&4294967295|D>>>27),D=M+(I^x&(b^I))+T[2]+4243563512&4294967295,M=b+(D<<9&4294967295|D>>>23),D=x+(b^I&(M^b))+T[7]+1735328473&4294967295,x=M+(D<<14&4294967295|D>>>18),D=I+(M^b&(x^M))+T[12]+2368359562&4294967295,I=x+(D<<20&4294967295|D>>>12),D=b+(I^x^M)+T[5]+4294588738&4294967295,b=I+(D<<4&4294967295|D>>>28),D=M+(b^I^x)+T[8]+2272392833&4294967295,M=b+(D<<11&4294967295|D>>>21),D=x+(M^b^I)+T[11]+1839030562&4294967295,x=M+(D<<16&4294967295|D>>>16),D=I+(x^M^b)+T[14]+4259657740&4294967295,I=x+(D<<23&4294967295|D>>>9),D=b+(I^x^M)+T[1]+2763975236&4294967295,b=I+(D<<4&4294967295|D>>>28),D=M+(b^I^x)+T[4]+1272893353&4294967295,M=b+(D<<11&4294967295|D>>>21),D=x+(M^b^I)+T[7]+4139469664&4294967295,x=M+(D<<16&4294967295|D>>>16),D=I+(x^M^b)+T[10]+3200236656&4294967295,I=x+(D<<23&4294967295|D>>>9),D=b+(I^x^M)+T[13]+681279174&4294967295,b=I+(D<<4&4294967295|D>>>28),D=M+(b^I^x)+T[0]+3936430074&4294967295,M=b+(D<<11&4294967295|D>>>21),D=x+(M^b^I)+T[3]+3572445317&4294967295,x=M+(D<<16&4294967295|D>>>16),D=I+(x^M^b)+T[6]+76029189&4294967295,I=x+(D<<23&4294967295|D>>>9),D=b+(I^x^M)+T[9]+3654602809&4294967295,b=I+(D<<4&4294967295|D>>>28),D=M+(b^I^x)+T[12]+3873151461&4294967295,M=b+(D<<11&4294967295|D>>>21),D=x+(M^b^I)+T[15]+530742520&4294967295,x=M+(D<<16&4294967295|D>>>16),D=I+(x^M^b)+T[2]+3299628645&4294967295,I=x+(D<<23&4294967295|D>>>9),D=b+(x^(I|~M))+T[0]+4096336452&4294967295,b=I+(D<<6&4294967295|D>>>26),D=M+(I^(b|~x))+T[7]+1126891415&4294967295,M=b+(D<<10&4294967295|D>>>22),D=x+(b^(M|~I))+T[14]+2878612391&4294967295,x=M+(D<<15&4294967295|D>>>17),D=I+(M^(x|~b))+T[5]+4237533241&4294967295,I=x+(D<<21&4294967295|D>>>11),D=b+(x^(I|~M))+T[12]+1700485571&4294967295,b=I+(D<<6&4294967295|D>>>26),D=M+(I^(b|~x))+T[3]+2399980690&4294967295,M=b+(D<<10&4294967295|D>>>22),D=x+(b^(M|~I))+T[10]+4293915773&4294967295,x=M+(D<<15&4294967295|D>>>17),D=I+(M^(x|~b))+T[1]+2240044497&4294967295,I=x+(D<<21&4294967295|D>>>11),D=b+(x^(I|~M))+T[8]+1873313359&4294967295,b=I+(D<<6&4294967295|D>>>26),D=M+(I^(b|~x))+T[15]+4264355552&4294967295,M=b+(D<<10&4294967295|D>>>22),D=x+(b^(M|~I))+T[6]+2734768916&4294967295,x=M+(D<<15&4294967295|D>>>17),D=I+(M^(x|~b))+T[13]+1309151649&4294967295,I=x+(D<<21&4294967295|D>>>11),D=b+(x^(I|~M))+T[4]+4149444226&4294967295,b=I+(D<<6&4294967295|D>>>26),D=M+(I^(b|~x))+T[11]+3174756917&4294967295,M=b+(D<<10&4294967295|D>>>22),D=x+(b^(M|~I))+T[2]+718787259&4294967295,x=M+(D<<15&4294967295|D>>>17),D=I+(M^(x|~b))+T[9]+3951481745&4294967295,E.g[0]=E.g[0]+b&4294967295,E.g[1]=E.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,E.g[2]=E.g[2]+x&4294967295,E.g[3]=E.g[3]+M&4294967295}i.prototype.u=function(E,b){b===void 0&&(b=E.length);for(var I=b-this.blockSize,T=this.B,x=this.h,M=0;M<b;){if(x==0)for(;M<=I;)r(this,E,M),M+=this.blockSize;if(typeof E=="string"){for(;M<b;)if(T[x++]=E.charCodeAt(M++),x==this.blockSize){r(this,T),x=0;break}}else for(;M<b;)if(T[x++]=E[M++],x==this.blockSize){r(this,T),x=0;break}}this.h=x,this.o+=b},i.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var b=1;b<E.length-8;++b)E[b]=0;var I=8*this.o;for(b=E.length-8;b<E.length;++b)E[b]=I&255,I/=256;for(this.u(E),E=Array(16),b=I=0;4>b;++b)for(var T=0;32>T;T+=8)E[I++]=this.g[b]>>>T&255;return E};function s(E,b){var I=a;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=b(E)}function o(E,b){this.h=b;for(var I=[],T=!0,x=E.length-1;0<=x;x--){var M=E[x]|0;T&&M==b||(I[x]=M,T=!1)}this.g=I}var a={};function c(E){return-128<=E&&128>E?s(E,function(b){return new o([b|0],0>b?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return h;if(0>E)return v(l(-E));for(var b=[],I=1,T=0;E>=I;T++)b[T]=E/I|0,I*=4294967296;return new o(b,0)}function d(E,b){if(E.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(E.charAt(0)=="-")return v(d(E.substring(1),b));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(b,8)),T=h,x=0;x<E.length;x+=8){var M=Math.min(8,E.length-x),D=parseInt(E.substring(x,x+M),b);8>M?(M=l(Math.pow(b,M)),T=T.j(M).add(l(D))):(T=T.j(I),T=T.add(l(D)))}return T}var h=c(0),f=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(_(this))return-v(this).m();for(var E=0,b=1,I=0;I<this.g.length;I++){var T=this.i(I);E+=(0<=T?T:4294967296+T)*b,b*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(y(this))return"0";if(_(this))return"-"+v(this).toString(E);for(var b=l(Math.pow(E,6)),I=this,T="";;){var x=P(I,b).g;I=C(I,x.j(b));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=x,y(I))return M+T;for(;6>M.length;)M="0"+M;T=M+T}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function y(E){if(E.h!=0)return!1;for(var b=0;b<E.g.length;b++)if(E.g[b]!=0)return!1;return!0}function _(E){return E.h==-1}t.l=function(E){return E=C(this,E),_(E)?-1:y(E)?0:1};function v(E){for(var b=E.g.length,I=[],T=0;T<b;T++)I[T]=~E.g[T];return new o(I,~E.h).add(f)}t.abs=function(){return _(this)?v(this):this},t.add=function(E){for(var b=Math.max(this.g.length,E.g.length),I=[],T=0,x=0;x<=b;x++){var M=T+(this.i(x)&65535)+(E.i(x)&65535),D=(M>>>16)+(this.i(x)>>>16)+(E.i(x)>>>16);T=D>>>16,M&=65535,D&=65535,I[x]=D<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function C(E,b){return E.add(v(b))}t.j=function(E){if(y(this)||y(E))return h;if(_(this))return _(E)?v(this).j(v(E)):v(v(this).j(E));if(_(E))return v(this.j(v(E)));if(0>this.l(g)&&0>E.l(g))return l(this.m()*E.m());for(var b=this.g.length+E.g.length,I=[],T=0;T<2*b;T++)I[T]=0;for(T=0;T<this.g.length;T++)for(var x=0;x<E.g.length;x++){var M=this.i(T)>>>16,D=this.i(T)&65535,at=E.i(x)>>>16,xe=E.i(x)&65535;I[2*T+2*x]+=D*xe,S(I,2*T+2*x),I[2*T+2*x+1]+=M*xe,S(I,2*T+2*x+1),I[2*T+2*x+1]+=D*at,S(I,2*T+2*x+1),I[2*T+2*x+2]+=M*at,S(I,2*T+2*x+2)}for(T=0;T<b;T++)I[T]=I[2*T+1]<<16|I[2*T];for(T=b;T<2*b;T++)I[T]=0;return new o(I,0)};function S(E,b){for(;(E[b]&65535)!=E[b];)E[b+1]+=E[b]>>>16,E[b]&=65535,b++}function k(E,b){this.g=E,this.h=b}function P(E,b){if(y(b))throw Error("division by zero");if(y(E))return new k(h,h);if(_(E))return b=P(v(E),b),new k(v(b.g),v(b.h));if(_(b))return b=P(E,v(b)),new k(v(b.g),b.h);if(30<E.g.length){if(_(E)||_(b))throw Error("slowDivide_ only works with positive integers.");for(var I=f,T=b;0>=T.l(E);)I=F(I),T=F(T);var x=N(I,1),M=N(T,1);for(T=N(T,2),I=N(I,2);!y(T);){var D=M.add(T);0>=D.l(E)&&(x=x.add(I),M=D),T=N(T,1),I=N(I,1)}return b=C(E,x.j(b)),new k(x,b)}for(x=h;0<=E.l(b);){for(I=Math.max(1,Math.floor(E.m()/b.m())),T=Math.ceil(Math.log(I)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),M=l(I),D=M.j(b);_(D)||0<D.l(E);)I-=T,M=l(I),D=M.j(b);y(M)&&(M=f),x=x.add(M),E=C(E,D)}return new k(x,E)}t.A=function(E){return P(this,E).h},t.and=function(E){for(var b=Math.max(this.g.length,E.g.length),I=[],T=0;T<b;T++)I[T]=this.i(T)&E.i(T);return new o(I,this.h&E.h)},t.or=function(E){for(var b=Math.max(this.g.length,E.g.length),I=[],T=0;T<b;T++)I[T]=this.i(T)|E.i(T);return new o(I,this.h|E.h)},t.xor=function(E){for(var b=Math.max(this.g.length,E.g.length),I=[],T=0;T<b;T++)I[T]=this.i(T)^E.i(T);return new o(I,this.h^E.h)};function F(E){for(var b=E.g.length+1,I=[],T=0;T<b;T++)I[T]=E.i(T)<<1|E.i(T-1)>>>31;return new o(I,E.h)}function N(E,b){var I=b>>5;b%=32;for(var T=E.g.length-I,x=[],M=0;M<T;M++)x[M]=0<b?E.i(M+I)>>>b|E.i(M+I+1)<<32-b:E.i(M+I);return new o(x,E.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,j0=pP.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=d,_s=pP.Integer=o}).apply(typeof fP<"u"?fP:typeof self<"u"?self:typeof window<"u"?window:{});var Rp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_r={};var U0,B0,Ja,$0,xu,kp,z0,H0,q0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,m){return u==Array.prototype||u==Object.prototype||(u[p]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rp=="object"&&Rp];for(var p=0;p<u.length;++p){var m=u[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var i=n(this);function r(u,p){if(p)e:{var m=i;u=u.split(".");for(var w=0;w<u.length-1;w++){var R=u[w];if(!(R in m))break e;m=m[R]}u=u[u.length-1],w=m[u],p=p(w),p!=w&&p!=null&&e(m,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var m=0,w=!1,R={next:function(){if(!w&&m<u.length){var L=m++;return{value:p(L,u[L]),done:!1}}return w=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}r("Array.prototype.values",function(u){return u||function(){return s(this,function(p,m){return m})}});var o=o||{},a=this||self;function c(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function l(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,m){return u.call.apply(u.bind,arguments)}function h(u,p,m){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,w),u.apply(p,R)}}return function(){return u.apply(p,arguments)}}function f(u,p,m){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function g(u,p){var m=Array.prototype.slice.call(arguments,1);return function(){var w=m.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function y(u,p){function m(){}m.prototype=p.prototype,u.aa=p.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(w,R,L){for(var Y=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)Y[$e-2]=arguments[$e];return p.prototype[R].apply(w,Y)}}function _(u){let p=u.length;if(0<p){let m=Array(p);for(let w=0;w<p;w++)m[w]=u[w];return m}return[]}function v(u,p){for(let m=1;m<arguments.length;m++){let w=arguments[m];if(c(w)){let R=u.length||0,L=w.length||0;u.length=R+L;for(let Y=0;Y<L;Y++)u[R+Y]=w[Y]}else u.push(w)}}class C{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function S(u){return/^[\s\xa0]*$/.test(u)}function k(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function P(u){return P[" "](u),u}P[" "]=function(){};var F=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function N(u,p,m){for(let w in u)p.call(m,u[w],w,u)}function E(u,p){for(let m in u)p.call(void 0,u[m],m,u)}function b(u){let p={};for(let m in u)p[m]=u[m];return p}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(u,p){let m,w;for(let R=1;R<arguments.length;R++){w=arguments[R];for(m in w)u[m]=w[m];for(let L=0;L<I.length;L++)m=I[L],Object.prototype.hasOwnProperty.call(w,m)&&(u[m]=w[m])}}function x(u){var p=1;u=u.split(":");let m=[];for(;0<p&&u.length;)m.push(u.shift()),p--;return u.length&&m.push(u.join(":")),m}function M(u){a.setTimeout(()=>{throw u},0)}function D(){var u=vt;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class at{constructor(){this.h=this.g=null}add(p,m){let w=xe.get();w.set(p,m),this.h?this.h.next=w:this.g=w,this.h=w}}var xe=new C(()=>new qe,u=>u.reset());class qe{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,Vt=!1,vt=new at,$i=()=>{let u=a.Promise.resolve(void 0);Be=()=>{u.then(qo)}};var qo=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(m){M(m)}var p=xe;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}Vt=!1};function rn(){this.s=this.s,this.C=this.C}rn.prototype.s=!1,rn.prototype.ma=function(){this.s||(this.s=!0,this.N())},rn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ht(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var zi=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return u}();function Qn(u,p){if(ht.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(F){e:{try{P(p.nodeName);var R=!0;break e}catch{}R=!1}R||(p=null)}}else m=="mouseover"?p=u.fromElement:m=="mouseout"&&(p=u.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Hi[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Qn.aa.h.call(this)}}y(Qn,ht);var Hi={2:"touch",3:"pen",4:"mouse"};Qn.prototype.h=function(){Qn.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Uc="closure_listenable_"+(1e6*Math.random()|0),DL=0;function TL(u,p,m,w,R){this.listener=u,this.proxy=null,this.src=p,this.type=m,this.capture=!!w,this.ha=R,this.key=++DL,this.da=this.fa=!1}function Dd(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Td(u){this.src=u,this.g={},this.h=0}Td.prototype.add=function(u,p,m,w,R){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var Y=dm(u,p,w,R);return-1<Y?(p=u[Y],m||(p.fa=!1)):(p=new TL(p,this.src,L,!!w,R),p.fa=m,u.push(p)),p};function um(u,p){var m=p.type;if(m in u.g){var w=u.g[m],R=Array.prototype.indexOf.call(w,p,void 0),L;(L=0<=R)&&Array.prototype.splice.call(w,R,1),L&&(Dd(p),u.g[m].length==0&&(delete u.g[m],u.h--))}}function dm(u,p,m,w){for(var R=0;R<u.length;++R){var L=u[R];if(!L.da&&L.listener==p&&L.capture==!!m&&L.ha==w)return R}return-1}var hm="closure_lm_"+(1e6*Math.random()|0),fm={};function AC(u,p,m,w,R){if(w&&w.once)return RC(u,p,m,w,R);if(Array.isArray(p)){for(var L=0;L<p.length;L++)AC(u,p[L],m,w,R);return null}return m=ym(m),u&&u[Uc]?u.K(p,m,l(w)?!!w.capture:!!w,R):MC(u,p,m,!1,w,R)}function MC(u,p,m,w,R,L){if(!p)throw Error("Invalid event type");var Y=l(R)?!!R.capture:!!R,$e=gm(u);if($e||(u[hm]=$e=new Td(u)),m=$e.add(p,m,w,Y,L),m.proxy)return m;if(w=xL(),m.proxy=w,w.src=u,w.listener=m,u.addEventListener)zi||(R=Y),R===void 0&&(R=!1),u.addEventListener(p.toString(),w,R);else if(u.attachEvent)u.attachEvent(PC(p.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return m}function xL(){function u(m){return p.call(u.src,u.listener,m)}let p=SL;return u}function RC(u,p,m,w,R){if(Array.isArray(p)){for(var L=0;L<p.length;L++)RC(u,p[L],m,w,R);return null}return m=ym(m),u&&u[Uc]?u.L(p,m,l(w)?!!w.capture:!!w,R):MC(u,p,m,!0,w,R)}function kC(u,p,m,w,R){if(Array.isArray(p))for(var L=0;L<p.length;L++)kC(u,p[L],m,w,R);else w=l(w)?!!w.capture:!!w,m=ym(m),u&&u[Uc]?(u=u.i,p=String(p).toString(),p in u.g&&(L=u.g[p],m=dm(L,m,w,R),-1<m&&(Dd(L[m]),Array.prototype.splice.call(L,m,1),L.length==0&&(delete u.g[p],u.h--)))):u&&(u=gm(u))&&(p=u.g[p.toString()],u=-1,p&&(u=dm(p,m,w,R)),(m=-1<u?p[u]:null)&&pm(m))}function pm(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Uc])um(p.i,u);else{var m=u.type,w=u.proxy;p.removeEventListener?p.removeEventListener(m,w,u.capture):p.detachEvent?p.detachEvent(PC(m),w):p.addListener&&p.removeListener&&p.removeListener(w),(m=gm(p))?(um(m,u),m.h==0&&(m.src=null,p[hm]=null)):Dd(u)}}}function PC(u){return u in fm?fm[u]:fm[u]="on"+u}function SL(u,p){if(u.da)u=!0;else{p=new Qn(p,this);var m=u.listener,w=u.ha||u.src;u.fa&&pm(u),u=m.call(w,p)}return u}function gm(u){return u=u[hm],u instanceof Td?u:null}var mm="__closure_events_fn_"+(1e9*Math.random()>>>0);function ym(u){return typeof u=="function"?u:(u[mm]||(u[mm]=function(p){return u.handleEvent(p)}),u[mm])}function Wt(){rn.call(this),this.i=new Td(this),this.M=this,this.F=null}y(Wt,rn),Wt.prototype[Uc]=!0,Wt.prototype.removeEventListener=function(u,p,m,w){kC(this,u,p,m,w)};function sn(u,p){var m,w=u.F;if(w)for(m=[];w;w=w.F)m.push(w);if(u=u.M,w=p.type||p,typeof p=="string")p=new ht(p,u);else if(p instanceof ht)p.target=p.target||u;else{var R=p;p=new ht(w,u),T(p,R)}if(R=!0,m)for(var L=m.length-1;0<=L;L--){var Y=p.g=m[L];R=xd(Y,w,!0,p)&&R}if(Y=p.g=u,R=xd(Y,w,!0,p)&&R,R=xd(Y,w,!1,p)&&R,m)for(L=0;L<m.length;L++)Y=p.g=m[L],R=xd(Y,w,!1,p)&&R}Wt.prototype.N=function(){if(Wt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var m=u.g[p],w=0;w<m.length;w++)Dd(m[w]);delete u.g[p],u.h--}}this.F=null},Wt.prototype.K=function(u,p,m,w){return this.i.add(String(u),p,!1,m,w)},Wt.prototype.L=function(u,p,m,w){return this.i.add(String(u),p,!0,m,w)};function xd(u,p,m,w){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var R=!0,L=0;L<p.length;++L){var Y=p[L];if(Y&&!Y.da&&Y.capture==m){var $e=Y.listener,jt=Y.ha||Y.src;Y.fa&&um(u.i,Y),R=$e.call(jt,w)!==!1&&R}}return R&&!w.defaultPrevented}function NC(u,p,m){if(typeof u=="function")m&&(u=f(u,m));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function OC(u){u.g=NC(()=>{u.g=null,u.i&&(u.i=!1,OC(u))},u.l);let p=u.h;u.h=null,u.m.apply(null,p)}class AL extends rn{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:OC(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bc(u){rn.call(this),this.h=u,this.g={}}y(Bc,rn);var FC=[];function LC(u){N(u.g,function(p,m){this.g.hasOwnProperty(m)&&pm(p)},u),u.g={}}Bc.prototype.N=function(){Bc.aa.N.call(this),LC(this)},Bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vm=a.JSON.stringify,ML=a.JSON.parse,RL=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function _m(){}_m.prototype.h=null;function VC(u){return u.h||(u.h=u.i())}function jC(){}var $c={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bm(){ht.call(this,"d")}y(bm,ht);function wm(){ht.call(this,"c")}y(wm,ht);var Ls={},UC=null;function Sd(){return UC=UC||new Wt}Ls.La="serverreachability";function BC(u){ht.call(this,Ls.La,u)}y(BC,ht);function zc(u){let p=Sd();sn(p,new BC(p))}Ls.STAT_EVENT="statevent";function $C(u,p){ht.call(this,Ls.STAT_EVENT,u),this.stat=p}y($C,ht);function on(u){let p=Sd();sn(p,new $C(p,u))}Ls.Ma="timingevent";function zC(u,p){ht.call(this,Ls.Ma,u),this.size=p}y(zC,ht);function Hc(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function qc(){this.g=!0}qc.prototype.xa=function(){this.g=!1};function kL(u,p,m,w,R,L){u.info(function(){if(u.g)if(L)for(var Y="",$e=L.split("&"),jt=0;jt<$e.length;jt++){var Pe=$e[jt].split("=");if(1<Pe.length){var Gt=Pe[0];Pe=Pe[1];var Kt=Gt.split("_");Y=2<=Kt.length&&Kt[1]=="type"?Y+(Gt+"="+Pe+"&"):Y+(Gt+"=redacted&")}}else Y=null;else Y=L;return"XMLHTTP REQ ("+w+") [attempt "+R+"]: "+p+`
`+m+`
`+Y})}function PL(u,p,m,w,R,L,Y){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+R+"]: "+p+`
`+m+`
`+L+" "+Y})}function Wo(u,p,m,w){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+OL(u,m)+(w?" "+w:"")})}function NL(u,p){u.info(function(){return"TIMEOUT: "+p})}qc.prototype.info=function(){};function OL(u,p){if(!u.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var w=m[u];if(!(2>w.length)){var R=w[1];if(Array.isArray(R)&&!(1>R.length)){var L=R[0];if(L!="noop"&&L!="stop"&&L!="close")for(var Y=1;Y<R.length;Y++)R[Y]=""}}}}return vm(m)}catch{return p}}var Ad={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},HC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Im;function Md(){}y(Md,_m),Md.prototype.g=function(){return new XMLHttpRequest},Md.prototype.i=function(){return{}},Im=new Md;function kr(u,p,m,w){this.j=u,this.i=p,this.l=m,this.R=w||1,this.U=new Bc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qC}function qC(){this.i=null,this.g="",this.h=!1}var WC={},Em={};function Cm(u,p,m){u.L=1,u.v=Nd(qi(p)),u.m=m,u.P=!0,GC(u,null)}function GC(u,p){u.F=Date.now(),Rd(u),u.A=qi(u.v);var m=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),aD(m.i,"t",w),u.C=0,m=u.j.J,u.h=new qC,u.g=DD(u.j,m?p:null,!u.m),0<u.O&&(u.M=new AL(f(u.Y,u,u.g),u.O)),p=u.U,m=u.g,w=u.ca;var R="readystatechange";Array.isArray(R)||(R&&(FC[0]=R.toString()),R=FC);for(var L=0;L<R.length;L++){var Y=AC(m,R[L],w||p.handleEvent,!1,p.h||p);if(!Y)break;p.g[Y.key]=Y}p=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),zc(),kL(u.i,u.u,u.A,u.l,u.R,u.m)}kr.prototype.ca=function(u){u=u.target;let p=this.M;p&&Wi(u)==3?p.j():this.Y(u)},kr.prototype.Y=function(u){try{if(u==this.g)e:{let Kt=Wi(this.g);var p=this.g.Ba();let Yo=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||pD(this.g)))){this.J||Kt!=4||p==7||(p==8||0>=Yo?zc(3):zc(2)),Dm(this);var m=this.g.Z();this.X=m;t:if(KC(this)){var w=pD(this.g);u="";var R=w.length,L=Wi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vs(this),Wc(this);var Y="";break t}this.h.i=new a.TextDecoder}for(p=0;p<R;p++)this.h.h=!0,u+=this.h.i.decode(w[p],{stream:!(L&&p==R-1)});w.length=0,this.h.g+=u,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=m==200,PL(this.i,this.u,this.A,this.l,this.R,Kt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,jt=this.g;if(($e=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S($e)){var Pe=$e;break t}}Pe=null}if(m=Pe)Wo(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tm(this,m);else{this.o=!1,this.s=3,on(12),Vs(this),Wc(this);break e}}if(this.P){m=!0;let Xn;for(;!this.J&&this.C<Y.length;)if(Xn=FL(this,Y),Xn==Em){Kt==4&&(this.s=4,on(14),m=!1),Wo(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==WC){this.s=4,on(15),Wo(this.i,this.l,Y,"[Invalid Chunk]"),m=!1;break}else Wo(this.i,this.l,Xn,null),Tm(this,Xn);if(KC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||Y.length!=0||this.h.h||(this.s=1,on(16),m=!1),this.o=this.o&&m,!m)Wo(this.i,this.l,Y,"[Invalid Chunked Response]"),Vs(this),Wc(this);else if(0<Y.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),km(Gt),Gt.M=!0,on(11))}}else Wo(this.i,this.l,Y,null),Tm(this,Y);Kt==4&&Vs(this),this.o&&!this.J&&(Kt==4?wD(this.j,this):(this.o=!1,Rd(this)))}else JL(this.g),m==400&&0<Y.indexOf("Unknown SID")?(this.s=3,on(12)):(this.s=0,on(13)),Vs(this),Wc(this)}}}catch{}finally{}};function KC(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function FL(u,p){var m=u.C,w=p.indexOf(`
`,m);return w==-1?Em:(m=Number(p.substring(m,w)),isNaN(m)?WC:(w+=1,w+m>p.length?Em:(p=p.slice(w,w+m),u.C=w+m,p)))}kr.prototype.cancel=function(){this.J=!0,Vs(this)};function Rd(u){u.S=Date.now()+u.I,YC(u,u.I)}function YC(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Hc(f(u.ba,u),p)}function Dm(u){u.B&&(a.clearTimeout(u.B),u.B=null)}kr.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(NL(this.i,this.A),this.L!=2&&(zc(),on(17)),Vs(this),this.s=2,Wc(this)):YC(this,this.S-u)};function Wc(u){u.j.G==0||u.J||wD(u.j,u)}function Vs(u){Dm(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,LC(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Tm(u,p){try{var m=u.j;if(m.G!=0&&(m.g==u||xm(m.h,u))){if(!u.K&&xm(m.h,u)&&m.G==3){try{var w=m.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var R=w;if(R[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)jd(m),Ld(m);else break e;Rm(m),on(18)}}else m.za=R[1],0<m.za-m.T&&37500>R[2]&&m.F&&m.v==0&&!m.C&&(m.C=Hc(f(m.Za,m),6e3));if(1>=ZC(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Us(m,11)}else if((u.K||m.g==u)&&jd(m),!S(p))for(R=m.Da.g.parse(p),p=0;p<R.length;p++){let Pe=R[p];if(m.T=Pe[0],Pe=Pe[1],m.G==2)if(Pe[0]=="c"){m.K=Pe[1],m.ia=Pe[2];let Gt=Pe[3];Gt!=null&&(m.la=Gt,m.j.info("VER="+m.la));let Kt=Pe[4];Kt!=null&&(m.Aa=Kt,m.j.info("SVER="+m.Aa));let Yo=Pe[5];Yo!=null&&typeof Yo=="number"&&0<Yo&&(w=1.5*Yo,m.L=w,m.j.info("backChannelRequestTimeoutMs_="+w)),w=m;let Xn=u.g;if(Xn){let Bd=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bd){var L=w.h;L.g||Bd.indexOf("spdy")==-1&&Bd.indexOf("quic")==-1&&Bd.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Sm(L,L.h),L.h=null))}if(w.D){let Pm=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Pm&&(w.ya=Pm,Ze(w.I,w.D,Pm))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),w=m;var Y=u;if(w.qa=CD(w,w.J?w.ia:null,w.W),Y.K){JC(w.h,Y);var $e=Y,jt=w.L;jt&&($e.I=jt),$e.B&&(Dm($e),Rd($e)),w.g=Y}else _D(w);0<m.i.length&&Vd(m)}else Pe[0]!="stop"&&Pe[0]!="close"||Us(m,7);else m.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Us(m,7):Mm(m):Pe[0]!="noop"&&m.l&&m.l.ta(Pe),m.v=0)}}zc(4)}catch{}}var LL=class{constructor(u,p){this.g=u,this.map=p}};function QC(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function XC(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ZC(u){return u.h?1:u.g?u.g.size:0}function xm(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Sm(u,p){u.g?u.g.add(p):u.h=p}function JC(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}QC.prototype.cancel=function(){if(this.i=eD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function eD(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(let m of u.g.values())p=p.concat(m.D);return p}return _(u.i)}function VL(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var p=[],m=u.length,w=0;w<m;w++)p.push(u[w]);return p}p=[],m=0;for(w in u)p[m++]=u[w];return p}function jL(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var p=[];u=u.length;for(var m=0;m<u;m++)p.push(m);return p}p=[],m=0;for(let w in u)p[m++]=w;return p}}}function tD(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var m=jL(u),w=VL(u),R=w.length,L=0;L<R;L++)p.call(void 0,w[L],m&&m[L],u)}var nD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function UL(u,p){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var w=u[m].indexOf("="),R=null;if(0<=w){var L=u[m].substring(0,w);R=u[m].substring(w+1)}else L=u[m];p(L,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function js(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof js){this.h=u.h,kd(this,u.j),this.o=u.o,this.g=u.g,Pd(this,u.s),this.l=u.l;var p=u.i,m=new Yc;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),iD(this,m),this.m=u.m}else u&&(p=String(u).match(nD))?(this.h=!1,kd(this,p[1]||"",!0),this.o=Gc(p[2]||""),this.g=Gc(p[3]||"",!0),Pd(this,p[4]),this.l=Gc(p[5]||"",!0),iD(this,p[6]||"",!0),this.m=Gc(p[7]||"")):(this.h=!1,this.i=new Yc(null,this.h))}js.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Kc(p,rD,!0),":");var m=this.g;return(m||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Kc(p,rD,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(Kc(m,m.charAt(0)=="/"?zL:$L,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",Kc(m,qL)),u.join("")};function qi(u){return new js(u)}function kd(u,p,m){u.j=m?Gc(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Pd(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function iD(u,p,m){p instanceof Yc?(u.i=p,WL(u.i,u.h)):(m||(p=Kc(p,HL)),u.i=new Yc(p,u.h))}function Ze(u,p,m){u.i.set(p,m)}function Nd(u){return Ze(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Gc(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Kc(u,p,m){return typeof u=="string"?(u=encodeURI(u).replace(p,BL),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function BL(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var rD=/[#\/\?@]/g,$L=/[#\?:]/g,zL=/[#\?]/g,HL=/[#\?@]/g,qL=/#/g;function Yc(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Pr(u){u.g||(u.g=new Map,u.h=0,u.i&&UL(u.i,function(p,m){u.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}t=Yc.prototype,t.add=function(u,p){Pr(this),this.i=null,u=Go(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(p),this.h+=1,this};function sD(u,p){Pr(u),p=Go(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function oD(u,p){return Pr(u),p=Go(u,p),u.g.has(p)}t.forEach=function(u,p){Pr(this),this.g.forEach(function(m,w){m.forEach(function(R){u.call(p,R,w,this)},this)},this)},t.na=function(){Pr(this);let u=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let w=0;w<p.length;w++){let R=u[w];for(let L=0;L<R.length;L++)m.push(p[w])}return m},t.V=function(u){Pr(this);let p=[];if(typeof u=="string")oD(this,u)&&(p=p.concat(this.g.get(Go(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)p=p.concat(u[m])}return p},t.set=function(u,p){return Pr(this),this.i=null,u=Go(this,u),oD(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function aD(u,p,m){sD(u,p),0<m.length&&(u.i=null,u.g.set(Go(u,p),_(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var w=p[m];let L=encodeURIComponent(String(w)),Y=this.V(w);for(w=0;w<Y.length;w++){var R=L;Y[w]!==""&&(R+="="+encodeURIComponent(String(Y[w]))),u.push(R)}}return this.i=u.join("&")};function Go(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function WL(u,p){p&&!u.j&&(Pr(u),u.i=null,u.g.forEach(function(m,w){var R=w.toLowerCase();w!=R&&(sD(this,w),aD(this,R,m))},u)),u.j=p}function GL(u,p){let m=new qc;if(a.Image){let w=new Image;w.onload=g(Nr,m,"TestLoadImage: loaded",!0,p,w),w.onerror=g(Nr,m,"TestLoadImage: error",!1,p,w),w.onabort=g(Nr,m,"TestLoadImage: abort",!1,p,w),w.ontimeout=g(Nr,m,"TestLoadImage: timeout",!1,p,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else p(!1)}function KL(u,p){let m=new qc,w=new AbortController,R=setTimeout(()=>{w.abort(),Nr(m,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:w.signal}).then(L=>{clearTimeout(R),L.ok?Nr(m,"TestPingServer: ok",!0,p):Nr(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(R),Nr(m,"TestPingServer: error",!1,p)})}function Nr(u,p,m,w,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),w(m)}catch{}}function YL(){this.g=new RL}function QL(u,p,m){let w=m||"";try{tD(u,function(R,L){let Y=R;l(R)&&(Y=vm(R)),p.push(w+L+"="+encodeURIComponent(Y))})}catch(R){throw p.push(w+"type="+encodeURIComponent("_badmap")),R}}function Qc(u){this.l=u.Ub||null,this.j=u.eb||!1}y(Qc,_m),Qc.prototype.g=function(){return new Od(this.l,this.j)},Qc.prototype.i=function(u){return function(){return u}}({});function Od(u,p){Wt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Od,Wt),t=Od.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Zc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xc(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zc(this)),this.g&&(this.readyState=3,Zc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cD(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function cD(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Xc(this):Zc(this),this.readyState==3&&cD(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Xc(this))},t.Qa=function(u){this.g&&(this.response=u,Xc(this))},t.ga=function(){this.g&&Xc(this)};function Xc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zc(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=p.next();return u.join(`\r
`)};function Zc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Od.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function lD(u){let p="";return N(u,function(m,w){p+=w,p+=":",p+=m,p+=`\r
`}),p}function Am(u,p,m){e:{for(w in m){var w=!1;break e}w=!0}w||(m=lD(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):Ze(u,p,m))}function ft(u){Wt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(ft,Wt);var XL=/^https?$/i,ZL=["POST","PUT"];t=ft.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,m,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Im.g(),this.v=this.o?VC(this.o):VC(Im),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(L){uD(this,L);return}if(u=m||"",m=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var R in w)m.set(R,w[R]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(let L of w.keys())m.set(L,w.get(L));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),R=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ZL,p,void 0))||w||R||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[L,Y]of m)this.g.setRequestHeader(L,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fD(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){uD(this,L)}};function uD(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,dD(u),Fd(u)}function dD(u){u.A||(u.A=!0,sn(u,"complete"),sn(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,sn(this,"complete"),sn(this,"abort"),Fd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fd(this,!0)),ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hD(this):this.bb())},t.bb=function(){hD(this)};function hD(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Wi(u)!=4||u.Z()!=2)){if(u.u&&Wi(u)==4)NC(u.Ea,0,u);else if(sn(u,"readystatechange"),Wi(u)==4){u.h=!1;try{let Y=u.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var w;if(w=Y===0){var R=String(u.D).match(nD)[1]||null;!R&&a.self&&a.self.location&&(R=a.self.location.protocol.slice(0,-1)),w=!XL.test(R?R.toLowerCase():"")}m=w}if(m)sn(u,"complete"),sn(u,"success");else{u.m=6;try{var L=2<Wi(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",dD(u)}}finally{Fd(u)}}}}function Fd(u,p){if(u.g){fD(u);let m=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||sn(u,"ready");try{m.onreadystatechange=w}catch{}}}function fD(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Wi(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Wi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),ML(p)}};function pD(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function JL(u){let p={};u=(u.g&&2<=Wi(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(S(u[w]))continue;var m=x(u[w]);let R=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let L=p[R]||[];p[R]=L,L.push(m)}E(p,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jc(u,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||p}function gD(u){this.Aa=0,this.i=[],this.j=new qc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jc("baseRetryDelayMs",5e3,u),this.cb=Jc("retryDelaySeedMs",1e4,u),this.Wa=Jc("forwardChannelMaxRetries",2,u),this.wa=Jc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new QC(u&&u.concurrentRequestLimit),this.Da=new YL,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=gD.prototype,t.la=8,t.G=1,t.connect=function(u,p,m,w){on(0),this.W=u,this.H=p||{},m&&w!==void 0&&(this.H.OSID=m,this.H.OAID=w),this.F=this.X,this.I=CD(this,null,this.W),Vd(this)};function Mm(u){if(mD(u),u.G==3){var p=u.U++,m=qi(u.I);if(Ze(m,"SID",u.K),Ze(m,"RID",p),Ze(m,"TYPE","terminate"),el(u,m),p=new kr(u,u.j,p),p.L=2,p.v=Nd(qi(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=p.v,m=!0),m||(p.g=DD(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Rd(p)}ED(u)}function Ld(u){u.g&&(km(u),u.g.cancel(),u.g=null)}function mD(u){Ld(u),u.u&&(a.clearTimeout(u.u),u.u=null),jd(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Vd(u){if(!XC(u.h)&&!u.s){u.s=!0;var p=u.Ga;Be||$i(),Vt||(Be(),Vt=!0),vt.add(p,u),u.B=0}}function eV(u,p){return ZC(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Hc(f(u.Ga,u,p),ID(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let R=new kr(this,this.j,u),L=this.o;if(this.S&&(L?(L=b(L),T(L,this.S)):L=this.S),this.m!==null||this.O||(R.H=L,L=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var w=this.i[m];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=vD(this,R,p),m=qi(this.I),Ze(m,"RID",u),Ze(m,"CVER",22),this.D&&Ze(m,"X-HTTP-Session-Id",this.D),el(this,m),L&&(this.O?p="headers="+encodeURIComponent(String(lD(L)))+"&"+p:this.m&&Am(m,this.m,L)),Sm(this.h,R),this.Ua&&Ze(m,"TYPE","init"),this.P?(Ze(m,"$req",p),Ze(m,"SID","null"),R.T=!0,Cm(R,m,null)):Cm(R,m,p),this.G=2}}else this.G==3&&(u?yD(this,u):this.i.length==0||XC(this.h)||yD(this))};function yD(u,p){var m;p?m=p.l:m=u.U++;let w=qi(u.I);Ze(w,"SID",u.K),Ze(w,"RID",m),Ze(w,"AID",u.T),el(u,w),u.m&&u.o&&Am(w,u.m,u.o),m=new kr(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),p&&(u.i=p.D.concat(u.i)),p=vD(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Sm(u.h,m),Cm(m,w,p)}function el(u,p){u.H&&N(u.H,function(m,w){Ze(p,w,m)}),u.l&&tD({},function(m,w){Ze(p,w,m)})}function vD(u,p,m){m=Math.min(u.i.length,m);var w=u.l?f(u.l.Na,u.l,u):null;e:{var R=u.i;let L=-1;for(;;){let Y=["count="+m];L==-1?0<m?(L=R[0].g,Y.push("ofs="+L)):L=0:Y.push("ofs="+L);let $e=!0;for(let jt=0;jt<m;jt++){let Pe=R[jt].g,Gt=R[jt].map;if(Pe-=L,0>Pe)L=Math.max(0,R[jt].g-100),$e=!1;else try{QL(Gt,Y,"req"+Pe+"_")}catch{w&&w(Gt)}}if($e){w=Y.join("&");break e}}}return u=u.i.splice(0,m),p.D=u,w}function _D(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Be||$i(),Vt||(Be(),Vt=!0),vt.add(p,u),u.v=0}}function Rm(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Hc(f(u.Fa,u),ID(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,bD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Hc(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,on(10),Ld(this),bD(this))};function km(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function bD(u){u.g=new kr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=qi(u.qa);Ze(p,"RID","rpc"),Ze(p,"SID",u.K),Ze(p,"AID",u.T),Ze(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ze(p,"TO",u.ja),Ze(p,"TYPE","xmlhttp"),el(u,p),u.m&&u.o&&Am(p,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=Nd(qi(p)),m.m=null,m.P=!0,GC(m,u)}t.Za=function(){this.C!=null&&(this.C=null,Ld(this),Rm(this),on(19))};function jd(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function wD(u,p){var m=null;if(u.g==p){jd(u),km(u),u.g=null;var w=2}else if(xm(u.h,p))m=p.D,JC(u.h,p),w=1;else return;if(u.G!=0){if(p.o)if(w==1){m=p.m?p.m.length:0,p=Date.now()-p.F;var R=u.B;w=Sd(),sn(w,new zC(w,m)),Vd(u)}else _D(u);else if(R=p.s,R==3||R==0&&0<p.X||!(w==1&&eV(u,p)||w==2&&Rm(u)))switch(m&&0<m.length&&(p=u.h,p.i=p.i.concat(m)),R){case 1:Us(u,5);break;case 4:Us(u,10);break;case 3:Us(u,6);break;default:Us(u,2)}}}function ID(u,p){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*p}function Us(u,p){if(u.j.info("Error code "+p),p==2){var m=f(u.fb,u),w=u.Xa;let R=!w;w=new js(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||kd(w,"https"),Nd(w),R?GL(w.toString(),m):KL(w.toString(),m)}else on(2);u.G=0,u.l&&u.l.sa(p),ED(u),mD(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),on(2)):(this.j.info("Failed to ping google.com"),on(1))};function ED(u){if(u.G=0,u.ka=[],u.l){let p=eD(u.h);(p.length!=0||u.i.length!=0)&&(v(u.ka,p),v(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function CD(u,p,m){var w=m instanceof js?qi(m):new js(m);if(w.g!="")p&&(w.g=p+"."+w.g),Pd(w,w.s);else{var R=a.location;w=R.protocol,p=p?p+"."+R.hostname:R.hostname,R=+R.port;var L=new js(null);w&&kd(L,w),p&&(L.g=p),R&&Pd(L,R),m&&(L.l=m),w=L}return m=u.D,p=u.ya,m&&p&&Ze(w,m,p),Ze(w,"VER",u.la),el(u,w),w}function DD(u,p,m){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new ft(new Qc({eb:m})):new ft(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function TD(){}t=TD.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ud(){}Ud.prototype.g=function(u,p){return new Dn(u,p)};function Dn(u,p){Wt.call(this),this.g=new gD(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!S(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!S(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Ko(this)}y(Dn,Wt),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){Mm(this.g)},Dn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=vm(u),u=m);p.i.push(new LL(p.Ya++,u)),p.G==3&&Vd(p)},Dn.prototype.N=function(){this.g.l=null,delete this.j,Mm(this.g),delete this.g,Dn.aa.N.call(this)};function xD(u){bm.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(let m in p){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}y(xD,bm);function SD(){wm.call(this),this.status=1}y(SD,wm);function Ko(u){this.g=u}y(Ko,TD),Ko.prototype.ua=function(){sn(this.g,"a")},Ko.prototype.ta=function(u){sn(this.g,new xD(u))},Ko.prototype.sa=function(u){sn(this.g,new SD)},Ko.prototype.ra=function(){sn(this.g,"b")},Ud.prototype.createWebChannel=Ud.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,q0=_r.createWebChannelTransport=function(){return new Ud},H0=_r.getStatEventTarget=function(){return Sd()},z0=_r.Event=Ls,kp=_r.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ad.NO_ERROR=0,Ad.TIMEOUT=8,Ad.HTTP_ERROR=6,xu=_r.ErrorCode=Ad,HC.COMPLETE="complete",$0=_r.EventType=HC,jC.EventType=$c,$c.OPEN="a",$c.CLOSE="b",$c.ERROR="c",$c.MESSAGE="d",Wt.prototype.listen=Wt.prototype.K,Ja=_r.WebChannel=jC,B0=_r.FetchXmlHttpFactory=Qc,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,U0=_r.XhrIo=ft}).apply(typeof Rp<"u"?Rp:typeof self<"u"?self:typeof window<"u"?window:{});var gP="@firebase/firestore";var Ft=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");var bc="10.12.1";var So=new ds("@firebase/firestore");function Su(){return So.logLevel}function X(t,...e){if(So.logLevel<=Ee.DEBUG){let n=e.map(MI);So.debug(`Firestore (${bc}): ${t}`,...n)}}function br(t,...e){if(So.logLevel<=Ee.ERROR){let n=e.map(MI);So.error(`Firestore (${bc}): ${t}`,...n)}}function sc(t,...e){if(So.logLevel<=Ee.WARN){let n=e.map(MI);So.warn(`Firestore (${bc}): ${t}`,...n)}}function MI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function oe(t="Unexpected state"){let e=`FIRESTORE (${bc}) INTERNAL ASSERTION FAILED: `+t;throw br(e),new Error(e)}function Ke(t,e){t||oe()}function ue(t,e){return t}var z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},te=class extends Nn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Mi=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Lp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Q0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}},X0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Z0=class{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),s=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mi,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>A(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mi)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string"),new Lp(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Ft(e)}},J0=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},ew=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new J0(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}},tw=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},nw=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new tw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function VG(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var Vp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=VG(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}};function Fe(t,e){return t<e?-1:t>e?1:0}function oc(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var zt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var fe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new zt(0,0))}static max(){return new t(new zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var jp=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&oe(),i===void 0?i=e.length-n:i>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Et=class t extends jp{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new te(z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},jG=/^[_a-zA-Z][_a-zA-Z0-9]*$/,On=class t extends jp{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return jG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,s=()=>{if(i.length===0)throw new te(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new te(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new te(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var re=class t{constructor(e){this.path=e}static fromPath(e){return new t(Et.fromString(e))}static fromName(e){return new t(Et.fromString(e).popFirst(5))}static empty(){return new t(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Et(e.slice()))}};var iw=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};iw.UNKNOWN_ID=-1;function UG(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=fe.fromTimestamp(i===1e9?new zt(n+1,0):new zt(n,i));return new Ao(r,re.empty(),e)}function BG(t){return new Ao(t.readTime,t.key,-1)}var Ao=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(fe.min(),re.empty(),-1)}static max(){return new t(fe.max(),re.empty(),-1)}};function $G(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}var zG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rw=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Gu(t){return A(this,null,function*(){if(t.code!==z.FAILED_PRECONDITION||t.message!==zG)throw t;X("LocalStore","Unexpectedly lost primary lease")})}var K=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},c=>i(c))}),o=!0,s===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;n(e[l]).next(d=>{o[l]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(e,n){return new t((i,r)=>{let s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}};function HG(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ku(t){return t.name==="IndexedDbTransactionError"}var zP=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function pg(t){return t==null}function Nu(t){return t===0&&1/t==-1/0}function qG(t){return typeof t=="number"&&Number.isInteger(t)&&!Nu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var WG=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Uce=[...WG,"documentOverlays"],GG=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],KG=GG,Bce=[...KG,"indexConfiguration","indexState","indexEntries"];function mP(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ko(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HP(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var gt=class t{constructor(e,n){this.comparator=e,this.root=n||Ri.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ic(this.root,e,this.comparator,!0)}},ic=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ri=class t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new t(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();let e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}};Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1;Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,i,r,s){return this}insert(e,n,i){return new Ri(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var tn=class t{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Up(this.data.getIterator())}getIteratorFrom(e){return new Up(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Up=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ai=class t{constructor(e){this.fields=e,e.sort(On.comparator)}static empty(){return new t([])}unionWith(e){let n=new tn(On.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oc(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var Bp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var dn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Bp("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};dn.EMPTY_BYTE_STRING=new dn("");var YG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(t){if(Ke(!!t),typeof t=="string"){let e=0,n=YG.exec(t);if(Ke(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:pt(t.seconds),nanos:pt(t.nanos)}}function pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bs(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}function RI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function kI(t){let e=t.mapValue.fields.__previous_value__;return RI(e)?kI(e):e}function Ou(t){let e=wr(t.mapValue.fields.__local_write_time__.timestampValue);return new zt(e.seconds,e.nanos)}var sw=class{constructor(e,n,i,r,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},$p=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Pp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?RI(t)?4:qP(t)?9007199254740991:10:oe()}function Ni(t,e){if(t===e)return!0;let n=Mo(t);if(n!==Mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ou(t).isEqual(Ou(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=wr(r.timestampValue),a=wr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return bs(r.bytesValue).isEqual(bs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return pt(r.geoPointValue.latitude)===pt(s.geoPointValue.latitude)&&pt(r.geoPointValue.longitude)===pt(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return pt(r.integerValue)===pt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=pt(r.doubleValue),a=pt(s.doubleValue);return o===a?Nu(o)===Nu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return oc(t.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(mP(o)!==mP(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Ni(o[c],a[c])))return!1;return!0}(t,e);default:return oe()}}function Fu(t,e){return(t.values||[]).find(n=>Ni(n,e))!==void 0}function ac(t,e){if(t===e)return 0;let n=Mo(t),i=Mo(e);if(n!==i)return Fe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=pt(s.integerValue||s.doubleValue),c=pt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return yP(t.timestampValue,e.timestampValue);case 4:return yP(Ou(t),Ou(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(s,o){let a=bs(s),c=bs(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let d=Fe(a[l],c[l]);if(d!==0)return d}return Fe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Fe(pt(s.latitude),pt(o.latitude));return a!==0?a:Fe(pt(s.longitude),pt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){let d=ac(a[l],c[l]);if(d)return d}return Fe(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Pp.mapValue&&o===Pp.mapValue)return 0;if(s===Pp.mapValue)return 1;if(o===Pp.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){let f=Fe(c[h],d[h]);if(f!==0)return f;let g=ac(a[c[h]],l[d[h]]);if(g!==0)return g}return Fe(c.length,d.length)}(t.mapValue,e.mapValue);default:throw oe()}}function yP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);let n=wr(t),i=wr(e),r=Fe(n.seconds,i.seconds);return r!==0?r:Fe(n.nanos,i.nanos)}function cc(t){return ow(t)}function ow(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=wr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let s of n.values||[])r?r=!1:i+=",",i+=ow(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${ow(n.fields[o])}`;return r+"}"}(t.mapValue):oe()}function aw(t){return!!t&&"integerValue"in t}function PI(t){return!!t&&"arrayValue"in t}function vP(t){return!!t&&"nullValue"in t}function _P(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Op(t){return!!t&&"mapValue"in t}function Mu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ko(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Mu(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Hn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Op(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(n)}setAll(e){let n=On.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=Mu(o):r.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){let n=this.field(e.popLast());Op(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Op(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){ko(n,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new t(Mu(this.value))}};function WP(t){let e=[];return ko(t.fields,(n,i)=>{let r=new On([n]);if(Op(i)){let s=WP(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new Ai(e)}var li=class t{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,fe.min(),fe.min(),fe.min(),Hn.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,fe.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,fe.min(),fe.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,fe.min(),fe.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var lc=class{constructor(e,n){this.position=e,this.inclusive=n}};function bP(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let s=e[r],o=t.position[r];if(s.field.isKeyField()?i=re.comparator(re.fromName(o.referenceValue),n.key):i=ac(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function wP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ni(t.position[n],e.position[n]))return!1;return!0}var uc=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function QG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var zp=class{},Mt=class t extends zp{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new lw(e,n,i):n==="array-contains"?new hw(e,i):n==="in"?new fw(e,i):n==="not-in"?new pw(e,i):n==="array-contains-any"?new gw(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new uw(e,i):new dw(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ac(n,this.value)):n!==null&&Mo(this.value)===Mo(n)&&this.matchesComparison(ac(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Oi=class t extends zp{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return GP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function GP(t){return t.op==="and"}function KP(t){return XG(t)&&GP(t)}function XG(t){for(let e of t.filters)if(e instanceof Oi)return!1;return!0}function cw(t){if(t instanceof Mt)return t.field.canonicalString()+t.op.toString()+cc(t.value);if(KP(t))return t.filters.map(e=>cw(e)).join(",");{let e=t.filters.map(n=>cw(n)).join(",");return`${t.op}(${e})`}}function YP(t,e){return t instanceof Mt?function(i,r){return r instanceof Mt&&i.op===r.op&&i.field.isEqual(r.field)&&Ni(i.value,r.value)}(t,e):t instanceof Oi?function(i,r){return r instanceof Oi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&YP(o,r.filters[a]),!0):!1}(t,e):void oe()}function QP(t){return t instanceof Mt?function(n){return`${n.field.canonicalString()} ${n.op} ${cc(n.value)}`}(t):t instanceof Oi?function(n){return n.op.toString()+" {"+n.getFilters().map(QP).join(" ,")+"}"}(t):"Filter"}var lw=class extends Mt{constructor(e,n,i){super(e,n,i),this.key=re.fromName(i.referenceValue)}matches(e){let n=re.comparator(e.key,this.key);return this.matchesComparison(n)}},uw=class extends Mt{constructor(e,n){super(e,"in",n),this.keys=XP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},dw=class extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=XP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function XP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>re.fromName(i.referenceValue))}var hw=class extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return PI(n)&&Fu(n.arrayValue,this.value)}},fw=class extends Mt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Fu(this.value.arrayValue,n)}},pw=class extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Fu(this.value.arrayValue,n)}},gw=class extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!PI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Fu(this.value.arrayValue,i))}};var mw=class{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function IP(t,e=null,n=[],i=[],r=null,s=null,o=null){return new mw(t,e,n,i,r,s,o)}function NI(t){let e=ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>cw(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),pg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>cc(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>cc(i)).join(",")),e.ue=n}return e.ue}function OI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wP(t.startAt,e.startAt)&&wP(t.endAt,e.endAt)}function yw(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var dc=class{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function ZG(t,e,n,i,r,s,o,a){return new dc(t,e,n,i,r,s,o,a)}function FI(t){return new dc(t)}function EP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JG(t){return t.collectionGroup!==null}function Ru(t){let e=ue(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tn(On.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new uc(s,i))}),n.has(On.keyField().canonicalString())||e.ce.push(new uc(On.keyField(),i))}return e.ce}function ki(t){let e=ue(t);return e.le||(e.le=e9(e,Ru(t))),e.le}function e9(t,e){if(t.limitType==="F")return IP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new uc(r.field,s)});let n=t.endAt?new lc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new lc(t.startAt.position,t.startAt.inclusive):null;return IP(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function vw(t,e,n){return new dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gg(t,e){return OI(ki(t),ki(e))&&t.limitType===e.limitType}function ZP(t){return`${NI(ki(t))}|lt:${t.limitType}`}function ec(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>QP(r)).join(", ")}]`),pg(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>cc(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>cc(r)).join(",")),`Target(${i})`}(ki(t))}; limitType=${t.limitType})`}function mg(t,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):re.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(let s of Ru(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,c){let l=bP(o,a,c);return o.inclusive?l<=0:l<0}(i.startAt,Ru(i),r)||i.endAt&&!function(o,a,c){let l=bP(o,a,c);return o.inclusive?l>=0:l>0}(i.endAt,Ru(i),r))}(t,e)}function t9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JP(t){return(e,n)=>{let i=!1;for(let r of Ru(t)){let s=n9(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function n9(t,e,n){let i=t.field.isKeyField()?re.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?ac(c,l):oe()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return oe()}}var ws=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ko(this.inner,(n,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return HP(this.inner)}size(){return this.innerSize}};var i9=new gt(re.comparator);function Ir(){return i9}var eN=new gt(re.comparator);function Au(...t){let e=eN;for(let n of t)e=e.insert(n.key,n);return e}function tN(t){let e=eN;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Do(){return ku()}function nN(){return ku()}function ku(){return new ws(t=>t.toString(),(t,e)=>t.isEqual(e))}var r9=new gt(re.comparator),s9=new tn(re.comparator);function Ce(...t){let e=s9;for(let n of t)e=e.add(n);return e}var o9=new tn(Fe);function a9(){return o9}function iN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nu(e)?"-0":e}}function rN(t){return{integerValue:""+t}}function c9(t,e){return qG(e)?rN(e):iN(t,e)}var hc=class{constructor(){this._=void 0}};function l9(t,e,n){return t instanceof fc?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&RI(s)&&(s=kI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Is?oN(t,e):t instanceof Ro?aN(t,e):function(r,s){let o=sN(r,s),a=CP(o)+CP(r.Pe);return aw(o)&&aw(r.Pe)?rN(a):iN(r.serializer,a)}(t,e)}function u9(t,e,n){return t instanceof Is?oN(t,e):t instanceof Ro?aN(t,e):n}function sN(t,e){return t instanceof pc?function(i){return aw(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var fc=class extends hc{},Is=class extends hc{constructor(e){super(),this.elements=e}};function oN(t,e){let n=cN(e);for(let i of t.elements)n.some(r=>Ni(r,i))||n.push(i);return{arrayValue:{values:n}}}var Ro=class extends hc{constructor(e){super(),this.elements=e}};function aN(t,e){let n=cN(e);for(let i of t.elements)n=n.filter(r=>!Ni(r,i));return{arrayValue:{values:n}}}var pc=class extends hc{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function CP(t){return pt(t.integerValue||t.doubleValue)}function cN(t){return PI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var _w=class{constructor(e,n){this.field=e,this.transform=n}};function d9(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Is&&r instanceof Is||i instanceof Ro&&r instanceof Ro?oc(i.elements,r.elements,Ni):i instanceof pc&&r instanceof pc?Ni(i.Pe,r.Pe):i instanceof fc&&r instanceof fc}(t.transform,e.transform)}var bw=class{constructor(e,n){this.version=e,this.transformResults=n}},xo=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Fp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var gc=class{};function lN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hp(t.key,xo.none()):new mc(t.key,t.data,xo.none());{let n=t.data,i=Hn.empty(),r=new tn(On.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Er(t.key,i,new Ai(r.toArray()),xo.none())}}function h9(t,e,n){t instanceof mc?function(r,s,o){let a=r.value.clone(),c=TP(r.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Er?function(r,s,o){if(!Fp(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=TP(r.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(uN(r)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Pu(t,e,n,i){return t instanceof mc?function(s,o,a,c){if(!Fp(s.precondition,o))return a;let l=s.value.clone(),d=xP(s.fieldTransforms,c,o);return l.setAll(d),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof Er?function(s,o,a,c){if(!Fp(s.precondition,o))return a;let l=xP(s.fieldTransforms,c,o),d=o.data;return d.setAll(uN(s)),d.setAll(l),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,i):function(s,o,a){return Fp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function f9(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),s=sN(i.transform,r||null);s!=null&&(n===null&&(n=Hn.empty()),n.set(i.field,s))}return n||null}function DP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&oc(i,r,(s,o)=>d9(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var mc=class extends gc{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Er=class extends gc{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function uN(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function TP(t,e,n){let i=new Map;Ke(t.length===n.length);for(let r=0;r<n.length;r++){let s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,u9(o,a,n[r]))}return i}function xP(t,e,n){let i=new Map;for(let r of t){let s=r.transform,o=n.data.field(r.field);i.set(r.field,l9(s,o,e))}return i}var Hp=class extends gc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ww=class extends gc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Iw=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&h9(s,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Pu(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Pu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=nN();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;let c=lN(o,a);c!==null&&i.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(fe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&oc(this.mutations,e.mutations,(n,i)=>DP(n,i))&&oc(this.baseMutations,e.baseMutations,(n,i)=>DP(n,i))}},Ew=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Ke(e.mutations.length===i.length);let r=function(){return r9}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new t(e,n,i,r)}};var Cw=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Dw=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var wt,Me;function p9(t){switch(t){default:return oe();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function dN(t){if(t===void 0)return br("GRPC error has no .code"),z.UNKNOWN;switch(t){case wt.OK:return z.OK;case wt.CANCELLED:return z.CANCELLED;case wt.UNKNOWN:return z.UNKNOWN;case wt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case wt.INTERNAL:return z.INTERNAL;case wt.UNAVAILABLE:return z.UNAVAILABLE;case wt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case wt.NOT_FOUND:return z.NOT_FOUND;case wt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case wt.ABORTED:return z.ABORTED;case wt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case wt.DATA_LOSS:return z.DATA_LOSS;default:return oe()}}(Me=wt||(wt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";var SP=null;function g9(){return new TextEncoder}var m9=new _s([4294967295,4294967295],0);function AP(t){let e=g9().encode(t),n=new j0;return n.update(e),new Uint8Array(n.digest())}function MP(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _s([n,i],0),new _s([r,s],0)]}var Tw=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new To(`Invalid padding: ${n}`);if(i<0)throw new To(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new To(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new To(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=_s.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(_s.fromNumber(i)));return r.compare(m9)===1&&(r=new _s([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=AP(e),[i,r]=MP(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=AP(e),[i,r]=MP(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},To=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var qp=class t{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(fe.min(),r,new gt(Fe),Ir(),Ce())}},Lu=class t{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,Ce(),Ce(),Ce())}};var rc=class{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}},Wp=class{constructor(e,n){this.targetId=e,this.me=n}},Gp=class{constructor(e,n,i=dn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},Kp=class{constructor(){this.fe=0,this.ge=kP(),this.pe=dn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Ce(),n=Ce(),i=Ce();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:oe()}}),new Lu(this.pe,this.ye,e,n,i)}ve(){this.we=!1,this.ge=kP()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},xw=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ir(),this.qe=RP(),this.Qe=new gt(Fe)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){let n=e.targetId,i=e.me.count,r=this.Je(n);if(r){let s=r.target;if(yw(s))if(i===0){let o=new re(s.path);this.Ue(n,o,li.newNoDocument(o,fe.min()))}else Ke(i===1);else{let o=this.Ye(n);if(o!==i){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}SP?.et(function(d,h,f,g,y){var _,v,C,S,k,P;let F={localCacheCount:d,existenceFilterCount:h.count,databaseId:f.database,projectId:f.projectId},N=h.unchangedNames;return N&&(F.bloomFilter={applied:y===0,hashCount:(_=N?.hashCount)!==null&&_!==void 0?_:0,bitmapLength:(S=(C=(v=N?.bits)===null||v===void 0?void 0:v.bitmap)===null||C===void 0?void 0:C.length)!==null&&S!==void 0?S:0,padding:(P=(k=N?.bits)===null||k===void 0?void 0:k.padding)!==null&&P!==void 0?P:0,mightContain:E=>{var b;return(b=g?.mightContain(E))!==null&&b!==void 0&&b}}),F}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n,o,a;try{o=bs(i).toUint8Array()}catch(c){if(c instanceof Bp)return sc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Tw(o,r,s)}catch(c){return sc(c instanceof To?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&yw(a.target)){let c=new re(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,li.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let i=Ce();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new qp(e,n,this.Qe,this.ke,i);return this.ke=Ir(),this.qe=RP(),this.Qe=new gt(Fe),r}$e(e,n){if(!this.ze(e))return;let i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Kp,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tn(Fe),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Kp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function RP(){return new gt(re.comparator)}function kP(){return new gt(re.comparator)}var y9={asc:"ASCENDING",desc:"DESCENDING"},v9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_9={and:"AND",or:"OR"},Sw=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Aw(t,e){return t.useProto3Json||pg(e)?e:{value:e}}function Yp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function b9(t,e){return Yp(t,e.toTimestamp())}function Pi(t){return Ke(!!t),fe.fromTimestamp(function(n){let i=wr(n);return new zt(i.seconds,i.nanos)}(t))}function LI(t,e){return Mw(t,e).canonicalString()}function Mw(t,e){let n=function(r){return new Et(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fN(t){let e=Et.fromString(t);return Ke(vN(e)),e}function Rw(t,e){return LI(t.databaseId,e.path)}function W0(t,e){let n=fN(e);if(n.get(1)!==t.databaseId.projectId)throw new te(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(gN(n))}function pN(t,e){return LI(t.databaseId,e)}function w9(t){let e=fN(t);return e.length===4?Et.emptyPath():gN(e)}function kw(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gN(t){return Ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function PP(t,e,n){return{name:Rw(t,e),fields:n.value.mapValue.fields}}function I9(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(l,d){return l.useProto3Json?(Ke(d===void 0||typeof d=="string"),dn.fromBase64String(d||"")):(Ke(d===void 0||d instanceof Buffer||d instanceof Uint8Array),dn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let d=l.code===void 0?z.UNKNOWN:dN(l.code);return new te(d,l.message||"")}(o);n=new Gp(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=W0(t,i.document.name),s=Pi(i.document.updateTime),o=i.document.createTime?Pi(i.document.createTime):fe.min(),a=new Hn({mapValue:{fields:i.document.fields}}),c=li.newFoundDocument(r,s,o,a),l=i.targetIds||[],d=i.removedTargetIds||[];n=new rc(l,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=W0(t,i.document),s=i.readTime?Pi(i.readTime):fe.min(),o=li.newNoDocument(r,s),a=i.removedTargetIds||[];n=new rc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=W0(t,i.document),s=i.removedTargetIds||[];n=new rc([],s,r,null)}else{if(!("filter"in e))return oe();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new Dw(r,s),a=i.targetId;n=new Wp(a,o)}}return n}function E9(t,e){let n;if(e instanceof mc)n={update:PP(t,e.key,e.value)};else if(e instanceof Hp)n={delete:Rw(t,e.key)};else if(e instanceof Er)n={update:PP(t,e.key,e.data),updateMask:k9(e.fieldMask)};else{if(!(e instanceof ww))return oe();n={verify:Rw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof fc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Is)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ro)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof pc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw oe()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:b9(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:oe()}(t,e.precondition)),n}function C9(t,e){return t&&t.length>0?(Ke(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Pi(r.updateTime):Pi(s);return o.isEqual(fe.min())&&(o=Pi(s)),new bw(o,r.transformResults||[])}(n,e))):[]}function D9(t,e){return{documents:[pN(t,e.path)]}}function T9(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=pN(t,r);let s=function(l){if(l.length!==0)return yN(Oi.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(d=>function(f){return{field:tc(f.field),direction:A9(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Aw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:r}}function x9(t){let e=w9(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Ke(i===1);let d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){let f=mN(h);return f instanceof Oi&&KP(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(y){return new uc(nc(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,pg(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){let f=!!h.before,g=h.values||[];return new lc(g,f)}(n.startAt));let l=null;return n.endAt&&(l=function(h){let f=!h.before,g=h.values||[];return new lc(g,f)}(n.endAt)),ZG(e,r,o,s,a,"F",c,l)}function S9(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=nc(n.unaryFilter.field);return Mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=nc(n.unaryFilter.field);return Mt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=nc(n.unaryFilter.field);return Mt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=nc(n.unaryFilter.field);return Mt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return Mt.create(nc(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Oi.create(n.compositeFilter.filters.map(i=>mN(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function A9(t){return y9[t]}function M9(t){return v9[t]}function R9(t){return _9[t]}function tc(t){return{fieldPath:t.canonicalString()}}function nc(t){return On.fromServerFormat(t.fieldPath)}function yN(t){return t instanceof Mt?function(n){if(n.op==="=="){if(_P(n.value))return{unaryFilter:{field:tc(n.field),op:"IS_NAN"}};if(vP(n.value))return{unaryFilter:{field:tc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_P(n.value))return{unaryFilter:{field:tc(n.field),op:"IS_NOT_NAN"}};if(vP(n.value))return{unaryFilter:{field:tc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tc(n.field),op:M9(n.op),value:n.value}}}(t):t instanceof Oi?function(n){let i=n.getFilters().map(r=>yN(r));return i.length===1?i[0]:{compositeFilter:{op:R9(n.op),filters:i}}}(t):oe()}function k9(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Vu=class t{constructor(e,n,i,r,s=fe.min(),o=fe.min(),a=dn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Pw=class{constructor(e){this.ct=e}};function P9(t){let e=x9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vw(e,e.limit,"L"):e}var Qp=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(pt(e.integerValue));else if("doubleValue"in e){let i=pt(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),Nu(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"&&(i=wr(i)),n.At(`${i.seconds||""}`),n.dt(i.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(bs(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?qP(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):oe()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),re.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Qp.bt=new Qp;var Nw=class{constructor(){this._n=new Ow}addToCollectionParentIndex(e,n){return this._n.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Ao.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Ao.min())}updateCollectionGroup(e,n,i){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}},Ow=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new tn(Et.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new tn(Et.comparator)).toArray()}};var zce=new Uint8Array(0);var Si=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Si.DEFAULT_COLLECTION_PERCENTILE=10,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Si.DEFAULT=new Si(41943040,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Si.DISABLED=new Si(-1,0,0);var ju=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var Fw=class{constructor(){this.changes=new ws(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,li.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?K.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Lw=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Vw=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Pu(i.mutation,r,Ai.empty(),zt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ce()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ce()){let r=Do();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Au();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let i=Do();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ce()))}populateOverlays(e,n,i){let r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=Ir(),o=ku(),a=function(){return ku()}();return n.forEach((c,l)=>{let d=i.get(l.key);r.has(l.key)&&(d===void 0||d.mutation instanceof Er)?s=s.insert(l.key,l):d!==void 0?(o.set(l.key,d.mutation.getFieldMask()),Pu(d.mutation,l,d.mutation.getFieldMask(),zt.now())):o.set(l.key,Ai.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,d)=>o.set(l,d)),n.forEach((l,d)=>{var h;return a.set(l,new Lw(d,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){let i=ku(),r=new gt((o,a)=>o-a),s=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let d=i.get(c)||Ai.empty();d=a.applyToLocalView(l,d),i.set(c,d);let h=(r.get(a.batchId)||Ce()).add(c);r=r.insert(a.batchId,h)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,d=c.value,h=nN();d.forEach(f=>{if(!s.has(f)){let g=lN(n.get(f),i.get(f));g!==null&&h.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return K.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JG(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):K.resolve(Do()),a=-1,c=s;return o.next(l=>K.forEach(l,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?K.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,Ce())).next(d=>({batchId:a,changes:tN(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(i=>{let r=Au();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let s=n.collectionGroup,o=Au();return this.indexManager.getCollectionParents(e,s).next(a=>K.forEach(a,c=>{let l=function(h,f){return new dc(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,i,r).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((c,l)=>{let d=l.getKey();o.get(d)===null&&(o=o.insert(d,li.newInvalidDocument(d)))});let a=Au();return o.forEach((c,l)=>{let d=s.get(c);d!==void 0&&Pu(d.mutation,l,Ai.empty(),zt.now()),mg(n,l)&&(a=a.insert(c,l))}),a})}};var jw=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return K.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Pi(r.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:P9(r.bundledQuery),readTime:Pi(r.readTime)}}(n)),K.resolve()}};var Uw=class{constructor(){this.overlays=new gt(re.comparator),this.hr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){let i=Do();return K.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),K.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),K.resolve()}getOverlaysForCollection(e,n,i){let r=Do(),s=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return K.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new gt((l,d)=>l-d),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>i){let d=s.get(l.largestBatchId);d===null&&(d=Do(),s=s.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=Do(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=r)););return K.resolve(a)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new Cw(n,i));let s=this.hr.get(n);s===void 0&&(s=Ce(),this.hr.set(n,s)),this.hr.set(n,s.add(i.key))}};var Uu=class{constructor(){this.Pr=new tn(It.Ir),this.Tr=new tn(It.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new It(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new It(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new re(new Et([])),i=new It(n,e),r=new It(n,e+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new re(new Et([])),i=new It(n,e),r=new It(n,e+1),s=Ce();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new It(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},It=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return re.comparator(e.key,n.key)||Fe(e.pr,n.pr)}static Er(e,n){return Fe(e.pr,n.pr)||re.comparator(e.key,n.key)}};var Bw=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new tn(It.Ir)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Iw(s,n,i,r);this.mutationQueue.push(o);for(let a of r)this.wr=this.wr.add(new It(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),s=r<0?0:r;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new It(n,0),r=new It(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],o=>{let a=this.Sr(o.pr);s.push(a)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new tn(Fe);return n.forEach(r=>{let s=new It(r,0),o=new It(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{i=i.add(a.pr)})}),K.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,s=i;re.isDocumentKey(s)||(s=s.child(""));let o=new It(new re(s),0),a=new tn(Fe);return this.wr.forEachWhile(c=>{let l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.pr)),!0)},o),K.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ke(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return K.forEach(n.mutations,r=>{let s=new It(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new It(n,0),r=this.wr.firstAfterOrEqual(i);return K.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var $w=class{constructor(e){this.vr=e,this.docs=function(){return new gt(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return K.resolve(i?i.document.mutableCopy():li.newInvalidDocument(n))}getEntries(e,n){let i=Ir();return n.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():li.newInvalidDocument(r))}),K.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Ir(),o=n.path,a=new re(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:d}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||$G(BG(d),i)<=0||(r.has(d.key)||mg(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(e,n,i,r){oe()}Fr(e,n){return K.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new zw(this)}getSize(e){return K.resolve(this.size)}},zw=class extends Fw{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),K.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var Hw=class{constructor(e){this.persistence=e,this.Mr=new ws(n=>NI(n),OI),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Uu,this.targetCount=0,this.Lr=ju.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),K.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new ju(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.qn(n),K.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,i){let r=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),K.waitFor(s).next(()=>r)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return K.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),K.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),K.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return K.resolve(i)}containsKey(e,n){return K.resolve(this.Nr.containsKey(n))}};var qw=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new zP(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Hw(this),this.indexManager=new Nw,this.remoteDocumentCache=function(r){return new $w(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new Pw(n),this.$r=new jw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Uw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new Bw(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){X("MemoryPersistence","Starting transaction:",e);let r=new Ww(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(e,n){return K.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}},Ww=class extends rw{constructor(e){super(),this.currentSequenceNumber=e}},Gw=class t{constructor(e){this.persistence=e,this.zr=new Uu,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw oe()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),K.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),K.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Jr,i=>{let r=re.fromPath(i);return this.Yr(e,r).next(s=>{s||n.removeEntry(r,fe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return K.or([()=>K.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Kw=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=Ce(),r=Ce();for(let s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new t(e,n.fromCache,i,r)}};var Yw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Qw=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return ik()?8:HG(At())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Yw;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(Su()<=Ee.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",ec(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),K.resolve()):(Su()<=Ee.DEBUG&&X("QueryEngine","Query:",ec(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Su()<=Ee.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",ec(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(n))):K.resolve())}ji(e,n){if(EP(n))return K.resolve(null);let i=ki(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=vw(n,null,"F"),i=ki(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=Ce(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let l=this.Zi(n,a);return this.Xi(n,l,o,c.readTime)?this.ji(e,vw(n,null,"F")):this.es(e,l,n,c)}))})))}Hi(e,n,i,r){return EP(n)||r.isEqual(fe.min())?K.resolve(null):this.zi.getDocuments(e,i).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,i,r)?K.resolve(null):(Su()<=Ee.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ec(n)),this.es(e,o,n,UG(r,-1)).next(a=>a))})}Zi(e,n){let i=new tn(JP(e));return n.forEach((r,s)=>{mg(e,s)&&(i=i.add(s))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(e,n,i){return Su()<=Ee.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",ec(n)),this.zi.getDocumentsMatchingQuery(e,n,Ao.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Xw=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new gt(Fe),this.rs=new ws(s=>NI(s),OI),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vw(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function N9(t,e,n,i){return new Xw(t,e,n,i)}function _N(t,e){return A(this,null,function*(){let n=ue(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],c=Ce();for(let l of r){o.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of s){a.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(i,c).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})})}function O9(t,e){let n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,d){let h=l.batch,f=h.keys(),g=K.resolve();return f.forEach(y=>{g=g.next(()=>d.getEntry(c,y)).next(_=>{let v=l.docVersions.get(y);Ke(v!==null),_.version.compareTo(v)<0&&(h.applyToRemoteDocument(_,l),_.isValidDocument()&&(_.setReadTime(l.commitVersion),d.addEntry(_)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=Ce();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function bN(t){let e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function F9(t,e){let n=ue(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let a=[];e.targetChanges.forEach((d,h)=>{let f=r.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,h)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(dn.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,i)),r=r.insert(h,g),function(_,v,C){return _.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(f,g,d)&&a.push(n.Qr.updateTargetData(s,g))});let c=Ir(),l=Ce();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(L9(s,o,e.documentUpdates).next(d=>{c=d.cs,l=d.ls})),!i.isEqual(fe.min())){let d=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return K.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ns=r,s))}function L9(t,e,n){let i=Ce(),r=Ce();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Ir();return n.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(fe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:o,ls:r}})}function V9(t,e){let n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function j9(t,e){let n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(s=>s?(r=s,K.resolve(r)):n.Qr.allocateTargetId(i).next(o=>(r=new Vu(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function Zw(t,e,n){return A(this,null,function*(){let i=ue(t),r=i.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Ku(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function NP(t,e,n){let i=ue(t),r=fe.min(),s=Ce();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,d){let h=ue(c),f=h.rs.get(d);return f!==void 0?K.resolve(h.ns.get(f)):h.Qr.getTargetData(l,d)}(i,o,ki(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>i.ts.getDocumentsMatchingQuery(o,e,n?r:fe.min(),n?s:Ce())).next(a=>(U9(i,t9(e),a),{documents:a,hs:s})))}function U9(t,e,n){let i=t.ss.get(e)||fe.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.ss.set(e,i)}var Xp=class{constructor(){this.activeTargetIds=a9()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Jw=class{constructor(){this.no=new Xp,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Xp,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var eI=class{io(e){}shutdown(){}};var Zp=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Np=null;function G0(){return Np===null?Np=function(){return 268435456+Math.round(2147483648*Math.random())}():Np++,"0x"+Np.toString(16)}var B9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var tI=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var en="WebChannelConnection",nI=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+n.host,this.So=`projects/${r}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(n,i,r,s,o){let a=G0(),c=this.vo(n,i.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,s,o),this.Mo(n,c,l,r).then(d=>(X("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw sc("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",c,"request:",r),d})}xo(n,i,r,s,o,a){return this.Co(n,i,r,s,o)}Fo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}vo(n,i){let r=B9[n];return`${this.wo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,i,r){let s=G0();return new Promise((o,a)=>{let c=new U0;c.setWithCredentials(!0),c.listenOnce($0.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case xu.NO_ERROR:let d=c.getResponseJson();X(en,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case xu.TIMEOUT:X(en,`RPC '${e}' ${s} timed out`),a(new te(z.DEADLINE_EXCEEDED,"Request time out"));break;case xu.HTTP_ERROR:let h=c.getStatus();if(X(en,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);let g=f?.error;if(g&&g.status&&g.message){let y=function(v){let C=v.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(C)>=0?C:z.UNKNOWN}(g.status);a(new te(y,g.message))}else a(new te(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new te(z.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{X(en,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(r);X(en,`RPC '${e}' ${s} sending request:`,r),c.send(n,"POST",l,i,15)})}Oo(e,n,i){let r=G0(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=q0(),a=H0(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new B0({})),this.Fo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let d=s.join("");X(en,`Creating RPC '${e}' stream ${r}: ${d}`,c);let h=o.createWebChannel(d,c),f=!1,g=!1,y=new tI({lo:v=>{g?X(en,`Not sending because RPC '${e}' stream ${r} is closed:`,v):(f||(X(en,`Opening RPC '${e}' stream ${r} transport.`),h.open(),f=!0),X(en,`RPC '${e}' stream ${r} sending:`,v),h.send(v))},ho:()=>h.close()}),_=(v,C,S)=>{v.listen(C,k=>{try{S(k)}catch(P){setTimeout(()=>{throw P},0)}})};return _(h,Ja.EventType.OPEN,()=>{g||(X(en,`RPC '${e}' stream ${r} transport opened.`),y.mo())}),_(h,Ja.EventType.CLOSE,()=>{g||(g=!0,X(en,`RPC '${e}' stream ${r} transport closed`),y.po())}),_(h,Ja.EventType.ERROR,v=>{g||(g=!0,sc(en,`RPC '${e}' stream ${r} transport errored:`,v),y.po(new te(z.UNAVAILABLE,"The operation could not be completed")))}),_(h,Ja.EventType.MESSAGE,v=>{var C;if(!g){let S=v.data[0];Ke(!!S);let k=S,P=k.error||((C=k[0])===null||C===void 0?void 0:C.error);if(P){X(en,`RPC '${e}' stream ${r} received error:`,P);let F=P.status,N=function(I){let T=wt[I];if(T!==void 0)return dN(T)}(F),E=P.message;N===void 0&&(N=z.INTERNAL,E="Unknown error status: "+F+" with message "+P.message),g=!0,y.po(new te(N,E)),h.close()}else X(en,`RPC '${e}' stream ${r} received:`,S),y.yo(S)}}),_(a,z0.STAT_EVENT,v=>{v.stat===kp.PROXY?X(en,`RPC '${e}' stream ${r} detected buffering proxy`):v.stat===kp.NOPROXY&&X(en,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.fo()},0),y}};function K0(){return typeof document<"u"?document:null}function yg(t){return new Sw(t,!0)}var Jp=class{constructor(e,n,i=1e3,r=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=i,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,n-i);r>0&&X("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var eg=class{constructor(e,n,i,r,s,o,a,c){this.oi=e,this.Go=i,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Jp(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return A(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return A(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return A(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(br(n.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===n&&this.u_(i,r)},i=>{e(()=>{let r=new te(z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(e,n){let i=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>A(this,null,function*(){this.state=0,this.start()}))}c_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},iI=class extends eg{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=I9(this.serializer,e),i=function(s){if(!("targetChange"in s))return fe.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?Pi(o.readTime):fe.min()}(e);return this.listener.h_(n,i)}P_(e){let n={};n.database=kw(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=yw(c)?{documents:D9(s,c)}:{query:T9(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=hN(s,o.resumeToken);let l=Aw(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(fe.min())>0){a.readTime=Yp(s,o.snapshotVersion.toTimestamp());let l=Aw(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let i=S9(this.serializer,e);i&&(n.labels=i),this.i_(n)}I_(e){let n={};n.database=kw(this.serializer),n.removeTarget=e,this.i_(n)}},rI=class extends eg{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=C9(e.writeResults,e.commitTime),i=Pi(e.commitTime);return this.listener.A_(i,n)}return Ke(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=kw(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>E9(this.serializer,i))};this.i_(n)}};var sI=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new te(z.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,Mw(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(z.UNKNOWN,s.toString())})}xo(e,n,i,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,Mw(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(z.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},oI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(br(n),this.y_=!1):X("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var aI=class{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{i.enqueueAndForget(()=>A(this,null,function*(){Po(this)&&(X("RemoteStore","Restarting streams for network reachability change."),yield function(c){return A(this,null,function*(){let l=ue(c);l.M_.add(4),yield Yu(l),l.N_.set("Unknown"),l.M_.delete(4),yield vg(l)})}(this))}))}),this.N_=new oI(i,r)}};function vg(t){return A(this,null,function*(){if(Po(t))for(let e of t.x_)yield e(!0)})}function Yu(t){return A(this,null,function*(){for(let e of t.x_)yield e(!1)})}function wN(t,e){let n=ue(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),BI(n)?UI(n):wc(n).Xo()&&jI(n,e))}function VI(t,e){let n=ue(t),i=wc(n);n.F_.delete(e),i.Xo()&&IN(n,e),n.F_.size===0&&(i.Xo()?i.n_():Po(n)&&n.N_.set("Unknown"))}function jI(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wc(t).P_(e)}function IN(t,e){t.L_.xe(e),wc(t).I_(e)}function UI(t){t.L_=new xw({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),wc(t).start(),t.N_.w_()}function BI(t){return Po(t)&&!wc(t).Zo()&&t.F_.size>0}function Po(t){return ue(t).M_.size===0}function EN(t){t.L_=void 0}function $9(t){return A(this,null,function*(){t.N_.set("Online")})}function z9(t){return A(this,null,function*(){t.F_.forEach((e,n)=>{jI(t,e)})})}function H9(t,e){return A(this,null,function*(){EN(t),BI(t)?(t.N_.D_(e),UI(t)):t.N_.set("Unknown")})}function q9(t,e,n){return A(this,null,function*(){if(t.N_.set("Online"),e instanceof Gp&&e.state===2&&e.cause)try{yield function(r,s){return A(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.F_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.F_.delete(a),r.L_.removeTarget(a))})}(t,e)}catch(i){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield tg(t,i)}else if(e instanceof rc?t.L_.Ke(e):e instanceof Wp?t.L_.He(e):t.L_.We(e),!n.isEqual(fe.min()))try{let i=yield bN(t.localStore);n.compareTo(i)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let d=s.F_.get(l);d&&s.F_.set(l,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{let d=s.F_.get(c);if(!d)return;s.F_.set(c,d.withResumeToken(dn.EMPTY_BYTE_STRING,d.snapshotVersion)),IN(s,c);let h=new Vu(d.target,c,l,d.sequenceNumber);jI(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){X("RemoteStore","Failed to raise snapshot:",i),yield tg(t,i)}})}function tg(t,e,n){return A(this,null,function*(){if(!Ku(e))throw e;t.M_.add(1),yield Yu(t),t.N_.set("Offline"),n||(n=()=>bN(t.localStore)),t.asyncQueue.enqueueRetryable(()=>A(this,null,function*(){X("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield vg(t)}))})}function CN(t,e){return e().catch(n=>tg(t,n,e))}function _g(t){return A(this,null,function*(){let e=ue(t),n=Es(e),i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;W9(e);)try{let r=yield V9(e.localStore,i);if(r===null){e.v_.length===0&&n.n_();break}i=r.batchId,G9(e,r)}catch(r){yield tg(e,r)}DN(e)&&TN(e)})}function W9(t){return Po(t)&&t.v_.length<10}function G9(t,e){t.v_.push(e);let n=Es(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function DN(t){return Po(t)&&!Es(t).Zo()&&t.v_.length>0}function TN(t){Es(t).start()}function K9(t){return A(this,null,function*(){Es(t).V_()})}function Y9(t){return A(this,null,function*(){let e=Es(t);for(let n of t.v_)e.d_(n.mutations)})}function Q9(t,e,n){return A(this,null,function*(){let i=t.v_.shift(),r=Ew.from(i,e,n);yield CN(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield _g(t)})}function X9(t,e){return A(this,null,function*(){e&&Es(t).E_&&(yield function(i,r){return A(this,null,function*(){if(function(o){return p9(o)&&o!==z.ABORTED}(r.code)){let s=i.v_.shift();Es(i).t_(),yield CN(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield _g(i)}})}(t,e)),DN(t)&&TN(t)})}function OP(t,e){return A(this,null,function*(){let n=ue(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");let i=Po(n);n.M_.add(3),yield Yu(n),i&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield vg(n)})}function Z9(t,e){return A(this,null,function*(){let n=ue(t);e?(n.M_.delete(2),yield vg(n)):e||(n.M_.add(2),yield Yu(n),n.N_.set("Unknown"))})}function wc(t){return t.B_||(t.B_=function(n,i,r){let s=ue(n);return s.f_(),new iI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:$9.bind(null,t),To:z9.bind(null,t),Ao:H9.bind(null,t),h_:q9.bind(null,t)}),t.x_.push(e=>A(this,null,function*(){e?(t.B_.t_(),BI(t)?UI(t):t.N_.set("Unknown")):(yield t.B_.stop(),EN(t))}))),t.B_}function Es(t){return t.k_||(t.k_=function(n,i,r){let s=ue(n);return s.f_(),new rI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:K9.bind(null,t),Ao:X9.bind(null,t),R_:Y9.bind(null,t),A_:Q9.bind(null,t)}),t.x_.push(e=>A(this,null,function*(){e?(t.k_.t_(),yield _g(t)):(yield t.k_.stop(),t.v_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var cI=class t{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){let o=Date.now()+i,a=new t(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function $I(t,e){if(br("AsyncQueue",`${e}: ${t}`),Ku(t))return new te(z.UNAVAILABLE,`${e}: ${t}`);throw t}var ng=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||re.comparator(n.key,i.key):(n,i)=>re.comparator(n.key,i.key),this.keyedMap=Au(),this.sortedSet=new gt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var ig=class{constructor(){this.q_=new gt(re.comparator)}track(e){let n=e.doc.key,i=this.q_.get(n);i?e.type!==0&&i.type===3?this.q_=this.q_.insert(n,e):e.type===3&&i.type!==1?this.q_=this.q_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.q_=this.q_.remove(n):e.type===1&&i.type===2?this.q_=this.q_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):oe():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,i)=>{e.push(i)}),e}},yc=class t{constructor(e,n,i,r,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,i,r,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,ng.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var lI=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},uI=class{constructor(){this.queries=new ws(e=>ZP(e),gg),this.onlineState="Unknown",this.z_=new Set}};function J9(t,e){return A(this,null,function*(){let n=ue(t),i=3,r=e.query,s=n.queries.get(r);s?!s.W_()&&e.G_()&&(i=2):(s=new lI,i=e.G_()?0:1);try{switch(i){case 0:s.K_=yield n.onListen(r,!0);break;case 1:s.K_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(o){let a=$I(o,`Initialization of query '${ec(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&zI(n)})}function e6(t,e){return A(this,null,function*(){let n=ue(t),i=e.query,r=3,s=n.queries.get(i);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?r=e.G_()?0:1:!s.W_()&&e.G_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function t6(t,e){let n=ue(t),i=!1;for(let r of e){let s=r.query,o=n.queries.get(s);if(o){for(let a of o.U_)a.H_(r)&&(i=!0);o.K_=r}}i&&zI(n)}function n6(t,e,n){let i=ue(t),r=i.queries.get(e);if(r)for(let s of r.U_)s.onError(n);i.queries.delete(e)}function zI(t){t.z_.forEach(e=>{e.next()})}var dI,FP;(FP=dI||(dI={})).J_="default",FP.Cache="cache";var hI=class{constructor(e,n,i){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new yc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let i=n!=="Offline";return(!this.options.ra||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==dI.Cache}};var rg=class{constructor(e){this.key=e}},sg=class{constructor(e){this.key=e}},fI=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Ce(),this.mutatedKeys=Ce(),this.Ia=JP(e),this.Ta=new ng(this.Ia)}get Ea(){return this.la}da(e,n){let i=n?n.Aa:new ig,r=n?n.Ta:this.Ta,s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,h)=>{let f=r.get(d),g=mg(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),v=!1;f&&g?f.data.isEqual(g.data)?y!==_&&(i.track({type:3,doc:g}),v=!0):this.Ra(f,g)||(i.track({type:2,doc:g}),v=!0,(c&&this.Ia(g,c)>0||l&&this.Ia(g,l)<0)&&(a=!0)):!f&&g?(i.track({type:0,doc:g}),v=!0):f&&!g&&(i.track({type:1,doc:f}),v=!0,(c||l)&&(a=!0)),v&&(g?(o=o.add(g),s=_?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Ta:o,Aa:i,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((d,h)=>function(g,y){let _=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return _(g)-_(y)}(d.type,h.type)||this.Ia(d.doc,h.doc)),this.Va(i),r=r!=null&&r;let a=n&&!r?this.ma():[],c=this.Pa.size===0&&this.current&&!r?1:0,l=c!==this.ha;return this.ha=c,o.length!==0||l?{snapshot:new yc(this.query,e.Ta,s,o,e.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new ig,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=Ce(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});let n=[];return e.forEach(i=>{this.Pa.has(i)||n.push(new sg(i))}),this.Pa.forEach(i=>{e.has(i)||n.push(new rg(i))}),n}pa(e){this.la=e.hs,this.Pa=Ce();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return yc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},pI=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},gI=class{constructor(e){this.key=e,this.wa=!1}},mI=class{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new ws(a=>ZP(a),gg),this.Da=new Map,this.Ca=new Set,this.va=new gt(re.comparator),this.Fa=new Map,this.Ma=new Uu,this.xa={},this.Oa=new Map,this.Na=ju.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function i6(t,e,n=!0){return A(this,null,function*(){let i=kN(t),r,s=i.ba.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=yield xN(i,e,n,!0),r})}function r6(t,e){return A(this,null,function*(){let n=kN(t);yield xN(n,e,!0,!1)})}function xN(t,e,n,i){return A(this,null,function*(){let r=yield j9(t.localStore,ki(e)),s=r.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return i&&(a=yield s6(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&wN(t.remoteStore,r),a})}function s6(t,e,n,i,r){return A(this,null,function*(){t.Ba=(h,f,g)=>function(_,v,C,S){return A(this,null,function*(){let k=v.view.da(C);k.Xi&&(k=yield NP(_.localStore,v.query,!1).then(({documents:E})=>v.view.da(E,k)));let P=S&&S.targetChanges.get(v.targetId),F=S&&S.targetMismatches.get(v.targetId)!=null,N=v.view.applyChanges(k,_.isPrimaryClient,P,F);return VP(_,v.targetId,N.fa),N.snapshot})}(t,h,f,g);let s=yield NP(t.localStore,e,!0),o=new fI(e,s.hs),a=o.da(s.documents),c=Lu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),l=o.applyChanges(a,t.isPrimaryClient,c);VP(t,n,l.fa);let d=new pI(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),l.snapshot})}function o6(t,e,n){return A(this,null,function*(){let i=ue(t),r=i.ba.get(e),s=i.Da.get(r.targetId);if(s.length>1)return i.Da.set(r.targetId,s.filter(o=>!gg(o,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Zw(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&VI(i.remoteStore,r.targetId),yI(i,r.targetId)}).catch(Gu))):(yI(i,r.targetId),yield Zw(i.localStore,r.targetId,!0))})}function a6(t,e){return A(this,null,function*(){let n=ue(t),i=n.ba.get(e),r=n.Da.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),VI(n.remoteStore,i.targetId))})}function c6(t,e,n){return A(this,null,function*(){let i=g6(t);try{let r=yield function(o,a){let c=ue(o),l=zt.now(),d=a.reduce((g,y)=>g.add(y.key),Ce()),h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=Ir(),_=Ce();return c.os.getEntries(g,d).next(v=>{y=v,y.forEach((C,S)=>{S.isValidDocument()||(_=_.add(C))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,y)).next(v=>{h=v;let C=[];for(let S of a){let k=f9(S,h.get(S.key).overlayedDocument);k!=null&&C.push(new Er(S.key,k,WP(k.value.mapValue),xo.exists(!0)))}return c.mutationQueue.addMutationBatch(g,l,C,a)}).next(v=>{f=v;let C=v.applyToLocalDocumentSet(h,_);return c.documentOverlayCache.saveOverlays(g,v.batchId,C)})}).then(()=>({batchId:f.batchId,changes:tN(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,c){let l=o.xa[o.currentUser.toKey()];l||(l=new gt(Fe)),l=l.insert(a,c),o.xa[o.currentUser.toKey()]=l}(i,r.batchId,n),yield Qu(i,r.changes),yield _g(i.remoteStore)}catch(r){let s=$I(r,"Failed to persist write");n.reject(s)}})}function SN(t,e){return A(this,null,function*(){let n=ue(t);try{let i=yield F9(n.localStore,e);e.targetChanges.forEach((r,s)=>{let o=n.Fa.get(s);o&&(Ke(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.wa=!0:r.modifiedDocuments.size>0?Ke(o.wa):r.removedDocuments.size>0&&(Ke(o.wa),o.wa=!1))}),yield Qu(n,i,e)}catch(i){yield Gu(i)}})}function LP(t,e,n){let i=ue(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let c=ue(o);c.onlineState=a;let l=!1;c.queries.forEach((d,h)=>{for(let f of h.U_)f.j_(a)&&(l=!0)}),l&&zI(c)}(i.eventManager,e),r.length&&i.Sa.h_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function l6(t,e,n){return A(this,null,function*(){let i=ue(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Fa.get(e),s=r&&r.key;if(s){let o=new gt(re.comparator);o=o.insert(s,li.newNoDocument(s,fe.min()));let a=Ce().add(s),c=new qp(fe.min(),new Map,new gt(Fe),o,a);yield SN(i,c),i.va=i.va.remove(s),i.Fa.delete(e),HI(i)}else yield Zw(i.localStore,e,!1).then(()=>yI(i,e,n)).catch(Gu)})}function u6(t,e){return A(this,null,function*(){let n=ue(t),i=e.batch.batchId;try{let r=yield O9(n.localStore,e);MN(n,i,null),AN(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Qu(n,r)}catch(r){yield Gu(r)}})}function d6(t,e,n){return A(this,null,function*(){let i=ue(t);try{let r=yield function(o,a){let c=ue(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(Ke(h!==null),d=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})}(i.localStore,e);MN(i,e,n),AN(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Qu(i,r)}catch(r){yield Gu(r)}})}function AN(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function MN(t,e,n){let i=ue(t),r=i.xa[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}function yI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Da.get(e))t.ba.delete(i),n&&t.Sa.ka(i,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(i=>{t.Ma.containsKey(i)||RN(t,i)})}function RN(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(VI(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),HI(t))}function VP(t,e,n){for(let i of n)i instanceof rg?(t.Ma.addReference(i.key,e),h6(t,i)):i instanceof sg?(X("SyncEngine","Document no longer in limbo: "+i.key),t.Ma.removeReference(i.key,e),t.Ma.containsKey(i.key)||RN(t,i.key)):oe()}function h6(t,e){let n=e.key,i=n.path.canonicalString();t.va.get(n)||t.Ca.has(i)||(X("SyncEngine","New document in limbo: "+n),t.Ca.add(i),HI(t))}function HI(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new re(Et.fromString(e)),i=t.Na.next();t.Fa.set(i,new gI(n)),t.va=t.va.insert(n,i),wN(t.remoteStore,new Vu(ki(FI(n.path)),i,"TargetPurposeLimboResolution",zP.oe))}}function Qu(t,e,n){return A(this,null,function*(){let i=ue(t),r=[],s=[],o=[];i.ba.isEmpty()||(i.ba.forEach((a,c)=>{o.push(i.Ba(c,e,n).then(l=>{if((l||n)&&i.isPrimaryClient){let d=l&&!l.fromCache;i.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(l){r.push(l);let d=Kw.Ki(c.targetId,l);s.push(d)}}))}),yield Promise.all(o),i.Sa.h_(r),yield function(c,l){return A(this,null,function*(){let d=ue(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>K.forEach(l,f=>K.forEach(f.qi,g=>d.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>K.forEach(f.Qi,g=>d.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!Ku(h))throw h;X("LocalStore","Failed to update sequence numbers: "+h)}for(let h of l){let f=h.targetId;if(!h.fromCache){let g=d.ns.get(f),y=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(y);d.ns=d.ns.insert(f,_)}}})}(i.localStore,s))})}function f6(t,e){return A(this,null,function*(){let n=ue(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());let i=yield _N(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new te(z.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Qu(n,i.us)}})}function p6(t,e){let n=ue(t),i=n.Fa.get(e);if(i&&i.wa)return Ce().add(i.key);{let r=Ce(),s=n.Da.get(e);if(!s)return r;for(let o of s){let a=n.ba.get(o);r=r.unionWith(a.view.Ea)}return r}}function kN(t){let e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l6.bind(null,e),e.Sa.h_=t6.bind(null,e.eventManager),e.Sa.ka=n6.bind(null,e.eventManager),e}function g6(t){let e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d6.bind(null,e),e}var og=class{constructor(){this.synchronizeTabs=!1}initialize(e){return A(this,null,function*(){this.serializer=yg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return N9(this.persistence,new Qw,e.initialUser,this.serializer)}createPersistence(e){return new qw(Gw.Hr,this.serializer)}createSharedClientState(e){return new Jw}terminate(){return A(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var vI=class{initialize(e,n){return A(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>LP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=f6.bind(null,this.syncEngine),yield Z9(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new uI}()}createDatastore(e){let n=yg(e.databaseInfo.databaseId),i=function(s){return new nI(s)}(e.databaseInfo);return function(s,o,a,c){return new sI(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new aI(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>LP(this.syncEngine,n,0),function(){return Zp.D()?new Zp:new eI}())}createSyncEngine(e,n){return function(r,s,o,a,c,l,d){let h=new mI(r,s,o,a,c,l);return d&&(h.La=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return A(this,null,function*(){var e;yield function(i){return A(this,null,function*(){let r=ue(i);X("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield Yu(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var _I=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var bI=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Ft.UNAUTHENTICATED,this.clientId=Vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>A(this,null,function*(){X("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(X("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>A(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=$I(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Y0(t,e){return A(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>A(this,null,function*(){i.isEqual(r)||(yield _N(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function jP(t,e){return A(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield y6(t);X("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>OP(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>OP(e.remoteStore,r)),t._onlineComponents=e})}function m6(t){return t.name==="FirebaseError"?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function y6(t){return A(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Y0(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!m6(n))throw n;sc("Error using user provided cache. Falling back to memory cache: "+n),yield Y0(t,new og)}}else X("FirestoreClient","Using default OfflineComponentProvider"),yield Y0(t,new og);return t._offlineComponents})}function PN(t){return A(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),yield jP(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),yield jP(t,new vI))),t._onlineComponents})}function v6(t){return PN(t).then(e=>e.syncEngine)}function _6(t){return A(this,null,function*(){let e=yield PN(t),n=e.eventManager;return n.onListen=i6.bind(null,e.syncEngine),n.onUnlisten=o6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=r6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a6.bind(null,e.syncEngine),n})}function b6(t,e,n={}){let i=new Mi;return t.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return function(s,o,a,c,l){let d=new _I({next:f=>{o.enqueueAndForget(()=>e6(s,h));let g=f.docs.has(a);!g&&f.fromCache?l.reject(new te(z.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&c&&c.source==="server"?l.reject(new te(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new hI(FI(a.path),d,{includeMetadataChanges:!0,ra:!0});return J9(s,h)}(yield _6(t),t.asyncQueue,e,n,i)})),i.promise}function NN(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var UP=new Map;function w6(t,e,n){if(!n)throw new te(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function I6(t,e,n,i){if(e===!0&&i===!0)throw new te(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function BP(t){if(!re.isDocumentKey(t))throw new te(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qI(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function Bu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=qI(t);throw new te(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ag=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new te(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NN((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},$u=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ag({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ag(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Q0;switch(i.type){case"firstParty":return new ew(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new te(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=UP.get(n);i&&(X("ComponentProvider","Removing Datastore"),UP.delete(n),i.terminate())}(this),Promise.resolve()}};function ON(t,e,n,i={}){var r;let s=(t=Bu(t,$u))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&sc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=Ft.MOCK_USER;else{a=ZR(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new te(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ft(l)}t._authCredentials=new X0(new Lp(a,c))}}var wI=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},qn=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},zu=class t extends wI{constructor(e,n,i){super(e,n,FI(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new re(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function FN(t,e,...n){if(t=un(t),arguments.length===1&&(e=Vp.newId()),w6("doc","path",e),t instanceof $u){let i=Et.fromString(e,...n);return BP(i),new qn(t,null,new re(i))}{if(!(t instanceof qn||t instanceof zu))throw new te(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Et.fromString(e,...n));return BP(i),new qn(t.firestore,t instanceof zu?t.converter:null,new re(i))}}var II=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Jp(this,"async_queue_retry"),this.hu=()=>{let n=K0();n&&X("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=K0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=K0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new Mi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return A(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Ku(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw br("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(e,n,i){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let r=cI.createAndSchedule(this,e,n,i,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&oe()}verifyOperationInProgress(){}du(){return A(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};var Hu=class extends $u{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new II}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jN(this),this._firestoreClient.terminate()}};function LN(t,e){let n=typeof t=="object"?t:Ya(),i=typeof t=="string"?t:e||"(default)",r=pu(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=XR("firestore");s&&ON(r,...s)}return r}function VN(t){return t._firestoreClient||jN(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jN(t){var e,n,i;let r=t._freezeSettings(),s=function(a,c,l,d){return new sw(a,c,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,NN(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new bI(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var qu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(dn.fromBase64String(e))}catch(n){throw new te(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var vc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new On(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var _c=class{constructor(e){this._methodName=e}};var Wu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}};var E6=/^__.*__$/;var cg=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Er(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function UN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}var lg=class t{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.wu(e),r}Su(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return dg(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(UN(this.fu)&&E6.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},EI=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||yg(e)}Fu(e,n,i,r=!1){return new lg({fu:e,methodName:n,vu:i,path:On.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function C6(t){let e=t._freezeSettings(),n=yg(t._databaseId);return new EI(t._databaseId,!!e.ignoreUndefinedProperties,n)}var ug=class t extends _c{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function D6(t,e,n){return new lg({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var CI=class t extends _c{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){let n=D6(this,e,!0),i=this.Mu.map(s=>Xu(s,n)),r=new Is(i);return new _w(e.path,r)}isEqual(e){return e instanceof t&&us(this.Mu,e.Mu)}};function T6(t,e,n,i){let r=t.Fu(1,e,n);$N("Data must be an object, but it was:",r,i);let s=[],o=Hn.empty();ko(i,(c,l)=>{let d=WI(e,c,n);l=un(l);let h=r.Su(d);if(l instanceof ug)s.push(d);else{let f=Xu(l,h);f!=null&&(s.push(d),o.set(d,f))}});let a=new Ai(s);return new cg(o,a,r.fieldTransforms)}function x6(t,e,n,i,r,s){let o=t.Fu(1,e,n),a=[$P(e,i,n)],c=[r];if(s.length%2!=0)throw new te(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push($P(e,s[f])),c.push(s[f+1]);let l=[],d=Hn.empty();for(let f=a.length-1;f>=0;--f)if(!M6(l,a[f])){let g=a[f],y=c[f];y=un(y);let _=o.Su(g);if(y instanceof ug)l.push(g);else{let v=Xu(y,_);v!=null&&(l.push(g),d.set(g,v))}}let h=new Ai(l);return new cg(d,h,o.fieldTransforms)}function Xu(t,e){if(BN(t=un(t)))return $N("Unsupported field value:",e,t),S6(t,e);if(t instanceof _c)return function(i,r){if(!UN(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let c=Xu(a,r.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=un(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return c9(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=zt.fromDate(i);return{timestampValue:Yp(r.serializer,s)}}if(i instanceof zt){let s=new zt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Yp(r.serializer,s)}}if(i instanceof Wu)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof qu)return{bytesValue:hN(r.serializer,i._byteString)};if(i instanceof qn){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:LI(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${qI(i)}`)}(t,e)}function S6(t,e){let n={};return HP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ko(t,(i,r)=>{let s=Xu(r,e.pu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function BN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof Wu||t instanceof qu||t instanceof qn||t instanceof _c)}function $N(t,e,n){if(!BN(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=qI(n);throw i==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+i)}}function $P(t,e,n){if((e=un(e))instanceof vc)return e._internalPath;if(typeof e=="string")return WI(t,e);throw dg("Field path arguments must be of type string or ",t,!1,void 0,n)}var A6=new RegExp("[~\\*/\\[\\]]");function WI(t,e,n){if(e.search(A6)>=0)throw dg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vc(...e.split("."))._internalPath}catch{throw dg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dg(t,e,n,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new te(z.INVALID_ARGUMENT,a+t+c)}function M6(t,e){return t.some(n=>n.isEqual(e))}var hg=class{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new DI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(zN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},DI=class extends hg{data(){return super.data()}};function zN(t,e){return typeof e=="string"?WI(t,e):e instanceof vc?e._internalPath:e._delegate._internalPath}var TI=class{convertValue(e,n="none"){switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return ko(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new Wu(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=kI(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ou(e));default:return null}}convertTimestamp(e){let n=wr(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=Et.fromString(e);Ke(vN(i));let r=new $p(i.get(1),i.get(3)),s=new re(i.popFirst(5));return r.isEqual(n)||br(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};var xI=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},fg=class extends hg{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new SI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(zN("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},SI=class extends fg{data(e={}){return super.data(e)}};function HN(t){t=Bu(t,qn);let e=Bu(t.firestore,Hu);return b6(VN(e),t._key).then(n=>k6(e,t,n))}var AI=class extends TI{constructor(e){super(),this.firestore=e}convertBytes(e){return new qu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,n)}};function qN(t,e,n,...i){t=Bu(t,qn);let r=Bu(t.firestore,Hu),s=C6(r),o;return o=typeof(e=un(e))=="string"||e instanceof vc?x6(s,"updateDoc",t._key,e,n,i):T6(s,"updateDoc",t._key,e),R6(r,[o.toMutation(t._key,xo.exists(!0))])}function R6(t,e){return function(i,r){let s=new Mi;return i.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return c6(yield v6(i),r,s)})),s.promise}(VN(t),e)}function k6(t,e,n){let i=n.docs.get(e._key),r=new AI(t);return new fg(t,r,e._key,i,new xI(n.hasPendingWrites,n.fromCache),e.converter)}function WN(...t){return new CI("arrayUnion",t)}(function(e,n=!0){(function(r){bc=r})(ps),fs(new zn("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new Hu(new Z0(i.getProvider("auth-internal")),new nw(i.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new te(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $p(l.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ot(gP,"4.6.3",e),Ot(gP,"4.6.3","esm2017")})();var No=class{constructor(e){return e}},GN="firestore",GI=class{constructor(){return Cu(GN)}};var KI=new q("angularfire2.firestore-instances");function P6(t,e){let n=L0(GN,t,e);return n&&new No(n)}function N6(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new No(i)}}var O6={provide:GI,deps:[[new mn,KI]]},F6={provide:No,useFactory:P6,deps:[[new mn,KI],Co]};function KN(t,...e){return Ot("angularfire",Za.full,"fst"),ri([F6,O6,{provide:KI,useFactory:N6(t),multi:!0,deps:[we,Bt,Du,Tu,[new mn,Mp],[new mn,Eu],...e]}])}var YN=vr(WN,!0);var YI=vr(FN,!0);var QN=vr(HN,!0);var XN=vr(LN,!0);var ZN=vr(qN,!0);var Wn=(()=>{let e=class e{constructor(i){this.firestore=i,this.CoinIdArray=new We([])}addCoinId(i,r){let s=YI(this.firestore,"cryto_sakha","coin_id");ZN(s,{[i]:YN(r)}),this.getcoind(i).then(o=>{console.log(o),this.CoinIdArray.next(o)})}getcoind(i){return A(this,null,function*(){let r=YI(this.firestore,"cryto_sakha","coin_id"),s=yield QN(r);return s.exists()?s.get(i):null})}makeIdArray(i){this.getcoind(i).then(r=>{console.log("data:",r),this.CoinIdArray.next(r),console.log(this.CoinIdArray)})}};e.\u0275fac=function(r){return new(r||e)($(No))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})();var Lt=(()=>{let e=class e{constructor(i,r,s){this.route=i,this.http=r,this.dbs=s,this.user=new We(null),this.isAuthenticated=new We(!1)}signUp(i,r){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAw0uOhSke__lpvVwp9UPup01yYP6R23Os",{email:i,password:r,returnSecureToken:!0})}SignIn(i,r){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAw0uOhSke__lpvVwp9UPup01yYP6R23Os",{email:i,password:r,returnSecureToken:!0})}autologin(){let i=JSON.parse(localStorage.getItem("userData"));if(!i)return;console.log(i);let r=new mo(i.email,i.id,i._token,i._tokenExpirationDate);r.token&&(this.user.next(r),this.dbs.makeIdArray(r.id),console.log(r))}};e.\u0275fac=function(r){return new(r||e)($(Ve),$(St),$(Wn))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})();var V6=["auth"];function j6(t,e){if(t&1&&(O(0,"p",10),U(1),V()),t&2){let n=De();W(),Te(n.msg)}}function U6(t,e){if(t&1&&(O(0,"p",11),U(1),V()),t&2){let n=De();W(),Te(n.msg)}}var JN=(()=>{let e=class e{constructor(i,r,s,o){this.authservice=i,this.router=r,this.activeRoute=s,this.dbs=o,this.error=!1,this.msg="",this.user=null,this.info=!1}onSignUp(i){console.log("signup..."),this.authservice.signUp(i.form.value.email,i.form.value.password).subscribe({next:r=>{console.log(r);let s=new Date(new Date().getTime()+ +r.expiresIn*1e3);this.user=new mo(r.email,r.localId,r.idToken,s),this.authservice.user.next(this.user),this.authservice.isAuthenticated.next(!0)},error:r=>{this.error=!0,this.msg="*An Error Occurred: "+r.error.error.message,console.log(r)},complete:()=>{localStorage.setItem("userData",JSON.stringify(this.user))}})}onSignIn(i){console.log("SIGNin..."),this.authservice.SignIn(i.form.value.email,i.form.value.password).subscribe({next:r=>{console.log(r);let s=new Date(new Date().getTime()+ +r.expiresIn*1e3);this.user=new mo(r.email,r.localId,r.idToken,s),this.authservice.user.next(this.user),console.log(this.authservice.user),this.authservice.isAuthenticated.next(!0)},error:r=>{this.error=!0,this.msg="*An Error Occurred: "+r.error.error.message,console.log(r)},complete:()=>{this.dbs.makeIdArray(this.user.id),localStorage.setItem("userData",JSON.stringify(this.user))}})}passreset(i){console.log("clicked!");let r=xp();Dp(r,i.form.value.email).then(()=>{this.info=!0,this.msg="Please check your mail-box to reset pass-word...! ",i.controls.password.reset()}).catch(s=>{let o=s.code;this.msg=s.message,this.error=!0})}};e.\u0275fac=function(r){return new(r||e)(B(Lt),B(Ve),B(Ue),B(Wn))},e.\u0275cmp=_e({type:e,selectors:[["app-auth"]],viewQuery:function(r,s){if(r&1&&lo(V6,5),r&2){let o;sr(o=or())&&(s.authForm=o.first)}},standalone:!0,features:[be],decls:18,vars:4,consts:[["form","ngForm","auth",""],["for","email"],["type","email","name","email","ngModel","","required",""],["for","password"],[1,"pass-div"],["type","password","name","password","ngModel","","required",""],[3,"click"],[3,"click","disabled"],["class","error",4,"ngIf"],["class","info",4,"ngIf"],[1,"error"],[1,"info"]],template:function(r,s){if(r&1){let o=yt();O(0,"form",null,0)(3,"label",1),U(4,"Email:"),V(),J(5,"input",2),O(6,"label",3),U(7,"Password:"),V(),O(8,"div",4),J(9,"input",5),O(10,"p",6),ke("click",function(){rt(o);let c=Jt(1);return st(s.passreset(c))}),U(11,"Forgot??"),V()(),O(12,"button",7),ke("click",function(){rt(o);let c=Jt(1);return st(s.onSignIn(c))}),U(13,"SIGN IN"),V(),O(14,"button",7),ke("click",function(){rt(o);let c=Jt(1);return st(s.onSignUp(c))}),U(15,"SIGN UP"),V()(),Oe(16,j6,2,1,"p",8)(17,U6,2,1,"p",9)}if(r&2){let o=Jt(1);W(12),ne("disabled",!o.valid),W(2),ne("disabled",!o.valid),W(2),ne("ngIf",s.error),W(),ne("ngIf",s.info)}},dependencies:[tp,GR,Jf,UR,BR,Nb,Pb,kb,xt,_n],styles:["label[_ngcontent-%COMP%]{margin-right:10px}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding:10px 15px;margin-right:10px;border-radius:6px;height:fit-content}.error[_ngcontent-%COMP%]{font-size:20px;color:red}.pass-div[_ngcontent-%COMP%]{display:flex;width:fit-content;flex-direction:column}.pass-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:12px 20px 0 0;text-align:right;font-size:12px}.pass-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{cursor:pointer}form[_ngcontent-%COMP%]{display:flex;height:fit-content}.info[_ngcontent-%COMP%]{font-size:20px;color:green}"]});let t=e;return t})();var QI;try{QI=typeof Intl<"u"&&Intl.v8BreakIterator}catch{QI=!1}var ed=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?S_(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||QI)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)($(vn))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ju;function B6(){if(Ju==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ju=!0}))}finally{Ju=Ju||!1}return Ju}function XI(t){return B6()?t:!!t.capture}function eO(t){return t.composedPath?t.composedPath()[0]:t.target}function tO(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ZI(t){return Array.isArray(t)?t:[t]}function JI(t){return t instanceof lt?t.nativeElement:t}var iO=new Set,Oo,$6=(()=>{let e=class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):H6}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&z6(i,this._nonce),this._matchMedia(i)}};e.\u0275fac=function(r){return new(r||e)($(ed),$(Cl,8))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function z6(t,e){if(!iO.has(t))try{Oo||(Oo=document.createElement("style"),e&&Oo.setAttribute("nonce",e),Oo.setAttribute("type","text/css"),document.head.appendChild(Oo)),Oo.sheet&&(Oo.sheet.insertRule(`@media ${t} {body{ }}`,0),iO.add(t))}catch(n){console.error(n)}}function H6(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var sO=(()=>{let e=class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new tt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return rO(ZI(i)).some(s=>this._registerQuery(s).mql.matches)}observe(i){let s=rO(ZI(i)).map(a=>this._registerQuery(a).observable),o=Ws(s);return o=Br(o.pipe(xn(1)),o.pipe(oy(1),Jm(0))),o.pipe(ee(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:d})=>{c.matches=c.matches||l,c.breakpoints[d]=l}),c}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),o={observable:new ce(a=>{let c=l=>this._zone.run(()=>a.next(l));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(al(r),ee(({matches:a})=>({query:i,matches:a})),cl(this._destroySubject)),mql:r};return this._queries.set(i,o),o}};e.\u0275fac=function(r){return new(r||e)($($6),$(we))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rO(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}function cO(t){return t.buttons===0||t.detail===0}function lO(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var Fo=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(Fo||{}),oO="cdk-high-contrast-black-on-white",aO="cdk-high-contrast-white-on-black",eE="cdk-high-contrast-active",uO=(()=>{let e=class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=j(sO).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Fo.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(i):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(i.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Fo.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Fo.BLACK_ON_WHITE}return Fo.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(eE,oO,aO),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Fo.BLACK_ON_WHITE?i.add(eE,oO):r===Fo.WHITE_ON_BLACK&&i.add(eE,aO)}}};e.\u0275fac=function(r){return new(r||e)($(ed),$(ot))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var tE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Tt({type:e}),e.\u0275inj=Dt({});let t=e;return t})();function G6(){return!0}var K6=new q("mat-sanity-checks",{providedIn:"root",factory:G6}),rE=(()=>{let e=class e{constructor(i,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return tO()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};e.\u0275fac=function(r){return new(r||e)($(uO),$(K6,8),$(ot))},e.\u0275mod=Tt({type:e}),e.\u0275inj=Dt({imports:[tE,tE]});let t=e;return t})();var Gn=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Gn||{}),nE=class{constructor(e,n,i,r=!1){this._renderer=e,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Gn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},dO=XI({passive:!0,capture:!0}),iE=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=eO(e);n&&this._events.get(e.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,i,r){let s=this._events.get(n);if(s){let o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,dO)})}removeHandler(e,n,i){let r=this._events.get(e);if(!r)return;let s=r.get(n);s&&(s.delete(i),s.size===0&&r.delete(n),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,dO)))}},hO={enterDuration:225,exitDuration:150},Y6=800,fO=XI({passive:!0,capture:!0}),pO=["mousedown","touchstart"],gO=["mouseup","mouseleave","touchend","touchcancel"],td=class td{constructor(e,n,i,r){this._target=e,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=JI(i))}fadeInRipple(e,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=H(H({},hO),i.animation);i.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);let o=i.radius||Q6(e,n,r),a=e-r.left,c=n-r.top,l=s.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-o}px`,d.style.top=`${c-o}px`,d.style.height=`${o*2}px`,d.style.width=`${o*2}px`,i.color!=null&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);let h=window.getComputedStyle(d),f=h.transitionProperty,g=h.transitionDuration,y=f==="none"||g==="0s"||g==="0s, 0s"||r.width===0&&r.height===0,_=new nE(this,d,i,y);d.style.transform="scale3d(1, 1, 1)",_.state=Gn.FADING_IN,i.persistent||(this._mostRecentTransientRipple=_);let v=null;return!y&&(l||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let C=()=>this._finishRippleTransition(_),S=()=>this._destroyRipple(_);d.addEventListener("transitionend",C),d.addEventListener("transitioncancel",S),v={onTransitionEnd:C,onTransitionCancel:S}}),this._activeRipples.set(_,v),(y||!l)&&this._finishRippleTransition(_),_}fadeOutRipple(e){if(e.state===Gn.FADING_OUT||e.state===Gn.HIDDEN)return;let n=e.element,i=H(H({},hO),e.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=Gn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=JI(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,pO.forEach(i=>{td._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{gO.forEach(n=>{this._triggerElement.addEventListener(n,this,fO)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Gn.FADING_IN?this._startFadeOutTransition(e):e.state===Gn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Gn.VISIBLE,!i&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Gn.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){let n=cO(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Y6;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!lO(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===Gn.VISIBLE||e.config.terminateOnPointerUp&&e.state===Gn.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(pO.forEach(n=>td._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(gO.forEach(n=>e.removeEventListener(n,this,fO)),this._pointerUpEventsRegistered=!1))}};td._eventManager=new iE;var mO=td;function Q6(t,e,n){let i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}var X6=["*"],bg;function Z6(){if(bg===void 0&&(bg=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(bg=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return bg}function nd(t){return Z6()?.createHTML(t)||t}function yO(t){return Error(`Unable to find icon with the name "${t}"`)}function J6(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function vO(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function _O(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var Cr=class{constructor(e,n,i){this.url=e,this.svgText=n,this.options=i}},e8=(()=>{let e=class e{constructor(i,r,s,o){this._httpClient=i,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(i,r,s){return this.addSvgIconInNamespace("",i,r,s)}addSvgIconLiteral(i,r,s){return this.addSvgIconLiteralInNamespace("",i,r,s)}addSvgIconInNamespace(i,r,s,o){return this._addSvgIconConfig(i,r,new Cr(s,null,o))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,r,s,o){let a=this._sanitizer.sanitize(Zt.HTML,s);if(!a)throw _O(s);let c=nd(a);return this._addSvgIconConfig(i,r,new Cr("",c,o))}addSvgIconSet(i,r){return this.addSvgIconSetInNamespace("",i,r)}addSvgIconSetLiteral(i,r){return this.addSvgIconSetLiteralInNamespace("",i,r)}addSvgIconSetInNamespace(i,r,s){return this._addSvgIconSetConfig(i,new Cr(r,null,s))}addSvgIconSetLiteralInNamespace(i,r,s){let o=this._sanitizer.sanitize(Zt.HTML,r);if(!o)throw _O(r);let a=nd(o);return this._addSvgIconSetConfig(i,new Cr("",a,s))}registerFontClassAlias(i,r=i){return this._fontCssClassesByAlias.set(i,r),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){let r=this._sanitizer.sanitize(Zt.RESOURCE_URL,i);if(!r)throw vO(i);let s=this._cachedIconsByUrl.get(r);return s?Z(wg(s)):this._loadSvgIconFromConfig(new Cr(i,null)).pipe(nt(o=>this._cachedIconsByUrl.set(r,o)),ee(o=>wg(o)))}getNamedSvgIcon(i,r=""){let s=bO(r,i),o=this._svgIconConfigs.get(s);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,i),o)return this._svgIconConfigs.set(s,o),this._getSvgFromConfig(o);let a=this._iconSetConfigs.get(r);return a?this._getSvgFromIconSetConfigs(i,a):jr(yO(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?Z(wg(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(ee(r=>wg(r)))}_getSvgFromIconSetConfigs(i,r){let s=this._extractIconWithNameFromAnySet(i,r);if(s)return Z(s);let o=r.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(fi(c=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(Zt.RESOURCE_URL,a.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(d)),Z(null)})));return sl(o).pipe(ee(()=>{let a=this._extractIconWithNameFromAnySet(i,r);if(!a)throw yO(i);return a}))}_extractIconWithNameFromAnySet(i,r){for(let s=r.length-1;s>=0;s--){let o=r[s];if(o.svgText&&o.svgText.toString().indexOf(i)>-1){let a=this._svgElementFromConfig(o),c=this._extractSvgIconFromSet(a,i,o.options);if(c)return c}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(nt(r=>i.svgText=r),ee(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?Z(null):this._fetchIcon(i).pipe(nt(r=>i.svgText=r))}_extractSvgIconFromSet(i,r,s){let o=i.querySelector(`[id="${r}"]`);if(!o)return null;let a=o.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,s);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),s);let c=this._svgElementFromString(nd("<svg></svg>"));return c.appendChild(a),this._setSvgAttributes(c,s)}_svgElementFromString(i){let r=this._document.createElement("DIV");r.innerHTML=i;let s=r.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(i){let r=this._svgElementFromString(nd("<svg></svg>")),s=i.attributes;for(let o=0;o<s.length;o++){let{name:a,value:c}=s[o];a!=="id"&&r.setAttribute(a,c)}for(let o=0;o<i.childNodes.length;o++)i.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(i.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(i,r){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),r&&r.viewBox&&i.setAttribute("viewBox",r.viewBox),i}_fetchIcon(i){let{url:r,options:s}=i,o=s?.withCredentials??!1;if(!this._httpClient)throw J6();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let a=this._sanitizer.sanitize(Zt.RESOURCE_URL,r);if(!a)throw vO(r);let c=this._inProgressUrlFetches.get(a);if(c)return c;let l=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(ee(d=>nd(d)),Qi(()=>this._inProgressUrlFetches.delete(a)),sy());return this._inProgressUrlFetches.set(a,l),l}_addSvgIconConfig(i,r,s){return this._svgIconConfigs.set(bO(i,r),s),this}_addSvgIconSetConfig(i,r){let s=this._iconSetConfigs.get(i);return s?s.push(r):this._iconSetConfigs.set(i,[r]),this}_svgElementFromConfig(i){if(!i.svgElement){let r=this._svgElementFromString(i.svgText);this._setSvgAttributes(r,i.options),i.svgElement=r}return i.svgElement}_getIconConfigFromResolvers(i,r){for(let s=0;s<this._resolvers.length;s++){let o=this._resolvers[s](r,i);if(o)return t8(o)?new Cr(o.url,null,o.options):new Cr(o,null)}}};e.\u0275fac=function(r){return new(r||e)($(St,8),$(B_),$(ot,8),$(gn))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wg(t){return t.cloneNode(!0)}function bO(t,e){return t+":"+e}function t8(t){return!!(t.url&&t.options)}var n8=new q("MAT_ICON_DEFAULT_OPTIONS"),i8=new q("mat-icon-location",{providedIn:"root",factory:r8});function r8(){let t=j(ot),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var wO=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],s8=wO.map(t=>`[${t}]`).join(", "),o8=/^url\(['"]?#(.*?)['"]?\)$/,IO=(()=>{let e=class e{get color(){return this._color||this._defaultColor}set color(i){this._color=i}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){let r=this._cleanupFontValue(i);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){let r=this._cleanupFontValue(i);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(i,r,s,o,a,c){this._elementRef=i,this._iconRegistry=r,this._location=o,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=et.EMPTY,c&&(c.color&&(this.color=this._defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),s||i.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(i){if(!i)return["",""];let r=i.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let i=this._elementsWithExternalReferences;if(i&&i.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){let i=this._elementRef.nativeElement,r=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let s=i.childNodes[r];(s.nodeType!==1||s.nodeName.toLowerCase()==="svg")&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let i=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>i.classList.remove(s)),r.forEach(s=>i.classList.add(s)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return typeof i=="string"?i.trim().split(" ")[0]:i}_prependPathToReferences(i){let r=this._elementsWithExternalReferences;r&&r.forEach((s,o)=>{s.forEach(a=>{o.setAttribute(a.name,`url('${i}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(i){let r=i.querySelectorAll(s8),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)wO.forEach(a=>{let c=r[o],l=c.getAttribute(a),d=l?l.match(o8):null;if(d){let h=s.get(c);h||(h=[],s.set(c,h)),h.push({name:a,value:d[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){let[r,s]=this._splitIconName(i);r&&(this._svgNamespace=r),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,r).pipe(xn(1)).subscribe(o=>this._setSvgElement(o),o=>{let a=`Error retrieving icon ${r}:${s}! ${o.message}`;this._errorHandler.handleError(new Error(a))})}}};e.\u0275fac=function(r){return new(r||e)(B(lt),B(e8),El("aria-hidden"),B(i8),B(gn),B(n8,8))},e.\u0275cmp=_e({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,s){r&2&&(ir("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet)("fontIcon",s._usingFontIcon()?s.fontIcon:null),NA(s.color?"mat-"+s.color:""),Un("mat-icon-inline",s.inline)("mat-icon-no-color",s.color!=="primary"&&s.color!=="accent"&&s.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Bn],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[ao,be],ngContentSelectors:X6,decls:1,vars:0,template:function(r,s){r&1&&(p_(),g_(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let t=e;return t})(),Ic=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Tt({type:e}),e.\u0275inj=Dt({imports:[rE,rE]});let t=e;return t})();var Ds=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=_e({type:e,selectors:[["app-navbar"]],standalone:!0,features:[be],decls:12,vars:0,consts:[[1,"nav-container"],[1,"navlinks"],["routerLink","/home","routerLinkActive","nav-active",1,"nav-element"],["routerLink","/dashboard","routerLinkActive","nav-active",1,"nav-element"],["routerLink","/news","routerLinkActive","nav-active",1,"nav-element"],["routerLink","/watchlist","routerLinkActive","nav-active",1,"nav-element"],["id","last","routerLink","/logout","routerLinkActive","nav-active",1,"nav-element"]],template:function(r,s){r&1&&(O(0,"div",0)(1,"div",1)(2,"a",2),U(3,"Home"),V(),O(4,"a",3),U(5,"Dashboard"),V(),O(6,"a",4),U(7,"News"),V(),O(8,"a",5),U(9,"Watchlist"),V(),O(10,"a",6),U(11,"Logout\xA0"),V()()())},dependencies:[qf,za,yR,Ic],styles:[".nav-container[_ngcontent-%COMP%]{display:flex;width:100%;z-index:1000;justify-content:right;width:95%;margin:50px auto}.nav-links[_ngcontent-%COMP%]{display:flex;margin-top:20px;display:block;align-content:center}a[_ngcontent-%COMP%]{margin:auto 25px;text-decoration:none;color:#fff;transition:all .5s ease;background:linear-gradient(90deg,#ff69b4,#00f);background-size:0% 3px;background-repeat:no-repeat;background-position:left bottom}#logo[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;margin-left:20px}.nav-active[_ngcontent-%COMP%]{background:linear-gradient(to right,#ff69b4,#00f);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.nav-links[_ngcontent-%COMP%]:hover{text-decoration:underline}a[_ngcontent-%COMP%]:hover{background-size:100% 3px}"]});let t=e;return t})();var c8=["vantaContainer"];function l8(t,e){t&1&&(O(0,"div",19),J(1,"app-navbar"),V())}function u8(t,e){t&1&&J(0,"app-auth")}function d8(t,e){if(t&1){let n=yt();O(0,"p",21),ke("click",function(){rt(n);let r=De(2);return st(r.wantToAuthpressed())}),U(1," get Cryptofied..! -> "),V()}}function h8(t,e){if(t&1&&(O(0,"div"),Oe(1,u8,1,0,"app-auth",20)(2,d8,2,0,"ng-template",null,1,cr),V()),t&2){let n=Jt(3),i=De();W(),ne("ngIf",i.wantToAuth)("ngIfElse",n)}}var EO=(()=>{let e=class e{constructor(i,r,s,o,a){this.activeRoute=i,this.router=r,this.authservice=s,this.http=o,this.dbs=a,this.isAuthenticated=!1,this.user=null,this.test_var=!1,this.canAdd=!1,this.coinid_array=[],this.usercoinid=[],this.currentSection=1,this.wantToAuth=!1}goToAuth(){this.router.navigate(["/auth"],{relativeTo:this.activeRoute})}ngOnInit(){console.log("helllllllo"),this.authservice.user.subscribe({next:i=>{this.user=i,this.user&&new Date<new Date(this.user._tokenExpirationDate)&&(this.canAdd=!0,this.dbs.makeIdArray(this.user.id),console.log("hello"))}}),(this.user==null||new Date>new Date(this.user._tokenExpirationDate))&&(this.canAdd=!1)}addcoinid(i){this.canAdd==!0&&(console.log("Adding"),this.dbs.addCoinId(this.user.id,i.form.value.coinid))}getid(){this.dbs.getcoind(this.user.id)}goWatchList(){this.router.navigate(["/watchlist"],{relativeTo:this.activeRoute})}ngAfterViewInit(){let i=document.getElementById("fixed-text"),r=document.querySelectorAll(".parallax"),s=document.getElementsByClassName("fixed-element"),o={threshold:.5},a=new IntersectionObserver(c=>{c.forEach(l=>{if(l.isIntersecting){let d=Array.from(r).indexOf(l.target)+1;i&&(i.textContent=`0${d}`,i.style.marginTop=`${(d+1)*25}%`,this.currentSection=d)}})},o);r.forEach(c=>{a.observe(c)}),this.vantaEffect=VANTA.NET({el:this.vantaContainer.nativeElement,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1,color:12957880,backgroundColor:0,points:14})}wantToAuthpressed(){this.wantToAuth=!0}};e.\u0275fac=function(r){return new(r||e)(B(Ue),B(Ve),B(Lt),B(St),B(Wn))},e.\u0275cmp=_e({type:e,selectors:[["app-home"]],viewQuery:function(r,s){if(r&1&&lo(c8,7),r&2){let o;sr(o=or())&&(s.vantaContainer=o.first)}},standalone:!0,features:[be],decls:51,vars:10,consts:[["vantaContainer",""],["logbutton",""],[1,"home-container"],["class","nav-fix",4,"ngIf"],[1,"fixed-element"],["id","fixed-text"],[1,"fixed-line"],[1,"line-round","active"],[1,"line-round"],["id","first",1,"parallax"],[1,"left-content"],[1,"upper"],[1,"lower"],[1,"lowest"],[4,"ngIf"],["id","second",1,"parallax"],[1,"gradient-text"],["id","third",1,"parallax"],["id","fourth",1,"parallax"],[1,"nav-fix"],[4,"ngIf","ngIfElse"],["id","authbtn",3,"click"]],template:function(r,s){r&1&&(O(0,"div",2,0),Oe(2,l8,2,0,"div",3),O(3,"div",4),J(4,"p",5),V(),O(5,"div",6),J(6,"div",7)(7,"div",8)(8,"div",8)(9,"div",8),V(),O(10,"div",9)(11,"div",10)(12,"p",11),U(13,"Welcome to"),V(),O(14,"div",12),J(15,"hr"),O(16,"p"),U(17,"Crypto-Sakha!"),V()(),O(18,"p",13),U(19," Your ultimate companion in the dynamic world of cryptocurrencies. Whether you're a seasoned trader or just starting your crypto journey, Cryptomate provides you with the tools, insights, and data you need to navigate the markets confidently. Join us and experience the future of digital finance with ease and security. "),V(),Oe(20,h8,4,2,"div",14),V()(),O(21,"div",15)(22,"div",10)(23,"p",11),U(24,"1000+ Crypto Coins"),V(),O(25,"div",12),J(26,"hr"),O(27,"p",16),U(28,"At your Dashboard"),V()(),O(29,"p",13),U(30," Stay ahead of the market with Cryptomate's comprehensive dashboard, offering real-time data on over 500 cryptocurrencies. Track market cap, price changes, 24-hour volume, and more. Our intuitive interface provides all the essential information at your fingertips, empowering you to make informed investment decisions and discover new opportunities. "),V()()(),O(31,"div",17)(32,"div",10)(33,"p",11),U(34,"Create Now "),V(),O(35,"div",12),J(36,"hr"),O(37,"p"),U(38,"your own Watch-list"),V()(),O(39,"p",13),U(40,"Personalize your crypto experience with Cryptomate's custom watchlist feature. Add your favorite coins and monitor their performance in real time. Set up alerts for significant price movements and stay updated on the coins that matter most to you. With Cryptomate, managing your investments is easier and more efficient. "),V()()(),O(41,"div",18)(42,"div",10)(43,"p",11),U(44,"Be updated with"),V(),O(45,"div",12),J(46,"hr"),O(47,"p"),U(48,"News at tips"),V()(),O(49,"p",13),U(50,"Stay informed with the latest crypto news with Cryptomate. Our platform aggregates top stories, market analyses, and expert insights from trusted sources, delivering them directly to your dashboard. Whether it's breaking news or in-depth reports, you'll always be updated with information that impacts your investments. Stay ahead with Cryptomate. "),V()()()()),r&2&&(W(2),ne("ngIf",s.canAdd),W(4),Un("active",s.currentSection===1),W(),Un("active",s.currentSection===2),W(),Un("active",s.currentSection===3),W(),Un("active",s.currentSection===4),W(11),ne("ngIf",!s.canAdd))},dependencies:[xt,_n,tp,JN,Ds],styles:[".nav-fix[_ngcontent-%COMP%]{position:fixed;z-index:1000;top:0;left:62%}.home-container[_ngcontent-%COMP%]{background-repeat:no-repeat;background-attachment:fixed;background-size:cover;padding:0 30px}.parallax[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:space-between;background-color:rgba(0,0,0 0);background-attachment:fixed;width:65%;align-items:center}.upper[_ngcontent-%COMP%], .lower[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:75px;margin:0;padding:0}.upper[_ngcontent-%COMP%]{font-weight:200;line-height:12px}hr[_ngcontent-%COMP%]{width:10%;margin:0 10px;height:0px}.lower[_ngcontent-%COMP%]{display:flex;justify-content:left;align-items:center}.lower[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #authbtn[_ngcontent-%COMP%]{background:linear-gradient(to right,#ff69b4,#00f);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.lowest[_ngcontent-%COMP%]{margin-top:50px;width:90%;font-size:18px;text-align:justify}.right-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:150px}.right-content-max[_ngcontent-%COMP%]{top:0;left:0;display:fixed;font-size:150px;position:absolute}.fixed-element[_ngcontent-%COMP%]{position:fixed;margin-left:75%;margin-top:15%;z-index:1000;padding:10px;font-size:150px}.fixed-line[_ngcontent-%COMP%]{height:35vh;display:flex;flex-direction:column;justify-content:space-around;position:fixed;margin-left:90%;margin-top:25%;z-index:1000;align-items:center}.line-round[_ngcontent-%COMP%]{height:10px;width:10px;border-radius:50%;background-color:#fff}.active[_ngcontent-%COMP%]{border:1px solid white;padding:10px}#authbtn[_ngcontent-%COMP%]{font-size:26px;font-weight:500;transition:all .3s ease;display:inline-block}#authbtn[_ngcontent-%COMP%]:hover{text-shadow:2px 2px 4px rgba(255,255,255,.2);font-size:larger;cursor:pointer}#fixed-text[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#ff69b4,#00f);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}"]});let t=e;return t})();function sd(t){return t+.5|0}var Ts=(t,e,n)=>Math.max(Math.min(t,n),e);function id(t){return Ts(sd(t*2.55),0,255)}function xs(t){return Ts(sd(t*255),0,255)}function Dr(t){return Ts(sd(t/2.55)/100,0,1)}function CO(t){return Ts(sd(t*100),0,100)}var Kn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},oE=[..."0123456789ABCDEF"],f8=t=>oE[t&15],p8=t=>oE[(t&240)>>4]+oE[t&15],Ig=t=>(t&240)>>4===(t&15),g8=t=>Ig(t.r)&&Ig(t.g)&&Ig(t.b)&&Ig(t.a);function m8(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Kn[t[1]]*17,g:255&Kn[t[2]]*17,b:255&Kn[t[3]]*17,a:e===5?Kn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Kn[t[1]]<<4|Kn[t[2]],g:Kn[t[3]]<<4|Kn[t[4]],b:Kn[t[5]]<<4|Kn[t[6]],a:e===9?Kn[t[7]]<<4|Kn[t[8]]:255})),n}var y8=(t,e)=>t<255?e(t):"";function v8(t){var e=g8(t)?f8:p8;return t?"#"+e(t.r)+e(t.g)+e(t.b)+y8(t.a,e):void 0}var _8=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function SO(t,e,n){let i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function b8(t,e,n){let i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function w8(t,e,n){let i=SO(t,1,.5),r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function I8(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function aE(t){let n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2,c,l,d;return s!==o&&(d=s-o,l=a>.5?d/(2-s-o):d/(s+o),c=I8(n,i,r,d,s),c=c*60+.5),[c|0,l||0,a]}function cE(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(xs)}function lE(t,e,n){return cE(SO,t,e,n)}function E8(t,e,n){return cE(w8,t,e,n)}function C8(t,e,n){return cE(b8,t,e,n)}function AO(t){return(t%360+360)%360}function D8(t){let e=_8.exec(t),n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?id(+e[5]):xs(+e[5]));let r=AO(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=E8(r,s,o):e[1]==="hsv"?i=C8(r,s,o):i=lE(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function T8(t,e){var n=aE(t);n[0]=AO(n[0]+e),n=lE(n),t.r=n[0],t.g=n[1],t.b=n[2]}function x8(t){if(!t)return;let e=aE(t),n=e[0],i=CO(e[1]),r=CO(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Dr(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}var DO={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},TO={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function S8(){let t={},e=Object.keys(TO),n=Object.keys(DO),i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,DO[s]);s=parseInt(TO[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}var Eg;function A8(t){Eg||(Eg=S8(),Eg.transparent=[0,0,0,0]);let e=Eg[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var M8=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function R8(t){let e=M8.exec(t),n=255,i,r,s;if(e){if(e[7]!==i){let o=+e[7];n=e[8]?id(o):Ts(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?id(i):Ts(i,0,255)),r=255&(e[4]?id(r):Ts(r,0,255)),s=255&(e[6]?id(s):Ts(s,0,255)),{r:i,g:r,b:s,a:n}}}function k8(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Dr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var sE=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ec=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function P8(t,e,n){let i=Ec(Dr(t.r)),r=Ec(Dr(t.g)),s=Ec(Dr(t.b));return{r:xs(sE(i+n*(Ec(Dr(e.r))-i))),g:xs(sE(r+n*(Ec(Dr(e.g))-r))),b:xs(sE(s+n*(Ec(Dr(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Cg(t,e,n){if(t){let i=aE(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=lE(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function MO(t,e){return t&&Object.assign(e||{},t)}function xO(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=xs(t[3]))):(e=MO(t,{r:0,g:0,b:0,a:1}),e.a=xs(e.a)),e}function N8(t){return t.charAt(0)==="r"?R8(t):D8(t)}var rd=class t{constructor(e){if(e instanceof t)return e;let n=typeof e,i;n==="object"?i=xO(e):n==="string"&&(i=m8(e)||A8(e)||N8(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=MO(this._rgb);return e&&(e.a=Dr(e.a)),e}set rgb(e){this._rgb=xO(e)}rgbString(){return this._valid?k8(this._rgb):void 0}hexString(){return this._valid?v8(this._rgb):void 0}hslString(){return this._valid?x8(this._rgb):void 0}mix(e,n){if(e){let i=this.rgb,r=e.rgb,s,o=n===s?.5:n,a=2*o-1,c=i.a-r.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;s=1-l,i.r=255&l*i.r+s*r.r+.5,i.g=255&l*i.g+s*r.g+.5,i.b=255&l*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=P8(this._rgb,e._rgb,n)),this}clone(){return new t(this.rgb)}alpha(e){return this._rgb.a=xs(e),this}clearer(e){let n=this._rgb;return n.a*=1-e,this}greyscale(){let e=this._rgb,n=sd(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){let n=this._rgb;return n.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Cg(this._rgb,2,e),this}darken(e){return Cg(this._rgb,2,-e),this}saturate(e){return Cg(this._rgb,1,e),this}desaturate(e){return Cg(this._rgb,1,-e),this}rotate(e){return T8(this._rgb,e),this}};function Vi(){}var BO=(()=>{let t=0;return()=>t++})();function Re(t){return t===null||typeof t>"u"}function Ye(t){if(Array.isArray&&Array.isArray(t))return!0;let e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ie(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ut(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function wn(t,e){return ut(t)?t:e}function de(t,e){return typeof t>"u"?e:t}var $O=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,fE=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function He(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function je(t,e,n,i){let r,s,o;if(Ye(t))if(s=t.length,i)for(r=s-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<s;r++)e.call(n,t[r],r);else if(Ie(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function cd(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Sg(t){if(Ye(t))return t.map(Sg);if(Ie(t)){let e=Object.create(null),n=Object.keys(t),i=n.length,r=0;for(;r<i;++r)e[n[r]]=Sg(t[n[r]]);return e}return t}function zO(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function O8(t,e,n,i){if(!zO(t))return;let r=e[t],s=n[t];Ie(r)&&Ie(s)?Dc(r,s,i):e[t]=Sg(s)}function Dc(t,e,n){let i=Ye(e)?e:[e],r=i.length;if(!Ie(t))return t;n=n||{};let s=n.merger||O8,o;for(let a=0;a<r;++a){if(o=i[a],!Ie(o))continue;let c=Object.keys(o);for(let l=0,d=c.length;l<d;++l)s(c[l],t,o,n)}return t}function xc(t,e){return Dc(t,e,{merger:F8})}function F8(t,e,n){if(!zO(t))return;let i=e[t],r=n[t];Ie(i)&&Ie(r)?xc(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Sg(r))}var RO={"":t=>t,x:t=>t.x,y:t=>t.y};function L8(t){let e=t.split("."),n=[],i="";for(let r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function V8(t){let e=L8(t);return n=>{for(let i of e){if(i==="")break;n=n&&n[i]}return n}}function Sr(t,e){return(RO[e]||(RO[e]=V8(e)))(t)}function kg(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Sc=t=>typeof t<"u",Tr=t=>typeof t=="function",pE=(t,e)=>{if(t.size!==e.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0};function HO(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var Qe=Math.PI,Xe=2*Qe,j8=Xe+Qe,Ag=Number.POSITIVE_INFINITY,U8=Qe/180,mt=Qe/2,Lo=Qe/4,kO=Qe*2/3,xr=Math.log10,ui=Math.sign;function Ac(t,e,n){return Math.abs(t-e)<n}function gE(t){let e=Math.round(t);t=Ac(t,e,t/1e3)?e:t;let n=Math.pow(10,Math.floor(xr(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function qO(t){let e=[],n=Math.sqrt(t),i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function Uo(t){return!isNaN(parseFloat(t))&&isFinite(t)}function WO(t,e){let n=Math.round(t);return n-e<=t&&n+e>=t}function mE(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Yn(t){return t*(Qe/180)}function Pg(t){return t*(180/Qe)}function yE(t){if(!ut(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function vE(t,e){let n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i),s=Math.atan2(i,n);return s<-.5*Qe&&(s+=Xe),{angle:s,distance:r}}function Mg(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function B8(t,e){return(t-e+j8)%Xe-Qe}function bn(t){return(t%Xe+Xe)%Xe}function Mc(t,e,n,i){let r=bn(t),s=bn(e),o=bn(n),a=bn(s-r),c=bn(o-r),l=bn(r-s),d=bn(r-o);return r===s||r===o||i&&s===o||a>c&&l<d}function Rt(t,e,n){return Math.max(e,Math.min(n,t))}function GO(t){return Rt(t,-32768,32767)}function ji(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Ng(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}var Fi=(t,e,n,i)=>Ng(t,n,i?r=>{let s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),KO=(t,e,n)=>Ng(t,n,i=>t[i][e]>=n);function YO(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}var QO=["push","pop","shift","splice","unshift"];function XO(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),QO.forEach(n=>{let i="_onData"+kg(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){let o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function _E(t,e){let n=t._chartjs;if(!n)return;let i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(QO.forEach(s=>{delete t[s]}),delete t._chartjs)}function bE(t){let e=new Set(t);return e.size===t.length?t:Array.from(e)}var wE=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function IE(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,wE.call(window,()=>{i=!1,t.apply(e,n)}))}}function ZO(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}var Og=t=>t==="start"?"left":t==="end"?"right":"center",Ht=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,JO=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function EE(t,e,n){let i=e.length,r=0,s=i;if(t._sorted){let{iScale:o,_parsed:a}=t,c=o.axis,{min:l,max:d,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(r=Rt(Math.min(Fi(a,c,l).lo,n?i:Fi(e,c,o.getPixelForValue(l)).lo),0,i-1)),f?s=Rt(Math.max(Fi(a,o.axis,d,!0).hi+1,n?0:Fi(e,c,o.getPixelForValue(d),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function CE(t){let{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;let s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}var Dg=t=>t===0||t===1,PO=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Xe/n)),NO=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Xe/n)+1,Cc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*mt)+1,easeOutSine:t=>Math.sin(t*mt),easeInOutSine:t=>-.5*(Math.cos(Qe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Dg(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Dg(t)?t:PO(t,.075,.3),easeOutElastic:t=>Dg(t)?t:NO(t,.075,.3),easeInOutElastic(t){return Dg(t)?t:t<.5?.5*PO(t*2,.1125,.45):.5+.5*NO(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Cc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Cc.easeInBounce(t*2)*.5:Cc.easeOutBounce(t*2-1)*.5+.5};function DE(t){if(t&&typeof t=="object"){let e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function TE(t){return DE(t)?t:new rd(t)}function uE(t){return DE(t)?t:new rd(t).saturate(.5).darken(.1).hexString()}var $8=["x","y","borderWidth","radius","tension"],z8=["color","borderColor","backgroundColor"];function H8(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:z8},numbers:{type:"number",properties:$8}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function q8(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var OO=new Map;function W8(t,e){e=e||{};let n=t+JSON.stringify(e),i=OO.get(n);return i||(i=new Intl.NumberFormat(t,e),OO.set(n,i)),i}function Rc(t,e,n){return W8(e,n).format(t)}var e1={values(t){return Ye(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";let i=this.chart.options.locale,r,s=t;if(n.length>1){let l=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(l<1e-4||l>1e15)&&(r="scientific"),s=G8(t,n)}let o=xr(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Rc(t,i,c)},logarithmic(t,e,n){if(t===0)return"0";let i=n[e].significand||t/Math.pow(10,Math.floor(xr(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?e1.numeric.call(this,t,e,n):""}};function G8(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var ld={formatters:e1};function K8(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ld.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var As=Object.create(null),Fg=Object.create(null);function od(t,e){if(!e)return t;let n=e.split(".");for(let i=0,r=n.length;i<r;++i){let s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function dE(t,e,n){return typeof e=="string"?Dc(od(t,e),n):Dc(od(t,""),e)}var hE=class{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>uE(r.backgroundColor),this.hoverBorderColor=(i,r)=>uE(r.borderColor),this.hoverColor=(i,r)=>uE(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return dE(this,e,n)}get(e){return od(this,e)}describe(e,n){return dE(Fg,e,n)}override(e,n){return dE(As,e,n)}route(e,n,i,r){let s=od(this,e),o=od(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){let c=this[a],l=o[r];return Ie(c)?Object.assign({},l,c):de(c,l)},set(c){this[a]=c}}})}apply(e){e.forEach(n=>n(this))}},dt=new hE({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[H8,q8,K8]);function Y8(t){return!t||Re(t.size)||Re(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function ad(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function t1(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0,a=n.length,c,l,d,h,f;for(c=0;c<a;c++)if(h=n[c],h!=null&&!Ye(h))o=ad(t,r,s,o,h);else if(Ye(h))for(l=0,d=h.length;l<d;l++)f=h[l],f!=null&&!Ye(f)&&(o=ad(t,r,s,o,f));t.restore();let g=s.length/2;if(g>n.length){for(c=0;c<g;c++)delete r[s[c]];s.splice(0,g)}return o}function Ms(t,e,n){let i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function xE(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Lg(t,e,n,i){SE(t,e,n,i,null)}function SE(t,e,n,i,r){let s,o,a,c,l,d,h,f,g=e.pointStyle,y=e.rotation,_=e.radius,v=(y||0)*U8;if(g&&typeof g=="object"&&(s=g.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(v),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),g){default:r?t.ellipse(n,i,r/2,_,0,0,Xe):t.arc(n,i,_,0,Xe),t.closePath();break;case"triangle":d=r?r/2:_,t.moveTo(n+Math.sin(v)*d,i-Math.cos(v)*_),v+=kO,t.lineTo(n+Math.sin(v)*d,i-Math.cos(v)*_),v+=kO,t.lineTo(n+Math.sin(v)*d,i-Math.cos(v)*_),t.closePath();break;case"rectRounded":l=_*.516,c=_-l,o=Math.cos(v+Lo)*c,h=Math.cos(v+Lo)*(r?r/2-l:c),a=Math.sin(v+Lo)*c,f=Math.sin(v+Lo)*(r?r/2-l:c),t.arc(n-h,i-a,l,v-Qe,v-mt),t.arc(n+f,i-o,l,v-mt,v),t.arc(n+h,i+a,l,v,v+mt),t.arc(n-f,i+o,l,v+mt,v+Qe),t.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*_,d=r?r/2:c,t.rect(n-d,i-c,2*d,2*c);break}v+=Lo;case"rectRot":h=Math.cos(v)*(r?r/2:_),o=Math.cos(v)*_,a=Math.sin(v)*_,f=Math.sin(v)*(r?r/2:_),t.moveTo(n-h,i-a),t.lineTo(n+f,i-o),t.lineTo(n+h,i+a),t.lineTo(n-f,i+o),t.closePath();break;case"crossRot":v+=Lo;case"cross":h=Math.cos(v)*(r?r/2:_),o=Math.cos(v)*_,a=Math.sin(v)*_,f=Math.sin(v)*(r?r/2:_),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"star":h=Math.cos(v)*(r?r/2:_),o=Math.cos(v)*_,a=Math.sin(v)*_,f=Math.sin(v)*(r?r/2:_),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o),v+=Lo,h=Math.cos(v)*(r?r/2:_),o=Math.cos(v)*_,a=Math.sin(v)*_,f=Math.sin(v)*(r?r/2:_),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"line":o=r?r/2:Math.cos(v)*_,a=Math.sin(v)*_,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(v)*(r?r/2:_),i+Math.sin(v)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Li(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function ud(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function dd(t){t.restore()}function n1(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){let s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function i1(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Q8(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Re(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function X8(t,e,n,i,r){if(r.strikethrough||r.underline){let s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,c=n-s.actualBoundingBoxAscent,l=n+s.actualBoundingBoxDescent,d=r.strikethrough?(c+l)/2:l;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function Z8(t,e){let n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Rs(t,e,n,i,r,s={}){let o=Ye(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="",c,l;for(t.save(),t.font=r.string,Q8(t,s),c=0;c<o.length;++c)l=o[c],s.backdrop&&Z8(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Re(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(l,n,i,s.maxWidth)),t.fillText(l,n,i,s.maxWidth),X8(t,n,i,l,s),i+=Number(r.lineHeight);t.restore()}function kc(t,e){let{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Qe,Qe,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Qe,mt,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,mt,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-mt,!0),t.lineTo(n+o.topLeft,i)}var J8=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,eK=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function tK(t,e){let n=(""+t).match(J8);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}var nK=t=>+t||0;function Vg(t,e){let n={},i=Ie(e),r=i?Object.keys(e):e,s=Ie(t)?i?o=>de(t[o],t[e[o]]):o=>t[o]:()=>t;for(let o of r)n[o]=nK(s(o));return n}function AE(t){return Vg(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ks(t){return Vg(t,["topLeft","topRight","bottomLeft","bottomRight"])}function qt(t){let e=AE(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ct(t,e){t=t||{},e=e||dt.font;let n=de(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=de(t.style,e.style);i&&!(""+i).match(eK)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let r={family:de(t.family,e.family),lineHeight:tK(de(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:de(t.weight,e.weight),string:""};return r.string=Y8(r),r}function Pc(t,e,n,i){let r=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),n!==void 0&&Ye(a)&&(a=a[n%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function r1(t,e,n){let{min:i,max:r}=t,s=fE(e,(r-i)/2),o=(a,c)=>n&&a===0?0:a+c;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Ar(t,e){return Object.assign(Object.create(t),e)}function jg(t,e=[""],n,i,r=()=>t[0]){let s=n||t;typeof i>"u"&&(i=a1("_fallback",t));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>jg([a,...t],e,s,i)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete t[0][c],!0},get(a,c){return s1(a,c,()=>uK(c,e,t,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,c){return LO(a).includes(c)},ownKeys(a){return LO(a)},set(a,c,l){let d=a._storage||(a._storage=r());return a[c]=d[c]=l,delete a._keys,!0}})}function jo(t,e,n,i){let r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:ME(t,i),setContext:s=>jo(t,s,n,i),override:s=>jo(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return s1(s,o,()=>rK(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function ME(t,e={scriptable:!0,indexable:!0}){let{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Tr(n)?n:()=>n,isIndexable:Tr(i)?i:()=>i}}var iK=(t,e)=>t?t+kg(e):e,RE=(t,e)=>Ie(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function s1(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];let i=n();return t[e]=i,i}function rK(t,e,n){let{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t,a=i[e];return Tr(a)&&o.isScriptable(e)&&(a=sK(e,a,t,n)),Ye(a)&&a.length&&(a=oK(e,a,t,o.isIndexable)),RE(e,a)&&(a=jo(a,r,s&&s[e],o)),a}function sK(t,e,n,i){let{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let c=e(s,o||i);return a.delete(t),RE(t,c)&&(c=kE(r._scopes,r,t,c)),c}function oK(t,e,n,i){let{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(Ie(e[0])){let c=e,l=r._scopes.filter(d=>d!==c);e=[];for(let d of c){let h=kE(l,r,t,d);e.push(jo(h,s,o&&o[t],a))}}return e}function o1(t,e,n){return Tr(t)?t(e,n):t}var aK=(t,e)=>t===!0?e:typeof t=="string"?Sr(e,t):void 0;function cK(t,e,n,i,r){for(let s of e){let o=aK(n,s);if(o){t.add(o);let a=o1(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function kE(t,e,n,i){let r=e._rootScopes,s=o1(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let c=FO(a,o,n,s||n,i);return c===null||typeof s<"u"&&s!==n&&(c=FO(a,o,s,c,i),c===null)?!1:jg(Array.from(a),[""],r,s,()=>lK(e,n,i))}function FO(t,e,n,i,r){for(;n;)n=cK(t,e,n,i,r);return n}function lK(t,e,n){let i=t._getTarget();e in i||(i[e]={});let r=i[e];return Ye(r)&&Ie(n)?n:r||{}}function uK(t,e,n,i){let r;for(let s of e)if(r=a1(iK(s,t),n),typeof r<"u")return RE(t,r)?kE(n,i,t,r):r}function a1(t,e){for(let n of e){if(!n)continue;let i=n[t];if(typeof i<"u")return i}}function LO(t){let e=t._keys;return e||(e=t._keys=dK(t._scopes)),e}function dK(t){let e=new Set;for(let n of t)for(let i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function PE(t,e,n,i){let{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i),a,c,l,d;for(a=0,c=i;a<c;++a)l=a+n,d=e[l],o[a]={r:r.parse(Sr(d,s),l)};return o}var hK=Number.EPSILON||1e-14,Tc=(t,e)=>e<t.length&&!t[e].skip&&t[e],c1=t=>t==="x"?"y":"x";function fK(t,e,n,i){let r=t.skip?e:t,s=e,o=n.skip?e:n,a=Mg(s,r),c=Mg(o,s),l=a/(a+c),d=c/(a+c);l=isNaN(l)?0:l,d=isNaN(d)?0:d;let h=i*l,f=i*d;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function pK(t,e,n){let i=t.length,r,s,o,a,c,l=Tc(t,0);for(let d=0;d<i-1;++d)if(c=l,l=Tc(t,d+1),!(!c||!l)){if(Ac(e[d],0,hK)){n[d]=n[d+1]=0;continue}r=n[d]/e[d],s=n[d+1]/e[d],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=r*o*e[d],n[d+1]=s*o*e[d])}}function gK(t,e,n="x"){let i=c1(n),r=t.length,s,o,a,c=Tc(t,0);for(let l=0;l<r;++l){if(o=a,a=c,c=Tc(t,l+1),!a)continue;let d=a[n],h=a[i];o&&(s=(d-o[n])/3,a[`cp1${n}`]=d-s,a[`cp1${i}`]=h-s*e[l]),c&&(s=(c[n]-d)/3,a[`cp2${n}`]=d+s,a[`cp2${i}`]=h+s*e[l])}}function mK(t,e="x"){let n=c1(e),i=t.length,r=Array(i).fill(0),s=Array(i),o,a,c,l=Tc(t,0);for(o=0;o<i;++o)if(a=c,c=l,l=Tc(t,o+1),!!c){if(l){let d=l[e]-c[e];r[o]=d!==0?(l[n]-c[n])/d:0}s[o]=a?l?ui(r[o-1])!==ui(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}pK(t,r,s),gK(t,s,e)}function Tg(t,e,n){return Math.max(Math.min(t,n),e)}function yK(t,e){let n,i,r,s,o,a=Li(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&Li(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=Tg(r.cp1x,e.left,e.right),r.cp1y=Tg(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Tg(r.cp2x,e.left,e.right),r.cp2y=Tg(r.cp2y,e.top,e.bottom)))}function l1(t,e,n,i,r){let s,o,a,c;if(e.spanGaps&&(t=t.filter(l=>!l.skip)),e.cubicInterpolationMode==="monotone")mK(t,r);else{let l=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],c=fK(l,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}e.capBezierPoints&&yK(t,n)}function Ug(){return typeof window<"u"&&typeof document<"u"}function Bg(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Rg(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}var $g=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function vK(t,e){return $g(t).getPropertyValue(e)}var _K=["top","right","bottom","left"];function Vo(t,e,n){let i={};n=n?"-"+n:"";for(let r=0;r<4;r++){let s=_K[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var bK=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function wK(t,e){let n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i,o=!1,a,c;if(bK(r,s,t.target))a=r,c=s;else{let l=e.getBoundingClientRect();a=i.clientX-l.left,c=i.clientY-l.top,o=!0}return{x:a,y:c,box:o}}function Ps(t,e){if("native"in t)return t;let{canvas:n,currentDevicePixelRatio:i}=e,r=$g(n),s=r.boxSizing==="border-box",o=Vo(r,"padding"),a=Vo(r,"border","width"),{x:c,y:l,box:d}=wK(t,n),h=o.left+(d&&a.left),f=o.top+(d&&a.top),{width:g,height:y}=e;return s&&(g-=o.width+a.width,y-=o.height+a.height),{x:Math.round((c-h)/g*n.width/i),y:Math.round((l-f)/y*n.height/i)}}function IK(t,e,n){let i,r;if(e===void 0||n===void 0){let s=t&&Bg(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{let o=s.getBoundingClientRect(),a=$g(s),c=Vo(a,"border","width"),l=Vo(a,"padding");e=o.width-l.width-c.width,n=o.height-l.height-c.height,i=Rg(a.maxWidth,s,"clientWidth"),r=Rg(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||Ag,maxHeight:r||Ag}}var xg=t=>Math.round(t*10)/10;function u1(t,e,n,i){let r=$g(t),s=Vo(r,"margin"),o=Rg(r.maxWidth,t,"clientWidth")||Ag,a=Rg(r.maxHeight,t,"clientHeight")||Ag,c=IK(t,e,n),{width:l,height:d}=c;if(r.boxSizing==="content-box"){let f=Vo(r,"border","width"),g=Vo(r,"padding");l-=g.width+f.width,d-=g.height+f.height}return l=Math.max(0,l-s.width),d=Math.max(0,i?l/i:d-s.height),l=xg(Math.min(l,o,c.maxWidth)),d=xg(Math.min(d,a,c.maxHeight)),l&&!d&&(d=xg(l/2)),(e!==void 0||n!==void 0)&&i&&c.height&&d>c.height&&(d=c.height,l=xg(Math.floor(d*i))),{width:l,height:d}}function NE(t,e,n){let i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);let o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}var d1=function(){let t=!1;try{let e={get passive(){return t=!0,!1}};Ug()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function OE(t,e){let n=vK(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ss(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function h1(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function f1(t,e,n,i){let r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Ss(t,r,n),a=Ss(r,s,n),c=Ss(s,e,n),l=Ss(o,a,n),d=Ss(a,c,n);return Ss(l,d,n)}var EK=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},CK=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Bo(t,e,n){return t?EK(e,n):CK()}function FE(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function LE(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function p1(t){return t==="angle"?{between:Mc,compare:B8,normalize:bn}:{between:ji,compare:(e,n)=>e-n,normalize:e=>e}}function VO({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function DK(t,e,n){let{property:i,start:r,end:s}=n,{between:o,normalize:a}=p1(i),c=e.length,{start:l,end:d,loop:h}=t,f,g;if(h){for(l+=c,d+=c,f=0,g=c;f<g&&o(a(e[l%c][i]),r,s);++f)l--,d--;l%=c,d%=c}return d<l&&(d+=c),{start:l,end:d,loop:h,style:t.style}}function VE(t,e,n){if(!n)return[t];let{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:c,normalize:l}=p1(i),{start:d,end:h,loop:f,style:g}=DK(t,e,n),y=[],_=!1,v=null,C,S,k,P=()=>c(r,k,C)&&a(r,k)!==0,F=()=>a(s,C)===0||c(s,k,C),N=()=>_||P(),E=()=>!_||F();for(let b=d,I=d;b<=h;++b)S=e[b%o],!S.skip&&(C=l(S[i]),C!==k&&(_=c(C,r,s),v===null&&N()&&(v=a(C,r)===0?b:I),v!==null&&E()&&(y.push(VO({start:v,end:b,loop:f,count:o,style:g})),v=null),I=b,k=C));return v!==null&&y.push(VO({start:v,end:h,loop:f,count:o,style:g})),y}function jE(t,e){let n=[],i=t.segments;for(let r=0;r<i.length;r++){let s=VE(i[r],t.points,e);s.length&&n.push(...s)}return n}function TK(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function xK(t,e,n,i){let r=t.length,s=[],o=e,a=t[e],c;for(c=e+1;c<=n;++c){let l=t[c%r];l.skip||l.stop?a.skip||(i=!1,s.push({start:e%r,end:(c-1)%r,loop:i}),e=o=l.stop?c:null):(o=c,a.skip&&(e=c)),a=l}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function g1(t,e){let n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];let s=!!t._loop,{start:o,end:a}=TK(n,r,s,i);if(i===!0)return jO(t,[{start:o,end:a,loop:s}],n,e);let c=a<o?a+r:a,l=!!t._fullLoop&&o===0&&a===r-1;return jO(t,xK(n,o,c,l),n,e)}function jO(t,e,n,i){return!i||!i.setContext||!n?e:SK(t,e,n,i)}function SK(t,e,n,i){let r=t._chart.getContext(),s=UO(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,c=n.length,l=[],d=s,h=e[0].start,f=h;function g(y,_,v,C){let S=a?-1:1;if(y!==_){for(y+=c;n[y%c].skip;)y-=S;for(;n[_%c].skip;)_+=S;y%c!==_%c&&(l.push({start:y%c,end:_%c,loop:v,style:C}),d=C,h=_%c)}}for(let y of e){h=a?h:y.start;let _=n[h%c],v;for(f=h+1;f<=y.end;f++){let C=n[f%c];v=UO(i.setContext(Ar(r,{type:"segment",p0:_,p1:C,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),AK(v,d)&&g(h,f-1,y.loop,d),_=C,d=v}h<f-1&&g(h,f-1,y.loop,d)}return l}function UO(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function AK(t,e){if(!e)return!1;let n=[],i=function(r,s){return DE(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}var YE=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){let s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=wE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;let s=i.items,o=s.length-1,a=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){let n=this._charts,i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){let n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;let n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){let n=this._charts.get(e);if(!n||!n.items.length)return;let i=n.items,r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},Mr=new YE,m1="transparent",MK={boolean(t,e,n){return n>.5?e:t},color(t,e,n){let i=TE(t||m1),r=i.valid&&TE(e||m1);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}},QE=class{constructor(e,n,i,r){let s=n[i];r=Pc([e.to,r,s,e.from]);let o=Pc([e.from,s,r]);this._active=!0,this._fn=e.fn||MK[e.type||typeof o],this._easing=Cc[e.easing]||Cc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);let r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Pc([e.to,n,r,e.from]),this._from=Pc([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to,c;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}c=n/i%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(s,a,c)}wait(){let e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){let n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}},Zg=class{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ie(e))return;let n=Object.keys(dt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{let s=e[r];if(!Ie(s))return;let o={};for(let a of n)o[a]=s[a];(Ye(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){let i=n.options,r=kK(e,i);if(!r)return[];let s=this._createAnimations(r,i);return i.$shared&&RK(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){let i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now(),c;for(c=o.length-1;c>=0;--c){let l=o[c];if(l.charAt(0)==="$")continue;if(l==="options"){r.push(...this._animateOptions(e,n));continue}let d=n[l],h=s[l],f=i.get(l);if(h)if(f&&h.active()){h.update(f,d,a);continue}else h.cancel();if(!f||!f.duration){e[l]=d;continue}s[l]=h=new QE(f,e,l,d),r.push(h)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}let i=this._createAnimations(e,n);if(i.length)return Mr.add(this._chart,i),!0}};function RK(t,e){let n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){let s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function kK(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function y1(t,e){let n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function PK(t,e,n){if(n===!1)return!1;let i=y1(t,n),r=y1(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function NK(t){let e,n,i,r;return Ie(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function yF(t,e){let n=[],i=t._getSortedDatasetMetas(e),r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function v1(t,e,n,i={}){let r=t.keys,s=i.mode==="single",o,a,c,l;if(e!==null){for(o=0,a=r.length;o<a;++o){if(c=+r[o],c===n){if(i.all)continue;break}l=t.values[c],ut(l)&&(s||e===0||ui(e)===ui(l))&&(e+=l)}return e}}function OK(t,e){let{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length),c,l,d;for(c=0,l=o.length;c<l;++c)d=o[c],a[c]={[r]:d,[s]:t[d]};return a}function _1(t,e){let n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function FK(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function LK(t){let{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function VK(t,e,n){let i=t[e]||(t[e]={});return i[n]||(i[n]={})}function b1(t,e,n,i){for(let r of e.getMatchingVisibleMetas(i).reverse()){let s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function w1(t,e){let{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,c=s.axis,l=o.axis,d=FK(s,o,i),h=e.length,f;for(let g=0;g<h;++g){let y=e[g],{[c]:_,[l]:v}=y,C=y._stacks||(y._stacks={});f=C[l]=VK(r,d,_),f[a]=v,f._top=b1(f,o,!0,i.type),f._bottom=b1(f,o,!1,i.type);let S=f._visualValues||(f._visualValues={});S[a]=v}}function UE(t,e){let n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function jK(t,e){return Ar(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function UK(t,e,n){return Ar(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function hd(t,e){let n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(let r of e){let s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}var BE=t=>t==="reset"||t==="none",I1=(t,e)=>e?t:Object.assign({},t),BK=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:yF(n,!0),values:null},Os=(()=>{class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(n,i){this.chart=n,this._ctx=n.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let n=this._cachedMeta;this.configure(),this.linkScales(),n._stacked=_1(n.vScale,n),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(n){this.index!==n&&hd(this._cachedMeta),this.index=n}linkScales(){let n=this.chart,i=this._cachedMeta,r=this.getDataset(),s=(f,g,y,_)=>f==="x"?g:f==="r"?_:y,o=i.xAxisID=de(r.xAxisID,UE(n,"x")),a=i.yAxisID=de(r.yAxisID,UE(n,"y")),c=i.rAxisID=de(r.rAxisID,UE(n,"r")),l=i.indexAxis,d=i.iAxisID=s(l,o,a,c),h=i.vAxisID=s(l,a,o,c);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(c),i.iScale=this.getScaleForId(d),i.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(n){return this.chart.scales[n]}_getOtherScale(n){let i=this._cachedMeta;return n===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let n=this._cachedMeta;this._data&&_E(this._data,this),n._stacked&&hd(n)}_dataCheck(){let n=this.getDataset(),i=n.data||(n.data=[]),r=this._data;if(Ie(i)){let s=this._cachedMeta;this._data=OK(i,s)}else if(r!==i){if(r){_E(r,this);let s=this._cachedMeta;hd(s),s._parsed=[]}i&&Object.isExtensible(i)&&XO(i,this),this._syncList=[],this._data=i}}addElements(){let n=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(n.dataset=new this.datasetElementType)}buildOrUpdateElements(n){let i=this._cachedMeta,r=this.getDataset(),s=!1;this._dataCheck();let o=i._stacked;i._stacked=_1(i.vScale,i),i.stack!==r.stack&&(s=!0,hd(i),i.stack=r.stack),this._resyncElements(n),(s||o!==i._stacked)&&w1(this,i._parsed)}configure(){let n=this.chart.config,i=n.datasetScopeKeys(this._type),r=n.getOptionScopes(this.getDataset(),i,!0);this.options=n.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(n,i){let{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:a}=r,c=o.axis,l=n===0&&i===s.length?!0:r._sorted,d=n>0&&r._parsed[n-1],h,f,g;if(this._parsing===!1)r._parsed=s,r._sorted=!0,g=s;else{Ye(s[n])?g=this.parseArrayData(r,s,n,i):Ie(s[n])?g=this.parseObjectData(r,s,n,i):g=this.parsePrimitiveData(r,s,n,i);let y=()=>f[c]===null||d&&f[c]<d[c];for(h=0;h<i;++h)r._parsed[h+n]=f=g[h],l&&(y()&&(l=!1),d=f);r._sorted=l}a&&w1(this,g)}parsePrimitiveData(n,i,r,s){let{iScale:o,vScale:a}=n,c=o.axis,l=a.axis,d=o.getLabels(),h=o===a,f=new Array(s),g,y,_;for(g=0,y=s;g<y;++g)_=g+r,f[g]={[c]:h||o.parse(d[_],_),[l]:a.parse(i[_],_)};return f}parseArrayData(n,i,r,s){let{xScale:o,yScale:a}=n,c=new Array(s),l,d,h,f;for(l=0,d=s;l<d;++l)h=l+r,f=i[h],c[l]={x:o.parse(f[0],h),y:a.parse(f[1],h)};return c}parseObjectData(n,i,r,s){let{xScale:o,yScale:a}=n,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=new Array(s),h,f,g,y;for(h=0,f=s;h<f;++h)g=h+r,y=i[g],d[h]={x:o.parse(Sr(y,c),g),y:a.parse(Sr(y,l),g)};return d}getParsed(n){return this._cachedMeta._parsed[n]}getDataElement(n){return this._cachedMeta.data[n]}applyStack(n,i,r){let s=this.chart,o=this._cachedMeta,a=i[n.axis],c={keys:yF(s,!0),values:i._stacks[n.axis]._visualValues};return v1(c,a,o.index,{mode:r})}updateRangeFromParsed(n,i,r,s){let o=r[i.axis],a=o===null?NaN:o,c=s&&r._stacks[i.axis];s&&c&&(s.values=c,a=v1(s,o,this._cachedMeta.index)),n.min=Math.min(n.min,a),n.max=Math.max(n.max,a)}getMinMax(n,i){let r=this._cachedMeta,s=r._parsed,o=r._sorted&&n===r.iScale,a=s.length,c=this._getOtherScale(n),l=BK(i,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=LK(c),g,y;function _(){y=s[g];let v=y[c.axis];return!ut(y[n.axis])||h>v||f<v}for(g=0;g<a&&!(!_()&&(this.updateRangeFromParsed(d,n,y,l),o));++g);if(o){for(g=a-1;g>=0;--g)if(!_()){this.updateRangeFromParsed(d,n,y,l);break}}return d}getAllParsedValues(n){let i=this._cachedMeta._parsed,r=[],s,o,a;for(s=0,o=i.length;s<o;++s)a=i[s][n.axis],ut(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(n){let i=this._cachedMeta,r=i.iScale,s=i.vScale,o=this.getParsed(n);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(n){let i=this._cachedMeta;this.update(n||"default"),i._clip=NK(de(this.options.clip,PK(i.xScale,i.yScale,this.getMaxOverflow())))}update(n){}draw(){let n=this._ctx,i=this.chart,r=this._cachedMeta,s=r.data||[],o=i.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop,h;for(r.dataset&&r.dataset.draw(n,o,c,l),h=c;h<c+l;++h){let f=s[h];f.hidden||(f.active&&d?a.push(f):f.draw(n,o))}for(h=0;h<a.length;++h)a[h].draw(n,o)}getStyle(n,i){let r=i?"active":"default";return n===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(n||0,r)}getContext(n,i,r){let s=this.getDataset(),o;if(n>=0&&n<this._cachedMeta.data.length){let a=this._cachedMeta.data[n];o=a.$context||(a.$context=UK(this.getContext(),n,a)),o.parsed=this.getParsed(n),o.raw=s.data[n],o.index=o.dataIndex=n}else o=this.$context||(this.$context=jK(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=r,o}resolveDatasetElementOptions(n){return this._resolveElementOptions(this.datasetElementType.id,n)}resolveDataElementOptions(n,i){return this._resolveElementOptions(this.dataElementType.id,i,n)}_resolveElementOptions(n,i="default",r){let s=i==="active",o=this._cachedDataOpts,a=n+"-"+i,c=o[a],l=this.enableOptionSharing&&Sc(r);if(c)return I1(c,l);let d=this.chart.config,h=d.datasetElementScopeKeys(this._type,n),f=s?[`${n}Hover`,"hover",n,""]:[n,""],g=d.getOptionScopes(this.getDataset(),h),y=Object.keys(dt.elements[n]),_=()=>this.getContext(r,s,i),v=d.resolveNamedOptions(g,y,_,f);return v.$shared&&(v.$shared=l,o[a]=Object.freeze(I1(v,l))),v}_resolveAnimations(n,i,r){let s=this.chart,o=this._cachedDataOpts,a=`animation-${i}`,c=o[a];if(c)return c;let l;if(s.options.animation!==!1){let h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,i),g=h.getOptionScopes(this.getDataset(),f);l=h.createResolver(g,this.getContext(n,r,i))}let d=new Zg(s,l&&l.animations);return l&&l._cacheable&&(o[a]=Object.freeze(d)),d}getSharedOptions(n){if(n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}includeOptions(n,i){return!i||BE(n)||this.chart._animationsDisabled}_getSharedOptions(n,i){let r=this.resolveDataElementOptions(n,i),s=this._sharedOptions,o=this.getSharedOptions(r),a=this.includeOptions(i,o)||o!==s;return this.updateSharedOptions(o,i,r),{sharedOptions:o,includeOptions:a}}updateElement(n,i,r,s){BE(s)?Object.assign(n,r):this._resolveAnimations(i,s).update(n,r)}updateSharedOptions(n,i,r){n&&!BE(i)&&this._resolveAnimations(void 0,i).update(n,r)}_setStyle(n,i,r,s){n.active=s;let o=this.getStyle(i,s);this._resolveAnimations(i,r,s).update(n,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(n,i,r){this._setStyle(n,r,"active",!1)}setHoverStyle(n,i,r){this._setStyle(n,r,"active",!0)}_removeDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}_setDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}_resyncElements(n){let i=this._data,r=this._cachedMeta.data;for(let[c,l,d]of this._syncList)this[c](l,d);this._syncList=[];let s=r.length,o=i.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,n):o<s&&this._removeElements(o,s-o)}_insertElements(n,i,r=!0){let s=this._cachedMeta,o=s.data,a=n+i,c,l=d=>{for(d.length+=i,c=d.length-1;c>=a;c--)d[c]=d[c-i]};for(l(o),c=n;c<a;++c)o[c]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(n,i),r&&this.updateElements(o,n,i,"reset")}updateElements(n,i,r,s){}_removeElements(n,i){let r=this._cachedMeta;if(this._parsing){let s=r._parsed.splice(n,i);r._stacked&&hd(r,s)}r.data.splice(n,i)}_sync(n){if(this._parsing)this._syncList.push(n);else{let[i,r,s]=n;this[i](r,s)}this.chart._dataChanges.push([this.index,...n])}_onDataPush(){let n=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-n,n])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(n,i){i&&this._sync(["_removeElements",n,i]);let r=arguments.length-2;r&&this._sync(["_insertElements",n,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t})();function $K(t,e){if(!t._cache.$bar){let n=t.getMatchingVisibleMetas(e),i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=bE(i.sort((r,s)=>r-s))}return t._cache.$bar}function zK(t){let e=t.iScale,n=$K(e,t.type),i=e._length,r,s,o,a,c=()=>{o===32767||o===-32768||(Sc(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=e.getPixelForValue(n[r]),c();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),c();return i}function HK(t,e,n,i){let r=n.barThickness,s,o;return Re(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function qK(t,e,n,i){let r=e.pixels,s=r[t],o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null,c=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);let l=s-(s-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/i,ratio:n.barPercentage,start:l}}function WK(t,e,n,i){let r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s),c=o,l=a;Math.abs(o)>Math.abs(a)&&(c=a,l=o),e[n.axis]=l,e._custom={barStart:c,barEnd:l,start:r,end:s,min:o,max:a}}function vF(t,e,n,i){return Ye(t)?WK(t,e,n,i):e[n.axis]=n.parse(t,i),e}function E1(t,e,n,i){let r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,c=[],l,d,h,f;for(l=n,d=n+i;l<d;++l)f=e[l],h={},h[r.axis]=a||r.parse(o[l],l),c.push(vF(f,h,s,l));return c}function $E(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function GK(t,e,n){return t!==0?ui(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function KK(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function YK(t,e,n,i){let r=e.borderSkipped,s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:a,reverse:c,top:l,bottom:d}=KK(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=l:(n._bottom||0)===i?r=d:(s[C1(d,o,a,c)]=!0,r=l)),s[C1(r,o,a,c)]=!0,t.borderSkipped=s}function C1(t,e,n,i){return i?(t=QK(t,e,n),t=D1(t,n,e)):t=D1(t,e,n),t}function QK(t,e,n){return t===e?n:t===n?e:t}function D1(t,e,n){return t==="start"?e:t==="end"?n:t}function XK(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}var ZK=(()=>{class t extends Os{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(n,i,r,s){return E1(n,i,r,s)}parseArrayData(n,i,r,s){return E1(n,i,r,s)}parseObjectData(n,i,r,s){let{iScale:o,vScale:a}=n,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=o.axis==="x"?c:l,h=a.axis==="x"?c:l,f=[],g,y,_,v;for(g=r,y=r+s;g<y;++g)v=i[g],_={},_[o.axis]=o.parse(Sr(v,d),g),f.push(vF(Sr(v,h),_,a,g));return f}updateRangeFromParsed(n,i,r,s){super.updateRangeFromParsed(n,i,r,s);let o=r._custom;o&&i===this._cachedMeta.vScale&&(n.min=Math.min(n.min,o.min),n.max=Math.max(n.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(n){let i=this._cachedMeta,{iScale:r,vScale:s}=i,o=this.getParsed(n),a=o._custom,c=$E(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let n=this._cachedMeta;n.stack=this.getDataset().stack}update(n){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,n)}updateElements(n,i,r,s){let o=s==="reset",{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),d=c.isHorizontal(),h=this._getRuler(),{sharedOptions:f,includeOptions:g}=this._getSharedOptions(i,s);for(let y=i;y<i+r;y++){let _=this.getParsed(y),v=o||Re(_[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(y),C=this._calculateBarIndexPixels(y,h),S=(_._stacks||{})[c.axis],k={horizontal:d,base:v.base,enableBorderRadius:!S||$E(_._custom)||a===S._top||a===S._bottom,x:d?v.head:C.center,y:d?C.center:v.head,height:d?C.size:Math.abs(v.size),width:d?Math.abs(v.size):C.size};g&&(k.options=f||this.resolveDataElementOptions(y,n[y].active?"active":s));let P=k.options||n[y].options;YK(k,P,S,a),XK(k,P,h.ratio),this.updateElement(n[y],y,k,s)}}_getStacks(n,i){let{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),o=r.options.stacked,a=[],c=l=>{let d=l.controller.getParsed(i),h=d&&d[l.vScale.axis];if(Re(h)||isNaN(h))return!0};for(let l of s)if(!(i!==void 0&&c(l))&&((o===!1||a.indexOf(l.stack)===-1||o===void 0&&l.stack===void 0)&&a.push(l.stack),l.index===n))break;return a.length||a.push(void 0),a}_getStackCount(n){return this._getStacks(void 0,n).length}_getStackIndex(n,i,r){let s=this._getStacks(n,r),o=i!==void 0?s.indexOf(i):-1;return o===-1?s.length-1:o}_getRuler(){let n=this.options,i=this._cachedMeta,r=i.iScale,s=[],o,a;for(o=0,a=i.data.length;o<a;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));let c=n.barThickness;return{min:c||zK(i),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:n.grouped,ratio:c?1:n.categoryPercentage*n.barPercentage}}_calculateBarValuePixels(n){let{_cachedMeta:{vScale:i,_stacked:r,index:s},options:{base:o,minBarLength:a}}=this,c=o||0,l=this.getParsed(n),d=l._custom,h=$E(d),f=l[i.axis],g=0,y=r?this.applyStack(i,l,r):f,_,v;y!==f&&(g=y-f,y=f),h&&(f=d.barStart,y=d.barEnd-d.barStart,f!==0&&ui(f)!==ui(d.barEnd)&&(g=0),g+=f);let C=!Re(o)&&!h?o:g,S=i.getPixelForValue(C);if(this.chart.getDataVisibility(n)?_=i.getPixelForValue(g+y):_=S,v=_-S,Math.abs(v)<a){v=GK(v,i,c)*a,f===c&&(S-=v/2);let k=i.getPixelForDecimal(0),P=i.getPixelForDecimal(1),F=Math.min(k,P),N=Math.max(k,P);S=Math.max(Math.min(S,N),F),_=S+v,r&&!h&&(l._stacks[i.axis]._visualValues[s]=i.getValueForPixel(_)-i.getValueForPixel(S))}if(S===i.getPixelForValue(c)){let k=ui(v)*i.getLineWidthForValue(c)/2;S+=k,v-=k}return{size:v,base:S,head:_,center:_+v/2}}_calculateBarIndexPixels(n,i){let r=i.scale,s=this.options,o=s.skipNull,a=de(s.maxBarThickness,1/0),c,l;if(i.grouped){let d=o?this._getStackCount(n):i.stackCount,h=s.barThickness==="flex"?qK(n,i,s,d):HK(n,i,s,d),f=this._getStackIndex(this.index,this._cachedMeta.stack,o?n:void 0);c=h.start+h.chunk*f+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else c=r.getPixelForValue(this.getParsed(n)[r.axis],n),l=Math.min(a,i.min*i.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){let n=this._cachedMeta,i=n.vScale,r=n.data,s=r.length,o=0;for(;o<s;++o)this.getParsed(o)[i.axis]!==null&&!r[o].hidden&&r[o].draw(this._ctx)}}return t})(),JK=(()=>{class t extends Os{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(n,i,r,s){let o=super.parsePrimitiveData(n,i,r,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+r).radius;return o}parseArrayData(n,i,r,s){let o=super.parseArrayData(n,i,r,s);for(let a=0;a<o.length;a++){let c=i[r+a];o[a]._custom=de(c[2],this.resolveDataElementOptions(a+r).radius)}return o}parseObjectData(n,i,r,s){let o=super.parseObjectData(n,i,r,s);for(let a=0;a<o.length;a++){let c=i[r+a];o[a]._custom=de(c&&c.r&&+c.r,this.resolveDataElementOptions(a+r).radius)}return o}getMaxOverflow(){let n=this._cachedMeta.data,i=0;for(let r=n.length-1;r>=0;--r)i=Math.max(i,n[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(n){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,a=this.getParsed(n),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y),d=a._custom;return{label:r[n]||"",value:"("+c+", "+l+(d?", "+d:"")+")"}}update(n){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,n)}updateElements(n,i,r,s){let o=s==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:d}=this._getSharedOptions(i,s),h=a.axis,f=c.axis;for(let g=i;g<i+r;g++){let y=n[g],_=!o&&this.getParsed(g),v={},C=v[h]=o?a.getPixelForDecimal(.5):a.getPixelForValue(_[h]),S=v[f]=o?c.getBasePixel():c.getPixelForValue(_[f]);v.skip=isNaN(C)||isNaN(S),d&&(v.options=l||this.resolveDataElementOptions(g,y.active?"active":s),o&&(v.options.radius=0)),this.updateElement(y,g,v,s)}}resolveDataElementOptions(n,i){let r=this.getParsed(n),s=super.resolveDataElementOptions(n,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let o=s.radius;return i!=="active"&&(s.radius=0),s.radius+=de(r&&r._custom,o),s}}return t})();function e7(t,e,n){let i=1,r=1,s=0,o=0;if(e<Xe){let a=t,c=a+e,l=Math.cos(a),d=Math.sin(a),h=Math.cos(c),f=Math.sin(c),g=(k,P,F)=>Mc(k,a,c,!0)?1:Math.max(P,P*n,F,F*n),y=(k,P,F)=>Mc(k,a,c,!0)?-1:Math.min(P,P*n,F,F*n),_=g(0,l,h),v=g(mt,d,f),C=y(Qe,l,h),S=y(Qe+mt,d,f);i=(_-C)/2,r=(v-S)/2,s=-(_+C)/2,o=-(v+S)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}var mC=(()=>{class t extends Os{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:n=>n!=="spacing",_indexable:n=>n!=="spacing"&&!n.startsWith("borderDash")&&!n.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let i=n.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:s}}=n.legend.options;return i.labels.map((o,a)=>{let l=n.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(n,i){super(n,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(n,i){let r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let o=l=>+r[l];if(Ie(r[n])){let{key:l="value"}=this._parsing;o=d=>+Sr(r[d],l)}let a,c;for(a=n,c=n+i;a<c;++a)s._parsed[a]=o(a)}}_getRotation(){return Yn(this.options.rotation-90)}_getCircumference(){return Yn(this.options.circumference)}_getRotationExtents(){let n=Xe,i=-Xe;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),a=s._getCircumference();n=Math.min(n,o),i=Math.max(i,o+a)}return{rotation:n,circumference:i-n}}update(n){let i=this.chart,{chartArea:r}=i,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min($O(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:g,ratioY:y,offsetX:_,offsetY:v}=e7(f,h,l),C=(r.width-a)/g,S=(r.height-a)/y,k=Math.max(Math.min(C,S)/2,0),P=fE(this.options.radius,k),F=Math.max(P*l,0),N=(P-F)/this._getVisibleDatasetWeightTotal();this.offsetX=_*P,this.offsetY=v*P,s.total=this.calculateTotal(),this.outerRadius=P-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*d,0),this.updateElements(o,0,o.length,n)}_circumference(n,i){let r=this.options,s=this._cachedMeta,o=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(n)||s._parsed[n]===null||s.data[n].hidden?0:this.calculateCircumference(s._parsed[n]*o/Xe)}updateElements(n,i,r,s){let o=s==="reset",a=this.chart,c=a.chartArea,d=a.options.animation,h=(c.left+c.right)/2,f=(c.top+c.bottom)/2,g=o&&d.animateScale,y=g?0:this.innerRadius,_=g?0:this.outerRadius,{sharedOptions:v,includeOptions:C}=this._getSharedOptions(i,s),S=this._getRotation(),k;for(k=0;k<i;++k)S+=this._circumference(k,o);for(k=i;k<i+r;++k){let P=this._circumference(k,o),F=n[k],N={x:h+this.offsetX,y:f+this.offsetY,startAngle:S,endAngle:S+P,circumference:P,outerRadius:_,innerRadius:y};C&&(N.options=v||this.resolveDataElementOptions(k,F.active?"active":s)),S+=P,this.updateElement(F,k,N,s)}}calculateTotal(){let n=this._cachedMeta,i=n.data,r=0,s;for(s=0;s<i.length;s++){let o=n._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(n){let i=this._cachedMeta.total;return i>0&&!isNaN(n)?Xe*(Math.abs(n)/i):0}getLabelAndValue(n){let i=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=Rc(i._parsed[n],r.options.locale);return{label:s[n]||"",value:o}}getMaxBorderWidth(n){let i=0,r=this.chart,s,o,a,c,l;if(!n){for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),n=a.data,c=a.controller;break}}if(!n)return 0;for(s=0,o=n.length;s<o;++s)l=c.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(i=Math.max(i,l.borderWidth||0,l.hoverBorderWidth||0));return i}getMaxOffset(n){let i=0;for(let r=0,s=n.length;r<s;++r){let o=this.resolveDataElementOptions(r);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(n){let i=0;for(let r=0;r<n;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(n){return Math.max(de(this.chart.data.datasets[n].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t})(),t7=(()=>{class t extends Os{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(n){let i=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=i,a=this.chart._animationsDisabled,{start:c,count:l}=EE(i,s,a);this._drawStart=c,this._drawCount=l,CE(i)&&(c=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;let d=this.resolveDatasetElementOptions(n);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},n),this.updateElements(s,c,l,n)}updateElements(n,i,r,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(i,s),g=a.axis,y=c.axis,{spanGaps:_,segment:v}=this.options,C=Uo(_)?_:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||o||s==="none",k=i+r,P=n.length,F=i>0&&this.getParsed(i-1);for(let N=0;N<P;++N){let E=n[N],b=S?E:{};if(N<i||N>=k){b.skip=!0;continue}let I=this.getParsed(N),T=Re(I[y]),x=b[g]=a.getPixelForValue(I[g],N),M=b[y]=o||T?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,I,l):I[y],N);b.skip=isNaN(x)||isNaN(M)||T,b.stop=N>0&&Math.abs(I[g]-F[g])>C,v&&(b.parsed=I,b.raw=d.data[N]),f&&(b.options=h||this.resolveDataElementOptions(N,E.active?"active":s)),S||this.updateElement(E,N,b,s),F=I}}getMaxOverflow(){let n=this._cachedMeta,i=n.dataset,r=i.options&&i.options.borderWidth||0,s=n.data||[];if(!s.length)return r;let o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,a)/2}draw(){let n=this._cachedMeta;n.dataset.updateControlPoints(this.chart.chartArea,n.iScale.axis),super.draw()}}return t})(),_F=(()=>{class t extends Os{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let i=n.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:s}}=n.legend.options;return i.labels.map((o,a)=>{let l=n.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(n,i){super(n,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(n){let i=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=Rc(i._parsed[n].r,r.options.locale);return{label:s[n]||"",value:o}}parseObjectData(n,i,r,s){return PE.bind(this)(n,i,r,s)}update(n){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,n)}getMinMax(){let n=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return n.data.forEach((r,s)=>{let o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<i.min&&(i.min=o),o>i.max&&(i.max=o))}),i}_updateRadius(){let n=this.chart,i=n.chartArea,r=n.options,s=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(s/2,0),a=Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0),c=(o-a)/n.getVisibleDatasetCount();this.outerRadius=o-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(n,i,r,s){let o=s==="reset",a=this.chart,l=a.options.animation,d=this._cachedMeta.rScale,h=d.xCenter,f=d.yCenter,g=d.getIndexAngle(0)-.5*Qe,y=g,_,v=360/this.countVisibleElements();for(_=0;_<i;++_)y+=this._computeAngle(_,s,v);for(_=i;_<i+r;_++){let C=n[_],S=y,k=y+this._computeAngle(_,s,v),P=a.getDataVisibility(_)?d.getDistanceFromCenterForValue(this.getParsed(_).r):0;y=k,o&&(l.animateScale&&(P=0),l.animateRotate&&(S=k=g));let F={x:h,y:f,innerRadius:0,outerRadius:P,startAngle:S,endAngle:k,options:this.resolveDataElementOptions(_,C.active?"active":s)};this.updateElement(C,_,F,s)}}countVisibleElements(){let n=this._cachedMeta,i=0;return n.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(n,i,r){return this.chart.getDataVisibility(n)?Yn(this.resolveDataElementOptions(n,i).angle||r):0}}return t})(),n7=(()=>{class t extends mC{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return t})(),i7=(()=>{class t extends Os{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(n){let i=this._cachedMeta.vScale,r=this.getParsed(n);return{label:i.getLabels()[n],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(n,i,r,s){return PE.bind(this)(n,i,r,s)}update(n){let i=this._cachedMeta,r=i.dataset,s=i.data||[],o=i.iScale.getLabels();if(r.points=s,n!=="resize"){let a=this.resolveDatasetElementOptions(n);this.options.showLine||(a.borderWidth=0);let c={_loop:!0,_fullLoop:o.length===s.length,options:a};this.updateElement(r,void 0,c,n)}this.updateElements(s,0,s.length,n)}updateElements(n,i,r,s){let o=this._cachedMeta.rScale,a=s==="reset";for(let c=i;c<i+r;c++){let l=n[c],d=this.resolveDataElementOptions(c,l.active?"active":s),h=o.getPointPositionForValue(c,this.getParsed(c).r),f=a?o.xCenter:h.x,g=a?o.yCenter:h.y,y={x:f,y:g,angle:h.angle,skip:isNaN(f)||isNaN(g),options:d};this.updateElement(l,c,y,s)}}}return t})(),r7=(()=>{class t extends Os{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(n){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,a=this.getParsed(n),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y);return{label:r[n]||"",value:"("+c+", "+l+")"}}update(n){let i=this._cachedMeta,{data:r=[]}=i,s=this.chart._animationsDisabled,{start:o,count:a}=EE(i,r,s);if(this._drawStart=o,this._drawCount=a,CE(i)&&(o=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:c,_dataset:l}=i;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=r;let d=this.resolveDatasetElementOptions(n);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:d},n)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,o,a,n)}addElements(){let{showLine:n}=this.options;!this.datasetElementType&&n&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(n,i,r,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,h=this.resolveDataElementOptions(i,s),f=this.getSharedOptions(h),g=this.includeOptions(s,f),y=a.axis,_=c.axis,{spanGaps:v,segment:C}=this.options,S=Uo(v)?v:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||o||s==="none",P=i>0&&this.getParsed(i-1);for(let F=i;F<i+r;++F){let N=n[F],E=this.getParsed(F),b=k?N:{},I=Re(E[_]),T=b[y]=a.getPixelForValue(E[y],F),x=b[_]=o||I?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,E,l):E[_],F);b.skip=isNaN(T)||isNaN(x)||I,b.stop=F>0&&Math.abs(E[y]-P[y])>S,C&&(b.parsed=E,b.raw=d.data[F]),g&&(b.options=f||this.resolveDataElementOptions(F,N.active?"active":s)),k||this.updateElement(N,F,b,s),P=E}this.updateSharedOptions(f,s,h)}getMaxOverflow(){let n=this._cachedMeta,i=n.data||[];if(!this.options.showLine){let c=0;for(let l=i.length-1;l>=0;--l)c=Math.max(c,i[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}let r=n.dataset,s=r.options&&r.options.borderWidth||0;if(!i.length)return s;let o=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,a)/2}}return t})(),s7=Object.freeze({__proto__:null,BarController:ZK,BubbleController:JK,DoughnutController:mC,LineController:t7,PieController:n7,PolarAreaController:_F,RadarController:i7,ScatterController:r7});function $o(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var XE=class t{static override(e){Object.assign(t.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return $o()}parse(){return $o()}format(){return $o()}add(){return $o()}diff(){return $o()}startOf(){return $o()}endOf(){return $o()}},o7={_date:XE};function a7(t,e,n,i){let{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){let c=a._reversePixels?KO:Fi;if(i){if(r._sharedOptions){let l=s[0],d=typeof l.getRange=="function"&&l.getRange(e);if(d){let h=c(s,e,n-d),f=c(s,e,n+d);return{lo:h.lo,hi:f.hi}}}}else return c(s,e,n)}return{lo:0,hi:s.length-1}}function Id(t,e,n,i,r){let s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,c=s.length;a<c;++a){let{index:l,data:d}=s[a],{lo:h,hi:f}=a7(s[a],e,o,r);for(let g=h;g<=f;++g){let y=d[g];y.skip||i(y,l,g)}}}function c7(t){let e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){let s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function zE(t,e,n,i,r){let s=[];return!r&&!t.isPointInArea(e)||Id(t,n,e,function(a,c,l){!r&&!Li(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:c,index:l})},!0),s}function l7(t,e,n,i){let r=[];function s(o,a,c){let{startAngle:l,endAngle:d}=o.getProps(["startAngle","endAngle"],i),{angle:h}=vE(o,{x:e.x,y:e.y});Mc(h,l,d)&&r.push({element:o,datasetIndex:a,index:c})}return Id(t,n,e,s),r}function u7(t,e,n,i,r,s){let o=[],a=c7(n),c=Number.POSITIVE_INFINITY;function l(d,h,f){let g=d.inRange(e.x,e.y,r);if(i&&!g)return;let y=d.getCenterPoint(r);if(!(!!s||t.isPointInArea(y))&&!g)return;let v=a(e,y);v<c?(o=[{element:d,datasetIndex:h,index:f}],c=v):v===c&&o.push({element:d,datasetIndex:h,index:f})}return Id(t,n,e,l),o}function HE(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?l7(t,e,n,r):u7(t,e,n,i,r,s)}function T1(t,e,n,i,r){let s=[],o=n==="x"?"inXRange":"inYRange",a=!1;return Id(t,n,e,(c,l,d)=>{c[o](e[n],r)&&(s.push({element:c,datasetIndex:l,index:d}),a=a||c.inRange(e.x,e.y,r))}),i&&!a?[]:s}var d7={evaluateInteractionItems:Id,modes:{index(t,e,n,i){let r=Ps(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?zE(t,r,s,i,o):HE(t,r,s,!1,i,o),c=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(l=>{let d=a[0].index,h=l.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:l.index,index:d})}),c):[]},dataset(t,e,n,i){let r=Ps(e,t),s=n.axis||"xy",o=n.includeInvisible||!1,a=n.intersect?zE(t,r,s,i,o):HE(t,r,s,!1,i,o);if(a.length>0){let c=a[0].datasetIndex,l=t.getDatasetMeta(c).data;a=[];for(let d=0;d<l.length;++d)a.push({element:l[d],datasetIndex:c,index:d})}return a},point(t,e,n,i){let r=Ps(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return zE(t,r,s,i,o)},nearest(t,e,n,i){let r=Ps(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return HE(t,r,s,n.intersect,i,o)},x(t,e,n,i){let r=Ps(e,t);return T1(t,r,"x",n.intersect,i)},y(t,e,n,i){let r=Ps(e,t);return T1(t,r,"y",n.intersect,i)}}},bF=["left","top","right","bottom"];function fd(t,e){return t.filter(n=>n.pos===e)}function x1(t,e){return t.filter(n=>bF.indexOf(n.pos)===-1&&n.box.axis===e)}function pd(t,e){return t.sort((n,i)=>{let r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function h7(t){let e=[],n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function f7(t){let e={};for(let n of t){let{stack:i,pos:r,stackWeight:s}=n;if(!i||!bF.includes(r))continue;let o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function p7(t,e){let n=f7(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e,s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];let{fullSize:c}=a.box,l=n[a.stack],d=l&&a.stackWeight/l.weight;a.horizontal?(a.width=d?d*i:c&&e.availableWidth,a.height=r):(a.width=i,a.height=d?d*r:c&&e.availableHeight)}return n}function g7(t){let e=h7(t),n=pd(e.filter(l=>l.box.fullSize),!0),i=pd(fd(e,"left"),!0),r=pd(fd(e,"right")),s=pd(fd(e,"top"),!0),o=pd(fd(e,"bottom")),a=x1(e,"x"),c=x1(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(c).concat(o).concat(a),chartArea:fd(e,"chartArea"),vertical:i.concat(r).concat(c),horizontal:s.concat(o).concat(a)}}function S1(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function wF(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function m7(t,e,n,i){let{pos:r,box:s}=n,o=t.maxPadding;if(!Ie(r)){n.size&&(t[r]-=n.size);let h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[r]+=n.size}s.getPadding&&wF(o,s.getPadding());let a=Math.max(0,e.outerWidth-S1(o,t,"left","right")),c=Math.max(0,e.outerHeight-S1(o,t,"top","bottom")),l=a!==t.w,d=c!==t.h;return t.w=a,t.h=c,n.horizontal?{same:l,other:d}:{same:d,other:l}}function y7(t){let e=t.maxPadding;function n(i){let r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function v7(t,e){let n=e.maxPadding;function i(r){let s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function yd(t,e,n,i){let r=[],s,o,a,c,l,d;for(s=0,o=t.length,l=0;s<o;++s){a=t[s],c=a.box,c.update(a.width||e.w,a.height||e.h,v7(a.horizontal,e));let{same:h,other:f}=m7(e,n,a,i);l|=h&&r.length,d=d||f,c.fullSize||r.push(a)}return l&&yd(r,e,n,i)||d}function zg(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function A1(t,e,n,i){let r=n.padding,{x:s,y:o}=e;for(let a of t){let c=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/l.weight||1;if(a.horizontal){let h=e.w*d,f=l.size||c.height;Sc(l.start)&&(o=l.start),c.fullSize?zg(c,r.left,o,n.outerWidth-r.right-r.left,f):zg(c,e.left+l.placed,o,h,f),l.start=o,l.placed+=h,o=c.bottom}else{let h=e.h*d,f=l.size||c.width;Sc(l.start)&&(s=l.start),c.fullSize?zg(c,s,r.top,f,n.outerHeight-r.bottom-r.top):zg(c,s,e.top+l.placed,f,h),l.start=s,l.placed+=h,s=c.right}}e.x=s,e.y=o}var nn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){let n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;let r=qt(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=g7(t.boxes),c=a.vertical,l=a.horizontal;je(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});let d=c.reduce((_,v)=>v.box.options&&v.box.options.display===!1?_:_+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},r);wF(f,qt(i));let g=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),y=p7(c.concat(l),h);yd(a.fullSize,g,h,y),yd(c,g,h,y),yd(l,g,h,y)&&yd(c,g,h,y),y7(g),A1(a.leftAndTop,g,h,y),g.x+=g.w,g.y+=g.h,A1(a.rightAndBottom,g,h,y),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},je(a.chartArea,_=>{let v=_.box;Object.assign(v,t.chartArea),v.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}},Jg=class{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}},ZE=class extends Jg{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},Qg="$chartjs",_7={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},M1=t=>t===null||t==="";function b7(t,e){let n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[Qg]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",M1(r)){let s=OE(t,"width");s!==void 0&&(t.width=s)}if(M1(i))if(t.style.height==="")t.height=t.width/(e||2);else{let s=OE(t,"height");s!==void 0&&(t.height=s)}return t}var IF=d1?{passive:!0}:!1;function w7(t,e,n){t&&t.addEventListener(e,n,IF)}function I7(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,IF)}function E7(t,e){let n=_7[t.type]||t.type,{x:i,y:r}=Ps(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function em(t,e){for(let n of t)if(n===e||n.contains(e))return!0}function C7(t,e,n){let i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||em(a.addedNodes,i),o=o&&!em(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function D7(t,e,n){let i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||em(a.removedNodes,i),o=o&&!em(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}var _d=new Map,R1=0;function EF(){let t=window.devicePixelRatio;t!==R1&&(R1=t,_d.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function T7(t,e){_d.size||window.addEventListener("resize",EF),_d.set(t,e)}function x7(t){_d.delete(t),_d.size||window.removeEventListener("resize",EF)}function S7(t,e,n){let i=t.canvas,r=i&&Bg(i);if(!r)return;let s=IE((a,c)=>{let l=r.clientWidth;n(a,c),l<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{let c=a[0],l=c.contentRect.width,d=c.contentRect.height;l===0&&d===0||s(l,d)});return o.observe(r),T7(t,s),o}function qE(t,e,n){n&&n.disconnect(),e==="resize"&&x7(t)}function A7(t,e,n){let i=t.canvas,r=IE(s=>{t.ctx!==null&&n(E7(s,t))},t);return w7(i,e,r),r}var JE=class extends Jg{acquireContext(e,n){let i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(b7(e,n),i):null}releaseContext(e){let n=e.canvas;if(!n[Qg])return!1;let i=n[Qg].initial;["height","width"].forEach(s=>{let o=i[s];Re(o)?n.removeAttribute(s):n.setAttribute(s,o)});let r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[Qg],!0}addEventListener(e,n,i){this.removeEventListener(e,n);let r=e.$proxies||(e.$proxies={}),o={attach:C7,detach:D7,resize:S7}[n]||A7;r[n]=o(e,n,i)}removeEventListener(e,n){let i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:qE,detach:qE,resize:qE}[n]||I7)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return u1(e,n,i,r)}isAttached(e){let n=e&&Bg(e);return!!(n&&n.isConnected)}};function M7(t){return!Ug()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?ZE:JE}var di=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Uo(this.x)&&Uo(this.y)}getProps(e,n){let i=this.$animations;if(!n||!i)return this;let r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}};function R7(t,e){let n=t.options.ticks,i=k7(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?N7(e):[],o=s.length,a=s[0],c=s[o-1],l=[];if(o>r)return O7(e,l,s,o/r),l;let d=P7(s,e,r);if(o>0){let h,f,g=o>1?Math.round((c-a)/(o-1)):null;for(Hg(e,l,d,Re(g)?0:a-g,a),h=0,f=o-1;h<f;h++)Hg(e,l,d,s[h],s[h+1]);return Hg(e,l,d,c,Re(g)?e.length:c+g),l}return Hg(e,l,d),l}function k7(t){let e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function P7(t,e,n){let i=F7(t),r=e.length/n;if(!i)return Math.max(r,1);let s=qO(i);for(let o=0,a=s.length-1;o<a;o++){let c=s[o];if(c>r)return c}return Math.max(r,1)}function N7(t){let e=[],n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function O7(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function Hg(t,e,n,i,r){let s=de(i,0),o=Math.min(de(r,t.length),t.length),a=0,c,l,d;for(n=Math.ceil(n),r&&(c=r-i,n=c/Math.floor(c/n)),d=s;d<0;)a++,d=Math.round(s+a*n);for(l=Math.max(s,0);l<o;l++)l===d&&(e.push(t[l]),a++,d=Math.round(s+a*n))}function F7(t){let e=t.length,n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}var L7=t=>t==="left"?"right":t==="right"?"left":t,k1=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,P1=(t,e)=>Math.min(e||t,t);function N1(t,e){let n=[],i=t.length/e,r=t.length,s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function V7(t,e,n){let i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6,c=t.getPixelForTick(r),l;if(!(n&&(i===1?l=Math.max(c-s,o-c):e===0?l=(t.getPixelForTick(1)-c)/2:l=(c-t.getPixelForTick(r-1))/2,c+=r<e?l:-l,c<s-a||c>o+a)))return c}function j7(t,e){je(t,n=>{let i=n.gc,r=i.length/2,s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function gd(t){return t.drawTicks?t.tickLength:0}function O1(t,e){if(!t.display)return 0;let n=Ct(t.font,e),i=qt(t.padding);return(Ye(t.text)?t.text.length:1)*n.lineHeight+i.height}function U7(t,e){return Ar(t,{scale:e,type:"scale"})}function B7(t,e,n){return Ar(t,{tick:n,index:e,type:"tick"})}function $7(t,e,n){let i=Og(t);return(n&&e!=="right"||!n&&e==="right")&&(i=L7(i)),i}function z7(t,e,n,i){let{top:r,left:s,bottom:o,right:a,chart:c}=t,{chartArea:l,scales:d}=c,h=0,f,g,y,_=o-r,v=a-s;if(t.isHorizontal()){if(g=Ht(i,s,a),Ie(n)){let C=Object.keys(n)[0],S=n[C];y=d[C].getPixelForValue(S)+_-e}else n==="center"?y=(l.bottom+l.top)/2+_-e:y=k1(t,n,e);f=a-s}else{if(Ie(n)){let C=Object.keys(n)[0],S=n[C];g=d[C].getPixelForValue(S)-v+e}else n==="center"?g=(l.left+l.right)/2-v+e:g=k1(t,n,e);y=Ht(i,o,r),h=n==="left"?-mt:mt}return{titleX:g,titleY:y,maxWidth:f,rotation:h}}var Ho=class t extends di{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=wn(e,Number.POSITIVE_INFINITY),n=wn(n,Number.NEGATIVE_INFINITY),i=wn(i,Number.POSITIVE_INFINITY),r=wn(r,Number.NEGATIVE_INFINITY),{min:wn(e,i),max:wn(n,r),minDefined:ut(e),maxDefined:ut(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};let a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)o=a[c].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:wn(n,wn(i,n)),max:wn(i,wn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){He(this.options.beforeUpdate,[this])}update(e,n,i){let{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=r1(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=a<this.ticks.length;this._convertTicksToLabels(c?N1(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=R7(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){He(this.options.afterUpdate,[this])}beforeSetDimensions(){He(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){He(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),He(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){He(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let n=this.options.ticks,i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=He(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){He(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){He(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,n=e.ticks,i=P1(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation,o=r,a,c,l;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}let d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,g=Rt(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:g/(i-1),h+6>a&&(a=g/(i-(e.offset?.5:1)),c=this.maxHeight-gd(e.grid)-n.padding-O1(e.title,this.chart.options.font),l=Math.sqrt(h*h+f*f),o=Pg(Math.min(Math.asin(Rt((d.highest.height+6)/a,-1,1)),Math.asin(Rt(c/l,-1,1))-Math.asin(Rt(f/l,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){He(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){He(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let c=O1(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=gd(s)+c):(e.height=this.maxHeight,e.width=gd(s)+c),i.display&&this.ticks.length){let{first:l,last:d,widest:h,highest:f}=this._getLabelSizes(),g=i.padding*2,y=Yn(this.labelRotation),_=Math.cos(y),v=Math.sin(y);if(a){let C=i.mirror?0:v*h.width+_*f.height;e.height=Math.min(this.maxHeight,e.height+C+g)}else{let C=i.mirror?0:_*h.width+v*f.height;e.width=Math.min(this.maxWidth,e.width+C+g)}this._calculatePadding(l,d,v,_)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){let{ticks:{align:s,padding:o},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),f=0,g=0;c?l?(f=r*e.width,g=i*n.height):(f=i*e.height,g=r*n.width):s==="start"?g=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,g=n.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-h+o)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;s==="start"?(d=0,h=e.height):s==="end"&&(d=n.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){He(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Re(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let n=this.options.ticks.sampleSize,i=this.ticks;n<i.length&&(i=N1(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){let{ctx:r,_longestTextCache:s}=this,o=[],a=[],c=Math.floor(n/P1(n,i)),l=0,d=0,h,f,g,y,_,v,C,S,k,P,F;for(h=0;h<n;h+=c){if(y=e[h].label,_=this._resolveTickFontOptions(h),r.font=v=_.string,C=s[v]=s[v]||{data:{},gc:[]},S=_.lineHeight,k=P=0,!Re(y)&&!Ye(y))k=ad(r,C.data,C.gc,k,y),P=S;else if(Ye(y))for(f=0,g=y.length;f<g;++f)F=y[f],!Re(F)&&!Ye(F)&&(k=ad(r,C.data,C.gc,k,F),P+=S);o.push(k),a.push(P),l=Math.max(k,l),d=Math.max(P,d)}j7(s,n);let N=o.indexOf(l),E=a.indexOf(d),b=I=>({width:o[I]||0,height:a[I]||0});return{first:b(0),last:b(n-1),widest:b(N),highest:b(E),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){let n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let n=this._startPixel+e*this._length;return GO(this._alignToPixels?Ms(this.chart,n,0):n)}getDecimalForPixel(e){let n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){let n=this.ticks||[];if(e>=0&&e<n.length){let i=n[e];return i.$context||(i.$context=B7(this.getContext(),e,i))}return this.$context||(this.$context=U7(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,n=Yn(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*i>a*r?a/i:c/r:c*r<a*i?c/i:a/r}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,c=s.offset,l=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=gd(s),g=[],y=a.setContext(this.getContext()),_=y.display?y.width:0,v=_/2,C=function(qe){return Ms(i,qe,_)},S,k,P,F,N,E,b,I,T,x,M,D;if(o==="top")S=C(this.bottom),E=this.bottom-f,I=S-v,x=C(e.top)+v,D=e.bottom;else if(o==="bottom")S=C(this.top),x=e.top,D=C(e.bottom)-v,E=S+v,I=this.top+f;else if(o==="left")S=C(this.right),N=this.right-f,b=S-v,T=C(e.left)+v,M=e.right;else if(o==="right")S=C(this.left),T=e.left,M=C(e.right)-v,N=S+v,b=this.left+f;else if(n==="x"){if(o==="center")S=C((e.top+e.bottom)/2+.5);else if(Ie(o)){let qe=Object.keys(o)[0],Be=o[qe];S=C(this.chart.scales[qe].getPixelForValue(Be))}x=e.top,D=e.bottom,E=S+v,I=E+f}else if(n==="y"){if(o==="center")S=C((e.left+e.right)/2);else if(Ie(o)){let qe=Object.keys(o)[0],Be=o[qe];S=C(this.chart.scales[qe].getPixelForValue(Be))}N=S-v,b=N-f,T=e.left,M=e.right}let at=de(r.ticks.maxTicksLimit,h),xe=Math.max(1,Math.ceil(h/at));for(k=0;k<h;k+=xe){let qe=this.getContext(k),Be=s.setContext(qe),Vt=a.setContext(qe),vt=Be.lineWidth,$i=Be.color,qo=Vt.dash||[],rn=Vt.dashOffset,ht=Be.tickWidth,zi=Be.tickColor,Qn=Be.tickBorderDash||[],Hi=Be.tickBorderDashOffset;P=V7(this,k,c),P!==void 0&&(F=Ms(i,P,vt),l?N=b=T=M=F:E=I=x=D=F,g.push({tx1:N,ty1:E,tx2:b,ty2:I,x1:T,y1:x,x2:M,y2:D,width:vt,color:$i,borderDash:qo,borderDashOffset:rn,tickWidth:ht,tickColor:zi,tickBorderDash:Qn,tickBorderDashOffset:Hi}))}return this._ticksLength=h,this._borderValue=S,g}_computeLabelItems(e){let n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:d,mirror:h}=s,f=gd(i.grid),g=f+d,y=h?-d:g,_=-Yn(this.labelRotation),v=[],C,S,k,P,F,N,E,b,I,T,x,M,D="middle";if(r==="top")N=this.bottom-y,E=this._getXAxisLabelAlignment();else if(r==="bottom")N=this.top+y,E=this._getXAxisLabelAlignment();else if(r==="left"){let xe=this._getYAxisLabelAlignment(f);E=xe.textAlign,F=xe.x}else if(r==="right"){let xe=this._getYAxisLabelAlignment(f);E=xe.textAlign,F=xe.x}else if(n==="x"){if(r==="center")N=(e.top+e.bottom)/2+g;else if(Ie(r)){let xe=Object.keys(r)[0],qe=r[xe];N=this.chart.scales[xe].getPixelForValue(qe)+g}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")F=(e.left+e.right)/2-g;else if(Ie(r)){let xe=Object.keys(r)[0],qe=r[xe];F=this.chart.scales[xe].getPixelForValue(qe)}E=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?D="top":c==="end"&&(D="bottom"));let at=this._getLabelSizes();for(C=0,S=a.length;C<S;++C){k=a[C],P=k.label;let xe=s.setContext(this.getContext(C));b=this.getPixelForTick(C)+s.labelOffset,I=this._resolveTickFontOptions(C),T=I.lineHeight,x=Ye(P)?P.length:1;let qe=x/2,Be=xe.color,Vt=xe.textStrokeColor,vt=xe.textStrokeWidth,$i=E;o?(F=b,E==="inner"&&(C===S-1?$i=this.options.reverse?"left":"right":C===0?$i=this.options.reverse?"right":"left":$i="center"),r==="top"?l==="near"||_!==0?M=-x*T+T/2:l==="center"?M=-at.highest.height/2-qe*T+T:M=-at.highest.height+T/2:l==="near"||_!==0?M=T/2:l==="center"?M=at.highest.height/2-qe*T:M=at.highest.height-x*T,h&&(M*=-1),_!==0&&!xe.showLabelBackdrop&&(F+=T/2*Math.sin(_))):(N=b,M=(1-x)*T/2);let qo;if(xe.showLabelBackdrop){let rn=qt(xe.backdropPadding),ht=at.heights[C],zi=at.widths[C],Qn=M-rn.top,Hi=0-rn.left;switch(D){case"middle":Qn-=ht/2;break;case"bottom":Qn-=ht;break}switch(E){case"center":Hi-=zi/2;break;case"right":Hi-=zi;break;case"inner":C===S-1?Hi-=zi:C>0&&(Hi-=zi/2);break}qo={left:Hi,top:Qn,width:zi+rn.width,height:ht+rn.height,color:xe.backdropColor}}v.push({label:P,font:I,textOffset:M,options:{rotation:_,color:Be,strokeColor:Vt,strokeWidth:vt,textAlign:$i,textBaseline:D,translation:[F,N],backdrop:qo}})}return v}_getXAxisLabelAlignment(){let{position:e,ticks:n}=this.options;if(-Yn(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){let{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,c=o.widest.width,l,d;return n==="left"?r?(d=this.right+s,i==="near"?l="left":i==="center"?(l="center",d+=c/2):(l="right",d+=c)):(d=this.right-a,i==="near"?l="right":i==="center"?(l="center",d-=c/2):(l="left",d=this.left)):n==="right"?r?(d=this.left+s,i==="near"?l="right":i==="center"?(l="center",d-=c/2):(l="left",d-=c)):(d=this.left+a,i==="near"?l="left":i==="center"?(l="center",d+=c/2):(l="right",d=this.right)):l="right",{textAlign:l,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){let n=this.options.grid;if(!this._isVisible()||!n.display)return 0;let r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){let n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),s,o,a=(c,l,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(l.x,l.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){let c=r[s];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;let a=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue,l,d,h,f;this.isHorizontal()?(l=Ms(e,this.left,o)-o/2,d=Ms(e,this.right,a)+a/2,h=f=c):(h=Ms(e,this.top,o)-o/2,f=Ms(e,this.bottom,a)+a/2,l=d=c),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(l,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;let i=this.ctx,r=this._computeLabelArea();r&&ud(i,r);let s=this.getLabelItems(e);for(let o of s){let a=o.options,c=o.font,l=o.label,d=o.textOffset;Rs(i,l,0,d,c,a)}r&&dd(i)}drawTitle(){let{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;let s=Ct(i.font),o=qt(i.padding),a=i.align,c=s.lineHeight/2;n==="bottom"||n==="center"||Ie(n)?(c+=o.bottom,Ye(i.text)&&(c+=s.lineHeight*(i.text.length-1))):c+=o.top;let{titleX:l,titleY:d,maxWidth:h,rotation:f}=z7(this,c,n,a);Rs(e,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:f,textAlign:$7(a,n,r),textBaseline:"middle",translation:[l,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,n=e.ticks&&e.ticks.z||0,i=de(e.grid&&e.grid.z,-1),r=de(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){let n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[],s,o;for(s=0,o=n.length;s<o;++s){let a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){let n=this.options.ticks.setContext(this.getContext(e));return Ct(n.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},Oc=class{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let n=Object.getPrototypeOf(e),i;W7(n)&&(i=this.register(n));let r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,H7(e,o,i),this.override&&dt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){let n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in dt[r]&&(delete dt[r][i],this.override&&delete As[i])}};function H7(t,e,n){let i=Dc(Object.create(null),[n?dt.get(n):{},dt.get(e),t.defaults]);dt.set(e,i),t.defaultRoutes&&q7(e,t.defaultRoutes),t.descriptors&&dt.describe(e,t.descriptors)}function q7(t,e){Object.keys(e).forEach(n=>{let i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),c=o.join(".");dt.route(s,r,c,a)})}function W7(t){return"id"in t&&"defaults"in t}var eC=class{constructor(){this.controllers=new Oc(Os,"datasets",!0),this.elements=new Oc(di,"elements"),this.plugins=new Oc(Object,"plugins"),this.scales=new Oc(Ho,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{let s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):je(r,o=>{let a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){let r=kg(e);He(i["before"+r],[],i),n[e](i),He(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){let i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){let r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}},Bi=new eC,tC=class{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(let s of e){let o=s.plugin,a=o[i],c=[n,r,s.options];if(He(a,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Re(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){let i=e&&e.config,r=de(i.options&&i.options.plugins,{}),s=G7(i);return r===!1&&!n?[]:Y7(e,s,r,n)}_notifyStateChanges(e){let n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}};function G7(t){let e={},n=[],i=Object.keys(Bi.plugins.items);for(let s=0;s<i.length;s++)n.push(Bi.getPlugin(i[s]));let r=t.plugins||[];for(let s=0;s<r.length;s++){let o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function K7(t,e){return!e&&t===!1?null:t===!0?{}:t}function Y7(t,{plugins:e,localIds:n},i,r){let s=[],o=t.getContext();for(let a of e){let c=a.id,l=K7(i[c],r);l!==null&&s.push({plugin:a,options:Q7(t.config,{plugin:a,local:n[c]},l,o)})}return s}function Q7(t,{plugin:e,local:n},i,r){let s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function nC(t,e){let n=dt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function X7(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Z7(t,e){return t===e?"_index_":"_value_"}function F1(t){if(t==="x"||t==="y"||t==="r")return t}function J7(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function iC(t,...e){if(F1(t))return t;for(let n of e){let i=n.axis||J7(n.position)||t.length>1&&F1(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function L1(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function eY(t,e){if(e.data&&e.data.datasets){let n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return L1(t,"x",n[0])||L1(t,"y",n[0])}return{}}function tY(t,e){let n=As[t.type]||{scales:{}},i=e.scales||{},r=nC(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{let a=i[o];if(!Ie(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let c=iC(o,a,eY(o,t),dt.scales[a.type]),l=Z7(c,r),d=n.scales||{};s[o]=xc(Object.create(null),[{axis:c},a,d[c],d[l]])}),t.data.datasets.forEach(o=>{let a=o.type||t.type,c=o.indexAxis||nC(a,e),d=(As[a]||{}).scales||{};Object.keys(d).forEach(h=>{let f=X7(h,c),g=o[f+"AxisID"]||f;s[g]=s[g]||Object.create(null),xc(s[g],[{axis:f},i[g],d[h]])})}),Object.keys(s).forEach(o=>{let a=s[o];xc(a,[dt.scales[a.type],dt.scale])}),s}function CF(t){let e=t.options||(t.options={});e.plugins=de(e.plugins,{}),e.scales=tY(t,e)}function DF(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function nY(t){return t=t||{},t.data=DF(t.data),CF(t),t}var V1=new Map,TF=new Set;function qg(t,e){let n=V1.get(t);return n||(n=e(),V1.set(t,n),TF.add(n)),n}var md=(t,e,n)=>{let i=Sr(e,n);i!==void 0&&t.add(i)},rC=class{constructor(e){this._config=nY(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=DF(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),CF(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return qg(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return qg(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return qg(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){let n=e.id,i=this.type;return qg(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){let i=this._scopeCache,r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){let{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;let c=new Set;n.forEach(d=>{e&&(c.add(e),d.forEach(h=>md(c,e,h))),d.forEach(h=>md(c,r,h)),d.forEach(h=>md(c,As[s]||{},h)),d.forEach(h=>md(c,dt,h)),d.forEach(h=>md(c,Fg,h))});let l=Array.from(c);return l.length===0&&l.push(Object.create(null)),TF.has(n)&&o.set(n,l),l}chartOptionScopes(){let{options:e,type:n}=this;return[e,As[n]||{},dt.datasets[n]||{},{type:n},dt,Fg]}resolveNamedOptions(e,n,i,r=[""]){let s={$shared:!0},{resolver:o,subPrefixes:a}=j1(this._resolverCache,e,r),c=o;if(rY(o,n)){s.$shared=!1,i=Tr(i)?i():i;let l=this.createResolver(e,i,a);c=jo(o,i,l)}for(let l of n)s[l]=c[l];return s}createResolver(e,n,i=[""],r){let{resolver:s}=j1(this._resolverCache,e,i);return Ie(n)?jo(s,n,void 0,r):s}};function j1(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));let r=n.join(),s=i.get(r);return s||(s={resolver:jg(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}var iY=t=>Ie(t)&&Object.getOwnPropertyNames(t).some(e=>Tr(t[e]));function rY(t,e){let{isScriptable:n,isIndexable:i}=ME(t);for(let r of e){let s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(Tr(a)||iY(a))||o&&Ye(a))return!0}return!1}var sY="4.4.3",oY=["top","bottom","left","right","chartArea"];function U1(t,e){return t==="top"||t==="bottom"||oY.indexOf(t)===-1&&e==="x"}function B1(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function $1(t){let e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),He(n&&n.onComplete,[t],e)}function aY(t){let e=t.chart,n=e.options.animation;He(n&&n.onProgress,[t],e)}function xF(t){return Ug()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var Xg={},z1=t=>{let e=xF(t);return Object.values(Xg).filter(n=>n.canvas===e).pop()};function cY(t,e,n){let i=Object.keys(t);for(let r of i){let s=+r;if(s>=e){let o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function lY(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function Wg(t,e,n){return t.options.clip?t[n]:e[n]}function uY(t,e){let{xScale:n,yScale:i}=t;return n&&i?{left:Wg(n,e,"left"),right:Wg(n,e,"right"),top:Wg(i,e,"top"),bottom:Wg(i,e,"bottom")}:e}var Fs=(()=>{class t{static defaults=dt;static instances=Xg;static overrides=As;static registry=Bi;static version=sY;static getChart=z1;static register(...n){Bi.add(...n),H1()}static unregister(...n){Bi.remove(...n),H1()}constructor(n,i){let r=this.config=new rC(i),s=xF(n),o=z1(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||M7(s)),this.platform.updateConfig(r);let c=this.platform.acquireContext(s,a.aspectRatio),l=c&&c.canvas,d=l&&l.height,h=l&&l.width;if(this.id=BO(),this.ctx=c,this.canvas=l,this.width=h,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new tC,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ZO(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],Xg[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Mr.listen(this,"complete",$1),Mr.listen(this,"progress",aY),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:n,maintainAspectRatio:i},width:r,height:s,_aspectRatio:o}=this;return Re(n)?i&&o?o:s?r/s:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}get registry(){return Bi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():NE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return xE(this.canvas,this.ctx),this}stop(){return Mr.stop(this),this}resize(n,i){Mr.running(this)?this._resizeBeforeDraw={width:n,height:i}:this._resize(n,i)}_resize(n,i){let r=this.options,s=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,n,i,o),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,NE(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),He(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};je(i,(r,s)=>{r.id=s})}buildOrUpdateScales(){let n=this.options,i=n.scales,r=this.scales,s=Object.keys(r).reduce((a,c)=>(a[c]=!1,a),{}),o=[];i&&(o=o.concat(Object.keys(i).map(a=>{let c=i[a],l=iC(a,c),d=l==="r",h=l==="x";return{options:c,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),je(o,a=>{let c=a.options,l=c.id,d=iC(l,c),h=de(c.type,a.dtype);(c.position===void 0||U1(c.position,d)!==U1(a.dposition))&&(c.position=a.dposition),s[l]=!0;let f=null;if(l in r&&r[l].type===h)f=r[l];else{let g=Bi.getScale(h);f=new g({id:l,type:h,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(c,n)}),je(s,(a,c)=>{a||delete r[c]}),je(r,a=>{nn.configure(this,a,a.options),nn.addBox(this,a)})}_updateMetasets(){let n=this._metasets,i=this.data.datasets.length,r=n.length;if(n.sort((s,o)=>s.index-o.index),r>i){for(let s=i;s<r;++s)this._destroyDatasetMeta(s);n.splice(i,r-i)}this._sortedMetasets=n.slice(0).sort(B1("order","index"))}_removeUnreferencedMetasets(){let{_metasets:n,data:{datasets:i}}=this;n.length>i.length&&delete this._stacks,n.forEach((r,s)=>{i.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let n=[],i=this.data.datasets,r,s;for(this._removeUnreferencedMetasets(),r=0,s=i.length;r<s;r++){let o=i[r],a=this.getDatasetMeta(r),c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=c,a.indexAxis=o.indexAxis||nC(c,this.options),a.order=o.order||0,a.index=r,a.label=""+o.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let l=Bi.getController(c),{datasetElementType:d,dataElementType:h}=dt.datasets[c];Object.assign(l,{dataElementType:Bi.getElement(h),datasetElementType:d&&Bi.getElement(d)}),a.controller=new l(this,r),n.push(a.controller)}}return this._updateMetasets(),n}_resetElements(){je(this.data.datasets,(n,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){let i=this.config;i.update();let r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,h=this.data.datasets.length;d<h;d++){let{controller:f}=this.getDatasetMeta(d),g=!s&&o.indexOf(f)===-1;f.buildOrUpdateElements(g),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||je(o,d=>{d.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(B1("z","_idx"));let{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){je(this.scales,n=>{nn.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let n=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(n.events);(!pE(i,r)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:n}=this,i=this._getUniformDataChanges()||[];for(let{method:r,start:s,count:o}of i){let a=r==="_removeElements"?-o:o;cY(n,s,a)}}_getUniformDataChanges(){let n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];let i=this.data.datasets.length,r=o=>new Set(n.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),s=r(0);for(let o=1;o<i;o++)if(!pE(s,r(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(n){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;nn.update(this,this.width,this.height,n);let i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],je(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})!==!1){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,Tr(n)?n({datasetIndex:i}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,i){let r=this.getDatasetMeta(n),s={meta:r,index:n,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(i),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Mr.has(this)?this.attached&&!Mr.running(this)&&Mr.start(this):(this.draw(),$1({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){let{width:r,height:s}=this._resizeBeforeDraw;this._resize(r,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(n=0;n<i.length&&i[n].z<=0;++n)i[n].draw(this.chartArea);for(this._drawDatasets();n<i.length;++n)i[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){let i=this._sortedMetasets,r=[],s,o;for(s=0,o=i.length;s<o;++s){let a=i[s];(!n||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let n=this.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i)this._drawDataset(n[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){let i=this.ctx,r=n._clip,s=!r.disabled,o=uY(n,this.chartArea),a={meta:n,index:n.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(s&&ud(i,{left:r.left===!1?0:o.left-r.left,right:r.right===!1?this.width:o.right+r.right,top:r.top===!1?0:o.top-r.top,bottom:r.bottom===!1?this.height:o.bottom+r.bottom}),n.controller.draw(),s&&dd(i),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(n){return Li(n,this.chartArea,this._minPadding)}getElementsAtEventForMode(n,i,r,s){let o=d7.modes[i];return typeof o=="function"?o(this,n,r,s):[]}getDatasetMeta(n){let i=this.data.datasets[n],r=this._metasets,s=r.filter(o=>o&&o._dataset===i).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:n,_dataset:i,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Ar(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){let i=this.data.datasets[n];if(!i)return!1;let r=this.getDatasetMeta(n);return typeof r.hidden=="boolean"?!r.hidden:!i.hidden}setDatasetVisibility(n,i){let r=this.getDatasetMeta(n);r.hidden=!i}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,i,r){let s=r?"show":"hide",o=this.getDatasetMeta(n),a=o.controller._resolveAnimations(void 0,s);Sc(i)?(o.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(n,r),a.update(o,{visible:r}),this.update(c=>c.datasetIndex===n?s:void 0))}hide(n,i){this._updateVisibility(n,i,!1)}show(n,i){this._updateVisibility(n,i,!0)}_destroyDatasetMeta(n){let i=this._metasets[n];i&&i.controller&&i.controller._destroy(),delete this._metasets[n]}_stop(){let n,i;for(this.stop(),Mr.remove(this),n=0,i=this.data.datasets.length;n<i;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:n,ctx:i}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),xE(n,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete Xg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let n=this._listeners,i=this.platform,r=(o,a)=>{i.addEventListener(this,o,a),n[o]=a},s=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};je(this.options.events,o=>r(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let n=this._responsiveListeners,i=this.platform,r=(l,d)=>{i.addEventListener(this,l,d),n[l]=d},s=(l,d)=>{n[l]&&(i.removeEventListener(this,l,d),delete n[l])},o=(l,d)=>{this.canvas&&this.resize(l,d)},a,c=()=>{s("attach",c),this.attached=!0,this.resize(),r("resize",o),r("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),r("attach",c)},i.isAttached(this.canvas)?c():a()}unbindEvents(){je(this._listeners,(n,i)=>{this.platform.removeEventListener(this,i,n)}),this._listeners={},je(this._responsiveListeners,(n,i)=>{this.platform.removeEventListener(this,i,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,i,r){let s=r?"set":"remove",o,a,c,l;for(i==="dataset"&&(o=this.getDatasetMeta(n[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),c=0,l=n.length;c<l;++c){a=n[c];let d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){let i=this._active||[],r=n.map(({datasetIndex:o,index:a})=>{let c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!cd(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(n,i,r){return this._plugins.notify(this,n,i,r)}isPluginEnabled(n){return this._plugins._cache.filter(i=>i.plugin.id===n).length===1}_updateHoverStyles(n,i,r){let s=this.options.hover,o=(l,d)=>l.filter(h=>!d.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),a=o(i,n),c=r?n:o(n,i);a.length&&this.updateHoverStyle(a,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(n,i){let r={event:n,replay:i,cancelable:!0,inChartArea:this.isPointInArea(n)},s=a=>(a.options.events||this.options.events).includes(n.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;let o=this._handleEvent(n,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(o||r.changed)&&this.render(),this}_handleEvent(n,i,r){let{_active:s=[],options:o}=this,a=i,c=this._getActiveElements(n,s,r,a),l=HO(n),d=lY(n,this._lastEvent,r,l);r&&(this._lastEvent=null,He(o.onHover,[n,c,this],this),l&&He(o.onClick,[n,c,this],this));let h=!cd(c,s);return(h||i)&&(this._active=c,this._updateHoverStyles(c,s,i)),this._lastEvent=d,h}_getActiveElements(n,i,r,s){if(n.type==="mouseout")return[];if(!r)return i;let o=this.options.hover;return this.getElementsAtEventForMode(n,o.mode,o,s)}}return t})();function H1(){return je(Fs.instances,t=>t._plugins.invalidate())}function dY(t,e,n){let{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:c}=e,l=r/a;t.beginPath(),t.arc(s,o,a,i-l,n+l),c>r?(l=r/c,t.arc(s,o,c,n+l,i-l,!0)):t.arc(s,o,r,n+mt,i-mt),t.closePath(),t.clip()}function hY(t){return Vg(t,["outerStart","outerEnd","innerStart","innerEnd"])}function fY(t,e,n,i){let r=hY(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),a=c=>{let l=(n-Math.min(s,c))*i/2;return Rt(c,0,Math.min(s,l))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Rt(r.innerStart,0,o),innerEnd:Rt(r.innerEnd,0,o)}}function Nc(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function tm(t,e,n,i,r,s){let{x:o,y:a,startAngle:c,pixelMargin:l,innerRadius:d}=e,h=Math.max(e.outerRadius+i+n-l,0),f=d>0?d+i+n+l:0,g=0,y=r-c;if(i){let xe=d>0?d-i:0,qe=h>0?h-i:0,Be=(xe+qe)/2,Vt=Be!==0?y*Be/(Be+i):y;g=(y-Vt)/2}let _=Math.max(.001,y*h-n/Qe)/h,v=(y-_)/2,C=c+v+g,S=r-v-g,{outerStart:k,outerEnd:P,innerStart:F,innerEnd:N}=fY(e,f,h,S-C),E=h-k,b=h-P,I=C+k/E,T=S-P/b,x=f+F,M=f+N,D=C+F/x,at=S-N/M;if(t.beginPath(),s){let xe=(I+T)/2;if(t.arc(o,a,h,I,xe),t.arc(o,a,h,xe,T),P>0){let vt=Nc(b,T,o,a);t.arc(vt.x,vt.y,P,T,S+mt)}let qe=Nc(M,S,o,a);if(t.lineTo(qe.x,qe.y),N>0){let vt=Nc(M,at,o,a);t.arc(vt.x,vt.y,N,S+mt,at+Math.PI)}let Be=(S-N/f+(C+F/f))/2;if(t.arc(o,a,f,S-N/f,Be,!0),t.arc(o,a,f,Be,C+F/f,!0),F>0){let vt=Nc(x,D,o,a);t.arc(vt.x,vt.y,F,D+Math.PI,C-mt)}let Vt=Nc(E,C,o,a);if(t.lineTo(Vt.x,Vt.y),k>0){let vt=Nc(E,I,o,a);t.arc(vt.x,vt.y,k,C-mt,I)}}else{t.moveTo(o,a);let xe=Math.cos(I)*h+o,qe=Math.sin(I)*h+a;t.lineTo(xe,qe);let Be=Math.cos(T)*h+o,Vt=Math.sin(T)*h+a;t.lineTo(Be,Vt)}t.closePath()}function pY(t,e,n,i,r){let{fullCircles:s,startAngle:o,circumference:a}=e,c=e.endAngle;if(s){tm(t,e,n,i,c,r);for(let l=0;l<s;++l)t.fill();isNaN(a)||(c=o+(a%Xe||Xe))}return tm(t,e,n,i,c,r),t.fill(),c}function gY(t,e,n,i,r){let{fullCircles:s,startAngle:o,circumference:a,options:c}=e,{borderWidth:l,borderJoinStyle:d,borderDash:h,borderDashOffset:f}=c,g=c.borderAlign==="inner";if(!l)return;t.setLineDash(h||[]),t.lineDashOffset=f,g?(t.lineWidth=l*2,t.lineJoin=d||"round"):(t.lineWidth=l,t.lineJoin=d||"bevel");let y=e.endAngle;if(s){tm(t,e,n,i,y,r);for(let _=0;_<s;++_)t.stroke();isNaN(a)||(y=o+(a%Xe||Xe))}g&&dY(t,e,y),s||(tm(t,e,n,i,y,r),t.stroke())}var sC=class extends di{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){let r=this.getProps(["x","y"],i),{angle:s,distance:o}=vE(r,{x:e,y:n}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,y=de(h,c-a)>=Xe||Mc(s,a,c),_=ji(o,l+f,d+f);return y&&_}getCenterPoint(e){let{x:n,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:l}=this.options,d=(r+s)/2,h=(o+a+l+c)/2;return{x:n+Math.cos(d)*h,y:i+Math.sin(d)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:n,circumference:i}=this,r=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Xe?Math.floor(i/Xe):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);let c=1-Math.sin(Math.min(Qe,i||0)),l=r*c;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,pY(e,this,l,s,o),gY(e,this,l,s,o),e.restore()}};function SF(t,e,n=e){t.lineCap=de(n.borderCapStyle,e.borderCapStyle),t.setLineDash(de(n.borderDash,e.borderDash)),t.lineDashOffset=de(n.borderDashOffset,e.borderDashOffset),t.lineJoin=de(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=de(n.borderWidth,e.borderWidth),t.strokeStyle=de(n.borderColor,e.borderColor)}function mY(t,e,n){t.lineTo(n.x,n.y)}function yY(t){return t.stepped?n1:t.tension||t.cubicInterpolationMode==="monotone"?i1:mY}function AF(t,e,n={}){let i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,c=Math.max(r,o),l=Math.min(s,a),d=r<o&&s<o||r>a&&s>a;return{count:i,start:c,loop:e.loop,ilen:l<c&&!d?i+l-c:l-c}}function vY(t,e,n,i){let{points:r,options:s}=e,{count:o,start:a,loop:c,ilen:l}=AF(r,n,i),d=yY(s),{move:h=!0,reverse:f}=i||{},g,y,_;for(g=0;g<=l;++g)y=r[(a+(f?l-g:g))%o],!y.skip&&(h?(t.moveTo(y.x,y.y),h=!1):d(t,_,y,f,s.stepped),_=y);return c&&(y=r[(a+(f?l:0))%o],d(t,_,y,f,s.stepped)),!!c}function _Y(t,e,n,i){let r=e.points,{count:s,start:o,ilen:a}=AF(r,n,i),{move:c=!0,reverse:l}=i||{},d=0,h=0,f,g,y,_,v,C,S=P=>(o+(l?a-P:P))%s,k=()=>{_!==v&&(t.lineTo(d,v),t.lineTo(d,_),t.lineTo(d,C))};for(c&&(g=r[S(0)],t.moveTo(g.x,g.y)),f=0;f<=a;++f){if(g=r[S(f)],g.skip)continue;let P=g.x,F=g.y,N=P|0;N===y?(F<_?_=F:F>v&&(v=F),d=(h*d+P)/++h):(k(),t.lineTo(P,F),y=N,h=0,_=v=F),C=F}k()}function oC(t){let e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?_Y:vY}function bY(t){return t.stepped?h1:t.tension||t.cubicInterpolationMode==="monotone"?f1:Ss}function wY(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),SF(t,e.options),t.stroke(r)}function IY(t,e,n,i){let{segments:r,options:s}=e,o=oC(e);for(let a of r)SF(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}var EY=typeof Path2D=="function";function CY(t,e,n,i){EY&&!e.options.segment?wY(t,e,n,i):IY(t,e,n,i)}var rm=(()=>{class t extends di{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"&&n!=="fill"};constructor(n){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,n&&Object.assign(this,n)}updateControlPoints(n,i){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let s=r.spanGaps?this._loop:this._fullLoop;l1(this._points,r,n,s,i),this._pointsUpdated=!0}}set points(n){this._points=n,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=g1(this,this.options.segment))}first(){let n=this.segments,i=this.points;return n.length&&i[n[0].start]}last(){let n=this.segments,i=this.points,r=n.length;return r&&i[n[r-1].end]}interpolate(n,i){let r=this.options,s=n[i],o=this.points,a=jE(this,{property:i,start:s,end:s});if(!a.length)return;let c=[],l=bY(r),d,h;for(d=0,h=a.length;d<h;++d){let{start:f,end:g}=a[d],y=o[f],_=o[g];if(y===_){c.push(y);continue}let v=Math.abs((s-y[i])/(_[i]-y[i])),C=l(y,_,v,r.stepped);C[i]=n[i],c.push(C)}return c.length===1?c[0]:c}pathSegment(n,i,r){return oC(this)(n,this,i,r)}path(n,i,r){let s=this.segments,o=oC(this),a=this._loop;i=i||0,r=r||this.points.length-i;for(let c of s)a&=o(n,this,c,{start:i,end:i+r-1});return!!a}draw(n,i,r,s){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(n.save(),CY(n,this,r,s),n.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t})();function q1(t,e,n,i){let r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}var DY=(()=>{class t extends di{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){let s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return q1(this,n,"x",i)}inYRange(n,i){return q1(this,n,"y",i)}getCenterPoint(n){let{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);let r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){let r=this.options;this.skip||r.radius<.1||!Li(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Lg(n,r,this.x,this.y))}getRange(){let n=this.options||{};return n.radius+n.hitRadius}}return t})();function MF(t,e){let{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e),a,c,l,d,h;return t.horizontal?(h=o/2,a=Math.min(n,r),c=Math.max(n,r),l=i-h,d=i+h):(h=s/2,a=n-h,c=n+h,l=Math.min(i,r),d=Math.max(i,r)),{left:a,top:l,right:c,bottom:d}}function Ns(t,e,n,i){return t?0:Rt(e,n,i)}function TY(t,e,n){let i=t.options.borderWidth,r=t.borderSkipped,s=AE(i);return{t:Ns(r.top,s.top,0,n),r:Ns(r.right,s.right,0,e),b:Ns(r.bottom,s.bottom,0,n),l:Ns(r.left,s.left,0,e)}}function xY(t,e,n){let{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=ks(r),o=Math.min(e,n),a=t.borderSkipped,c=i||Ie(r);return{topLeft:Ns(!c||a.top||a.left,s.topLeft,0,o),topRight:Ns(!c||a.top||a.right,s.topRight,0,o),bottomLeft:Ns(!c||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Ns(!c||a.bottom||a.right,s.bottomRight,0,o)}}function SY(t){let e=MF(t),n=e.right-e.left,i=e.bottom-e.top,r=TY(t,n/2,i/2),s=xY(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function WE(t,e,n,i){let r=e===null,s=n===null,a=t&&!(r&&s)&&MF(t,i);return a&&(r||ji(e,a.left,a.right))&&(s||ji(n,a.top,a.bottom))}function AY(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function MY(t,e){t.rect(e.x,e.y,e.w,e.h)}function GE(t,e,n={}){let i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}var aC=class extends di{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=SY(this),a=AY(o.radius)?kc:MY;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,GE(o,n,s)),e.clip(),a(e,GE(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,GE(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return WE(this,e,n,i)}inXRange(e,n){return WE(this,e,null,n)}inYRange(e,n){return WE(this,null,e,n)}getCenterPoint(e){let{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},RY=Object.freeze({__proto__:null,ArcElement:sC,BarElement:aC,LineElement:rm,PointElement:DY}),cC=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],W1=cC.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function RF(t){return cC[t%cC.length]}function kF(t){return W1[t%W1.length]}function kY(t,e){return t.borderColor=RF(e),t.backgroundColor=kF(e),++e}function PY(t,e){return t.backgroundColor=t.data.map(()=>RF(e++)),e}function NY(t,e){return t.backgroundColor=t.data.map(()=>kF(e++)),e}function OY(t){let e=0;return(n,i)=>{let r=t.getDatasetMeta(i).controller;r instanceof mC?e=PY(n,e):r instanceof _F?e=NY(n,e):r&&(e=kY(n,e))}}function G1(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function FY(t){return t&&(t.borderColor||t.backgroundColor)}var LY={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;let{data:{datasets:i},options:r}=t.config,{elements:s}=r;if(!n.forceOverride&&(G1(i)||FY(r)||s&&G1(s)))return;let o=OY(t);i.forEach(o)}};function VY(t,e,n,i,r){let s=r.samples||i;if(s>=n)return t.slice(e,e+n);let o=[],a=(n-2)/(s-2),c=0,l=e+n-1,d=e,h,f,g,y,_;for(o[c++]=t[d],h=0;h<s-2;h++){let v=0,C=0,S,k=Math.floor((h+1)*a)+1+e,P=Math.min(Math.floor((h+2)*a)+1,n)+e,F=P-k;for(S=k;S<P;S++)v+=t[S].x,C+=t[S].y;v/=F,C/=F;let N=Math.floor(h*a)+1+e,E=Math.min(Math.floor((h+1)*a)+1,n)+e,{x:b,y:I}=t[d];for(g=y=-1,S=N;S<E;S++)y=.5*Math.abs((b-v)*(t[S].y-I)-(b-t[S].x)*(C-I)),y>g&&(g=y,f=t[S],_=S);o[c++]=f,d=_}return o[c++]=t[l],o}function jY(t,e,n,i){let r=0,s=0,o,a,c,l,d,h,f,g,y,_,v=[],C=e+n-1,S=t[e].x,P=t[C].x-S;for(o=e;o<e+n;++o){a=t[o],c=(a.x-S)/P*i,l=a.y;let F=c|0;if(F===d)l<y?(y=l,h=o):l>_&&(_=l,f=o),r=(s*r+a.x)/++s;else{let N=o-1;if(!Re(h)&&!Re(f)){let E=Math.min(h,f),b=Math.max(h,f);E!==g&&E!==N&&v.push(ge(H({},t[E]),{x:r})),b!==g&&b!==N&&v.push(ge(H({},t[b]),{x:r}))}o>0&&N!==g&&v.push(t[N]),v.push(a),d=F,s=0,y=_=l,h=f=g=o}}return v}function PF(t){if(t._decimated){let e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function K1(t){t.data.datasets.forEach(e=>{PF(e)})}function UY(t,e){let n=e.length,i=0,r,{iScale:s}=t,{min:o,max:a,minDefined:c,maxDefined:l}=s.getUserBounds();return c&&(i=Rt(Fi(e,s.axis,o).lo,0,n-1)),l?r=Rt(Fi(e,s.axis,a).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var BY={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){K1(t);return}let i=t.width;t.data.datasets.forEach((r,s)=>{let{_data:o,indexAxis:a}=r,c=t.getDatasetMeta(s),l=o||r.data;if(Pc([a,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let d=t.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:h,count:f}=UY(c,l),g=n.threshold||4*i;if(f<=g){PF(r);return}Re(o)&&(r._data=l,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}}));let y;switch(n.algorithm){case"lttb":y=VY(l,h,f,i,n);break;case"min-max":y=jY(l,h,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=y})},destroy(t){K1(t)}};function $Y(t,e,n){let i=t.segments,r=t.points,s=e.points,o=[];for(let a of i){let{start:c,end:l}=a;l=yC(c,l,r);let d=lC(n,r[c],r[l],a.loop);if(!e.segments){o.push({source:a,target:d,start:r[c],end:r[l]});continue}let h=jE(e,d);for(let f of h){let g=lC(n,s[f.start],s[f.end],f.loop),y=VE(a,r,g);for(let _ of y)o.push({source:_,target:f,start:{[n]:Y1(d,g,"start",Math.max)},end:{[n]:Y1(d,g,"end",Math.min)}})}}return o}function lC(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=bn(r),s=bn(s)),{property:t,start:r,end:s}}function zY(t,e){let{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=yC(o,a,r);let c=r[o],l=r[a];i!==null?(s.push({x:c.x,y:i}),s.push({x:l.x,y:i})):n!==null&&(s.push({x:n,y:c.y}),s.push({x:n,y:l.y}))}),s}function yC(t,e,n){for(;e>t;e--){let i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Y1(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function NF(t,e){let n=[],i=!1;return Ye(t)?(i=!0,n=t):n=zY(t,e),n.length?new rm({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Q1(t){return t&&t.fill!==!1}function HY(t,e,n){let r=t[e].fill,s=[e],o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!ut(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function qY(t,e,n){let i=YY(t);if(Ie(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return ut(r)&&Math.floor(r)===r?WY(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function WY(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function GY(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Ie(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function KY(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:Ie(t)?i=t.value:i=e.getBaseValue(),i}function YY(t){let e=t.options,n=e.fill,i=de(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function QY(t){let{scale:e,index:n,line:i}=t,r=[],s=i.segments,o=i.points,a=XY(e,n);a.push(NF({x:null,y:e.bottom},i));for(let c=0;c<s.length;c++){let l=s[c];for(let d=l.start;d<=l.end;d++)ZY(r,o[d],a)}return new rm({points:r,options:{}})}function XY(t,e){let n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){let s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function ZY(t,e,n){let i=[];for(let r=0;r<n.length;r++){let s=n[r],{first:o,last:a,point:c}=JY(s,e,"x");if(!(!c||o&&a)){if(o)i.unshift(c);else if(t.push(c),!a)break}}t.push(...i)}function JY(t,e,n){let i=t.interpolate(e,n);if(!i)return{};let r=i[n],s=t.segments,o=t.points,a=!1,c=!1;for(let l=0;l<s.length;l++){let d=s[l],h=o[d.start][n],f=o[d.end][n];if(ji(r,h,f)){a=r===h,c=r===f;break}}return{first:a,last:c,point:i}}var nm=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){let{x:r,y:s,radius:o}=this;return n=n||{start:0,end:Xe},e.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(e){let{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}};function eQ(t){let{chart:e,fill:n,line:i}=t;if(ut(n))return tQ(e,n);if(n==="stack")return QY(t);if(n==="shape")return!0;let r=nQ(t);return r instanceof nm?r:NF(r,i)}function tQ(t,e){let n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function nQ(t){return(t.scale||{}).getPointPositionForValue?rQ(t):iQ(t)}function iQ(t){let{scale:e={},fill:n}=t,i=GY(n,e);if(ut(i)){let r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function rQ(t){let{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=KY(n,e,s),a=[];if(i.grid.circular){let c=e.getPointPositionForValue(0,s);return new nm({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<r;++c)a.push(e.getPointPositionForValue(c,o));return a}function KE(t,e,n){let i=eQ(e),{line:r,scale:s,axis:o}=e,a=r.options,c=a.fill,l=a.backgroundColor,{above:d=l,below:h=l}=c||{};i&&r.points.length&&(ud(t,n),sQ(t,{line:r,target:i,above:d,below:h,area:n,scale:s,axis:o}),dd(t))}function sQ(t,e){let{line:n,target:i,above:r,below:s,area:o,scale:a}=e,c=n._loop?"angle":e.axis;t.save(),c==="x"&&s!==r&&(X1(t,i,o.top),Z1(t,{line:n,target:i,color:r,scale:a,property:c}),t.restore(),t.save(),X1(t,i,o.bottom)),Z1(t,{line:n,target:i,color:s,scale:a,property:c}),t.restore()}function X1(t,e,n){let{segments:i,points:r}=e,s=!0,o=!1;t.beginPath();for(let a of i){let{start:c,end:l}=a,d=r[c],h=r[yC(c,l,r)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Z1(t,e){let{line:n,target:i,property:r,color:s,scale:o}=e,a=$Y(n,i,r);for(let{source:c,target:l,start:d,end:h}of a){let{style:{backgroundColor:f=s}={}}=c,g=i!==!0;t.save(),t.fillStyle=f,oQ(t,o,g&&lC(r,d,h)),t.beginPath();let y=!!n.pathSegment(t,c),_;if(g){y?t.closePath():J1(t,i,h,r);let v=!!i.pathSegment(t,l,{move:y,reverse:!0});_=y&&v,_||J1(t,i,d,r)}t.closePath(),t.fill(_?"evenodd":"nonzero"),t.restore()}}function oQ(t,e,n){let{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(t.beginPath(),t.rect(o,i,a-o,r-i),t.clip())}function J1(t,e,n,i){let r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var aQ={id:"filler",afterDatasetsUpdate(t,e,n){let i=(t.data.datasets||[]).length,r=[],s,o,a,c;for(o=0;o<i;++o)s=t.getDatasetMeta(o),a=s.dataset,c=null,a&&a.options&&a instanceof rm&&(c={visible:t.isDatasetVisible(o),index:o,fill:qY(a,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=c,r.push(c);for(o=0;o<i;++o)c=r[o],!(!c||c.fill===!1)&&(c.fill=HY(r,o,n.propagate))},beforeDraw(t,e,n){let i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){let a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&KE(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;let i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){let s=i[r].$filler;Q1(s)&&KE(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){let i=e.meta.$filler;!Q1(i)||n.drawTime!=="beforeDatasetDraw"||KE(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},eF=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},cQ=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index,im=class extends di{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},n=He(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){let{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}let i=e.labels,r=Ct(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=eF(i,s),l,d;n.font=r.string,this.isHorizontal()?(l=this.maxWidth,d=this._fitRows(o,s,a,c)+10):(d=this.maxHeight,l=this._fitCols(o,r,a,c)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){let{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],d=r+a,h=e;s.textAlign="left",s.textBaseline="middle";let f=-1,g=-d;return this.legendItems.forEach((y,_)=>{let v=i+n/2+s.measureText(y.text).width;(_===0||l[l.length-1]+v+2*a>o)&&(h+=d,l[l.length-(_>0?0:1)]=0,g+=d,f++),c[_]={left:0,top:g,row:f,width:v,height:r},l[l.length-1]+=v+a}),h}_fitCols(e,n,i,r){let{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],d=o-e,h=a,f=0,g=0,y=0,_=0;return this.legendItems.forEach((v,C)=>{let{itemWidth:S,itemHeight:k}=lQ(i,n,s,v,r);C>0&&g+k+2*a>d&&(h+=f+a,l.push({width:f,height:g}),y+=f+a,_++,f=g=0),c[C]={left:y,top:g,col:_,width:S,height:k},f=Math.max(f,S),g+=k+a}),h+=f,l.push({width:f,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Bo(s,this.left,this.width);if(this.isHorizontal()){let a=0,c=Ht(i,this.left+r,this.right-this.lineWidths[a]);for(let l of n)a!==l.row&&(a=l.row,c=Ht(i,this.left+r,this.right-this.lineWidths[a])),l.top+=this.top+e+r,l.left=o.leftForLtr(o.x(c),l.width),c+=l.width+r}else{let a=0,c=Ht(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(let l of n)l.col!==a&&(a=l.col,c=Ht(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+r,l.left=o.leftForLtr(o.x(l.left),l.width),c+=l.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;ud(e,this),this._draw(),dd(e)}}_draw(){let{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=dt.color,c=Bo(e.rtl,this.left,this.width),l=Ct(o.font),{padding:d}=o,h=l.size,f=h/2,g;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;let{boxWidth:y,boxHeight:_,itemHeight:v}=eF(o,h),C=function(N,E,b){if(isNaN(y)||y<=0||isNaN(_)||_<0)return;r.save();let I=de(b.lineWidth,1);if(r.fillStyle=de(b.fillStyle,a),r.lineCap=de(b.lineCap,"butt"),r.lineDashOffset=de(b.lineDashOffset,0),r.lineJoin=de(b.lineJoin,"miter"),r.lineWidth=I,r.strokeStyle=de(b.strokeStyle,a),r.setLineDash(de(b.lineDash,[])),o.usePointStyle){let T={radius:_*Math.SQRT2/2,pointStyle:b.pointStyle,rotation:b.rotation,borderWidth:I},x=c.xPlus(N,y/2),M=E+f;SE(r,T,x,M,o.pointStyleWidth&&y)}else{let T=E+Math.max((h-_)/2,0),x=c.leftForLtr(N,y),M=ks(b.borderRadius);r.beginPath(),Object.values(M).some(D=>D!==0)?kc(r,{x,y:T,w:y,h:_,radius:M}):r.rect(x,T,y,_),r.fill(),I!==0&&r.stroke()}r.restore()},S=function(N,E,b){Rs(r,b.text,N,E+v/2,l,{strikethrough:b.hidden,textAlign:c.textAlign(b.textAlign)})},k=this.isHorizontal(),P=this._computeTitleHeight();k?g={x:Ht(s,this.left+d,this.right-i[0]),y:this.top+d+P,line:0}:g={x:this.left+d,y:Ht(s,this.top+P+d,this.bottom-n[0].height),line:0},FE(this.ctx,e.textDirection);let F=v+d;this.legendItems.forEach((N,E)=>{r.strokeStyle=N.fontColor,r.fillStyle=N.fontColor;let b=r.measureText(N.text).width,I=c.textAlign(N.textAlign||(N.textAlign=o.textAlign)),T=y+f+b,x=g.x,M=g.y;c.setWidth(this.width),k?E>0&&x+T+d>this.right&&(M=g.y+=F,g.line++,x=g.x=Ht(s,this.left+d,this.right-i[g.line])):E>0&&M+F>this.bottom&&(x=g.x=x+n[g.line].width+d,g.line++,M=g.y=Ht(s,this.top+P+d,this.bottom-n[g.line].height));let D=c.x(x);if(C(D,M,N),x=JO(I,x+y+f,k?x+T:this.right,e.rtl),S(c.x(x),M,N),k)g.x+=T+d;else if(typeof N.text!="string"){let at=l.lineHeight;g.y+=OF(N,at)+d}else g.y+=F}),LE(this.ctx,e.textDirection)}drawTitle(){let e=this.options,n=e.title,i=Ct(n.font),r=qt(n.padding);if(!n.display)return;let s=Bo(e.rtl,this.left,this.width),o=this.ctx,a=n.position,c=i.size/2,l=r.top+c,d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+l,h=Ht(e.align,h,this.right-f);else{let y=this.columnSizes.reduce((_,v)=>Math.max(_,v.height),0);d=l+Ht(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}let g=Ht(a,h,h+f);o.textAlign=s.textAlign(Og(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Rs(o,n.text,g,d,i)}_computeTitleHeight(){let e=this.options.title,n=Ct(e.font),i=qt(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(ji(e,this.left,this.right)&&ji(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],ji(e,r.left,r.left+r.width)&&ji(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){let n=this.options;if(!hQ(e.type,n))return;let i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let r=this._hoveredItem,s=cQ(r,i);r&&!s&&He(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&He(n.onHover,[e,i,this],this)}else i&&He(n.onClick,[e,i,this],this)}};function lQ(t,e,n,i,r){let s=uQ(i,t,e,n),o=dQ(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function uQ(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function dQ(t,e,n){let i=t;return typeof e.text!="string"&&(i=OF(e,n)),i}function OF(t,e){let n=t.text?t.text.length:0;return e*n}function hQ(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var fQ={id:"legend",_element:im,start(t,e,n){let i=t.legend=new im({ctx:t.ctx,options:n,chart:t});nn.configure(t,i,n),nn.addBox(t,i)},stop(t){nn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){let i=t.legend;nn.configure(t,i,n),i.options=n},afterUpdate(t){let e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){let i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{let l=c.controller.getStyle(n?0:void 0),d=qt(l.borderWidth);return{text:e[c.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},bd=class extends di{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;let r=Ye(i.text)?i.text.length:1;this._padding=qt(i.padding);let s=r*Ct(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align,c=0,l,d,h;return this.isHorizontal()?(d=Ht(a,i,s),h=n+e,l=s-i):(o.position==="left"?(d=i+e,h=Ht(a,r,n),c=Qe*-.5):(d=s-e,h=Ht(a,n,r),c=Qe*.5),l=r-n),{titleX:d,titleY:h,maxWidth:l,rotation:c}}draw(){let e=this.ctx,n=this.options;if(!n.display)return;let i=Ct(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(s);Rs(e,n.text,0,0,i,{color:n.color,maxWidth:c,rotation:l,textAlign:Og(n.align),textBaseline:"middle",translation:[o,a]})}};function pQ(t,e){let n=new bd({ctx:t.ctx,options:e,chart:t});nn.configure(t,n,e),nn.addBox(t,n),t.titleBlock=n}var gQ={id:"title",_element:bd,start(t,e,n){pQ(t,n)},stop(t){let e=t.titleBlock;nn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){let i=t.titleBlock;nn.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Gg=new WeakMap,mQ={id:"subtitle",start(t,e,n){let i=new bd({ctx:t.ctx,options:n,chart:t});nn.configure(t,i,n),nn.addBox(t,i),Gg.set(t,i)},stop(t){nn.removeBox(t,Gg.get(t)),Gg.delete(t)},beforeUpdate(t,e,n){let i=Gg.get(t);nn.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},vd={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){let a=t[e].element;if(a&&a.hasValue()){let c=a.tooltipPosition();i.add(c.x),r+=c.y,++s}}return{x:[...i].reduce((a,c)=>a+c)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){let c=t[s].element;if(c&&c.hasValue()){let l=c.getCenterPoint(),d=Mg(e,l);d<r&&(r=d,a=c)}}if(a){let c=a.tooltipPosition();n=c.x,i=c.y}return{x:n,y:i}}};function Ui(t,e){return e&&(Ye(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Rr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function yQ(t,e){let{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function tF(t,e){let n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,c=Ct(e.bodyFont),l=Ct(e.titleFont),d=Ct(e.footerFont),h=s.length,f=r.length,g=i.length,y=qt(e.padding),_=y.height,v=0,C=i.reduce((P,F)=>P+F.before.length+F.lines.length+F.after.length,0);if(C+=t.beforeBody.length+t.afterBody.length,h&&(_+=h*l.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),C){let P=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;_+=g*P+(C-g)*c.lineHeight+(C-1)*e.bodySpacing}f&&(_+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let S=0,k=function(P){v=Math.max(v,n.measureText(P).width+S)};return n.save(),n.font=l.string,je(t.title,k),n.font=c.string,je(t.beforeBody.concat(t.afterBody),k),S=e.displayColors?o+2+e.boxPadding:0,je(i,P=>{je(P.before,k),je(P.lines,k),je(P.after,k)}),S=0,n.font=d.string,je(t.footer,k),n.restore(),v+=y.width,{width:v,height:_}}function vQ(t,e){let{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function _Q(t,e,n,i){let{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function bQ(t,e,n,i){let{x:r,width:s}=n,{width:o,chartArea:{left:a,right:c}}=t,l="center";return i==="center"?l=r<=(a+c)/2?"left":"right":r<=s/2?l="left":r>=o-s/2&&(l="right"),_Q(l,t,e,n)&&(l="center"),l}function nF(t,e,n){let i=n.yAlign||e.yAlign||vQ(t,n);return{xAlign:n.xAlign||e.xAlign||bQ(t,e,n,i),yAlign:i}}function wQ(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function IQ(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function iF(t,e,n,i){let{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:c}=n,l=r+s,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:g}=ks(o),y=wQ(e,a),_=IQ(e,c,l);return c==="center"?a==="left"?y+=l:a==="right"&&(y-=l):a==="left"?y-=Math.max(d,f)+r:a==="right"&&(y+=Math.max(h,g)+r),{x:Rt(y,0,i.width-e.width),y:Rt(_,0,i.height-e.height)}}function Kg(t,e,n){let i=qt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function rF(t){return Ui([],Rr(t))}function EQ(t,e,n){return Ar(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function sF(t,e){let n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}var FF={beforeTitle:Vi,title(t){if(t.length>0){let e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Vi,beforeBody:Vi,beforeLabel:Vi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");let n=t.formattedValue;return Re(n)||(e+=n),e},labelColor(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Vi,afterBody:Vi,beforeFooter:Vi,footer:Vi,afterFooter:Vi};function In(t,e,n,i){let r=t[e].call(n,i);return typeof r>"u"?FF[e].call(n,i):r}var oF=(()=>{class t extends di{static positioners=vd;constructor(n){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=n.chart,this.options=n.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(n){this.options=n,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let n=this._cachedAnimations;if(n)return n;let i=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&i.options.animation&&r.animations,o=new Zg(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=EQ(this.chart.getContext(),this,this._tooltipItems))}getTitle(n,i){let{callbacks:r}=i,s=In(r,"beforeTitle",this,n),o=In(r,"title",this,n),a=In(r,"afterTitle",this,n),c=[];return c=Ui(c,Rr(s)),c=Ui(c,Rr(o)),c=Ui(c,Rr(a)),c}getBeforeBody(n,i){return rF(In(i.callbacks,"beforeBody",this,n))}getBody(n,i){let{callbacks:r}=i,s=[];return je(n,o=>{let a={before:[],lines:[],after:[]},c=sF(r,o);Ui(a.before,Rr(In(c,"beforeLabel",this,o))),Ui(a.lines,In(c,"label",this,o)),Ui(a.after,Rr(In(c,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(n,i){return rF(In(i.callbacks,"afterBody",this,n))}getFooter(n,i){let{callbacks:r}=i,s=In(r,"beforeFooter",this,n),o=In(r,"footer",this,n),a=In(r,"afterFooter",this,n),c=[];return c=Ui(c,Rr(s)),c=Ui(c,Rr(o)),c=Ui(c,Rr(a)),c}_createItems(n){let i=this._active,r=this.chart.data,s=[],o=[],a=[],c=[],l,d;for(l=0,d=i.length;l<d;++l)c.push(yQ(this.chart,i[l]));return n.filter&&(c=c.filter((h,f,g)=>n.filter(h,f,g,r))),n.itemSort&&(c=c.sort((h,f)=>n.itemSort(h,f,r))),je(c,h=>{let f=sF(n.callbacks,h);s.push(In(f,"labelColor",this,h)),o.push(In(f,"labelPointStyle",this,h)),a.push(In(f,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(n,i){let r=this.options.setContext(this.getContext()),s=this._active,o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{let c=vd[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let l=this._size=tF(this,r),d=Object.assign({},c,l),h=nF(this.chart,r,d),f=iF(r,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,o={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),n&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(n,i,r,s){let o=this.getCaretPosition(n,r,s);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(n,i,r){let{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:c}=r,{topLeft:l,topRight:d,bottomLeft:h,bottomRight:f}=ks(c),{x:g,y}=n,{width:_,height:v}=i,C,S,k,P,F,N;return o==="center"?(F=y+v/2,s==="left"?(C=g,S=C-a,P=F+a,N=F-a):(C=g+_,S=C+a,P=F-a,N=F+a),k=C):(s==="left"?S=g+Math.max(l,h)+a:s==="right"?S=g+_-Math.max(d,f)-a:S=this.caretX,o==="top"?(P=y,F=P-a,C=S-a,k=S+a):(P=y+v,F=P+a,C=S+a,k=S-a),N=P),{x1:C,x2:S,x3:k,y1:P,y2:F,y3:N}}drawTitle(n,i,r){let s=this.title,o=s.length,a,c,l;if(o){let d=Bo(r.rtl,this.x,this.width);for(n.x=Kg(this,r.titleAlign,r),i.textAlign=d.textAlign(r.titleAlign),i.textBaseline="middle",a=Ct(r.titleFont),c=r.titleSpacing,i.fillStyle=r.titleColor,i.font=a.string,l=0;l<o;++l)i.fillText(s[l],d.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+c,l+1===o&&(n.y+=r.titleMarginBottom-c)}}_drawColorBox(n,i,r,s,o){let a=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:l,boxWidth:d}=o,h=Ct(o.bodyFont),f=Kg(this,"left",o),g=s.x(f),y=l<h.lineHeight?(h.lineHeight-l)/2:0,_=i.y+y;if(o.usePointStyle){let v={radius:Math.min(d,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},C=s.leftForLtr(g,d)+d/2,S=_+l/2;n.strokeStyle=o.multiKeyBackground,n.fillStyle=o.multiKeyBackground,Lg(n,v,C,S),n.strokeStyle=a.borderColor,n.fillStyle=a.backgroundColor,Lg(n,v,C,S)}else{n.lineWidth=Ie(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,n.strokeStyle=a.borderColor,n.setLineDash(a.borderDash||[]),n.lineDashOffset=a.borderDashOffset||0;let v=s.leftForLtr(g,d),C=s.leftForLtr(s.xPlus(g,1),d-2),S=ks(a.borderRadius);Object.values(S).some(k=>k!==0)?(n.beginPath(),n.fillStyle=o.multiKeyBackground,kc(n,{x:v,y:_,w:d,h:l,radius:S}),n.fill(),n.stroke(),n.fillStyle=a.backgroundColor,n.beginPath(),kc(n,{x:C,y:_+1,w:d-2,h:l-2,radius:S}),n.fill()):(n.fillStyle=o.multiKeyBackground,n.fillRect(v,_,d,l),n.strokeRect(v,_,d,l),n.fillStyle=a.backgroundColor,n.fillRect(C,_+1,d-2,l-2))}n.fillStyle=this.labelTextColors[r]}drawBody(n,i,r){let{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:d,boxPadding:h}=r,f=Ct(r.bodyFont),g=f.lineHeight,y=0,_=Bo(r.rtl,this.x,this.width),v=function(I){i.fillText(I,_.x(n.x+y),n.y+g/2),n.y+=g+o},C=_.textAlign(a),S,k,P,F,N,E,b;for(i.textAlign=a,i.textBaseline="middle",i.font=f.string,n.x=Kg(this,C,r),i.fillStyle=r.bodyColor,je(this.beforeBody,v),y=c&&C!=="right"?a==="center"?d/2+h:d+2+h:0,F=0,E=s.length;F<E;++F){for(S=s[F],k=this.labelTextColors[F],i.fillStyle=k,je(S.before,v),P=S.lines,c&&P.length&&(this._drawColorBox(i,n,F,_,r),g=Math.max(f.lineHeight,l)),N=0,b=P.length;N<b;++N)v(P[N]),g=f.lineHeight;je(S.after,v)}y=0,g=f.lineHeight,je(this.afterBody,v),n.y-=o}drawFooter(n,i,r){let s=this.footer,o=s.length,a,c;if(o){let l=Bo(r.rtl,this.x,this.width);for(n.x=Kg(this,r.footerAlign,r),n.y+=r.footerMarginTop,i.textAlign=l.textAlign(r.footerAlign),i.textBaseline="middle",a=Ct(r.footerFont),i.fillStyle=r.footerColor,i.font=a.string,c=0;c<o;++c)i.fillText(s[c],l.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+r.footerSpacing}}drawBackground(n,i,r,s){let{xAlign:o,yAlign:a}=this,{x:c,y:l}=n,{width:d,height:h}=r,{topLeft:f,topRight:g,bottomLeft:y,bottomRight:_}=ks(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(c+f,l),a==="top"&&this.drawCaret(n,i,r,s),i.lineTo(c+d-g,l),i.quadraticCurveTo(c+d,l,c+d,l+g),a==="center"&&o==="right"&&this.drawCaret(n,i,r,s),i.lineTo(c+d,l+h-_),i.quadraticCurveTo(c+d,l+h,c+d-_,l+h),a==="bottom"&&this.drawCaret(n,i,r,s),i.lineTo(c+y,l+h),i.quadraticCurveTo(c,l+h,c,l+h-y),a==="center"&&o==="left"&&this.drawCaret(n,i,r,s),i.lineTo(c,l+f),i.quadraticCurveTo(c,l,c+f,l),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(n){let i=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){let a=vd[n.position].call(this,this._active,this._eventPosition);if(!a)return;let c=this._size=tF(this,n),l=Object.assign({},a,this._size),d=nF(i,n,l),h=iF(n,l,d,i);(s._to!==h.x||o._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(n){let i=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(i);let s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=qt(i.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&c&&(n.save(),n.globalAlpha=r,this.drawBackground(o,n,s,i),FE(n,i.textDirection),o.y+=a.top,this.drawTitle(o,n,i),this.drawBody(o,n,i),this.drawFooter(o,n,i),LE(n,i.textDirection),n.restore())}getActiveElements(){return this._active||[]}setActiveElements(n,i){let r=this._active,s=n.map(({datasetIndex:c,index:l})=>{let d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[l],index:l}}),o=!cd(r,s),a=this._positionChanged(s,i);(o||a)&&(this._active=s,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(n,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,o=this._active||[],a=this._getActiveElements(n,o,i,r),c=this._positionChanged(a,n),l=i||!cd(a,o)||c;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:n.x,y:n.y},this.update(!0,i))),l}_getActiveElements(n,i,r,s){let o=this.options;if(n.type==="mouseout")return[];if(!s)return i.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);let a=this.chart.getElementsAtEventForMode(n,o.mode,o,r);return o.reverse&&a.reverse(),a}_positionChanged(n,i){let{caretX:r,caretY:s,options:o}=this,a=vd[o.position].call(this,n,i);return a!==!1&&(r!==a.x||s!==a.y)}}return t})(),CQ={id:"tooltip",_element:oF,positioners:vd,afterInit(t,e,n){n&&(t.tooltip=new oF({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){let e=t.tooltip;if(e&&e._willRender()){let n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",ge(H({},n),{cancelable:!0}))===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){let n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:FF},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},DQ=Object.freeze({__proto__:null,Colors:LY,Decimation:BY,Filler:aQ,Legend:fQ,SubTitle:mQ,Title:gQ,Tooltip:CQ}),TQ=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function xQ(t,e,n,i){let r=t.indexOf(e);if(r===-1)return TQ(t,e,n,i);let s=t.lastIndexOf(e);return r!==s?n:r}var SQ=(t,e)=>t===null?null:Rt(Math.round(t),0,e);function aF(t){let e=this.getLabels();return t>=0&&t<e.length?e[t]:t}var AQ=(()=>{class t extends Ho{static id="category";static defaults={ticks:{callback:aF}};constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){let i=this._addedLabels;if(i.length){let r=this.getLabels();for(let{index:s,label:o}of i)r[s]===o&&r.splice(s,1);this._addedLabels=[]}super.init(n)}parse(n,i){if(Re(n))return null;let r=this.getLabels();return i=isFinite(i)&&r[i]===n?i:xQ(r,n,de(i,n),this._addedLabels),SQ(i,r.length-1)}determineDataLimits(){let{minDefined:n,maxDefined:i}=this.getUserBounds(),{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(n||(r=0),i||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){let n=this.min,i=this.max,r=this.options.offset,s=[],o=this.getLabels();o=n===0&&i===o.length-1?o:o.slice(n,i+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=n;a<=i;a++)s.push({value:a});return s}getLabelForValue(n){return aF.call(this,n)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return typeof n!="number"&&(n=this.parse(n)),n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){let i=this.ticks;return n<0||n>i.length-1?null:this.getPixelForValue(i[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}}return t})();function MQ(t,e){let n=[],{bounds:r,step:s,min:o,max:a,precision:c,count:l,maxTicks:d,maxDigits:h,includeBounds:f}=t,g=s||1,y=d-1,{min:_,max:v}=e,C=!Re(o),S=!Re(a),k=!Re(l),P=(v-_)/(h+1),F=gE((v-_)/y/g)*g,N,E,b,I;if(F<1e-14&&!C&&!S)return[{value:_},{value:v}];I=Math.ceil(v/F)-Math.floor(_/F),I>y&&(F=gE(I*F/y/g)*g),Re(c)||(N=Math.pow(10,c),F=Math.ceil(F*N)/N),r==="ticks"?(E=Math.floor(_/F)*F,b=Math.ceil(v/F)*F):(E=_,b=v),C&&S&&s&&WO((a-o)/s,F/1e3)?(I=Math.round(Math.min((a-o)/F,d)),F=(a-o)/I,E=o,b=a):k?(E=C?o:E,b=S?a:b,I=l-1,F=(b-E)/I):(I=(b-E)/F,Ac(I,Math.round(I),F/1e3)?I=Math.round(I):I=Math.ceil(I));let T=Math.max(yE(F),yE(E));N=Math.pow(10,Re(c)?T:c),E=Math.round(E*N)/N,b=Math.round(b*N)/N;let x=0;for(C&&(f&&E!==o?(n.push({value:o}),E<o&&x++,Ac(Math.round((E+x*F)*N)/N,o,cF(o,P,t))&&x++):E<o&&x++);x<I;++x){let M=Math.round((E+x*F)*N)/N;if(S&&M>a)break;n.push({value:M})}return S&&f&&b!==a?n.length&&Ac(n[n.length-1].value,a,cF(a,P,t))?n[n.length-1].value=a:n.push({value:a}):(!S||b===a)&&n.push({value:b}),n}function cF(t,e,{horizontal:n,minRotation:i}){let r=Yn(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}var Fc=class extends Ho{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Re(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds(),{min:r,max:s}=this,o=c=>r=n?r:c,a=c=>s=i?s:c;if(e){let c=ui(r),l=ui(s);c<0&&l<0?a(0):c>0&&l>0&&o(0)}if(r===s){let c=s===0?1:Math.abs(s*.05);a(s+c),e||o(r-c)}this.min=r,this.max=s}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,n=e.ticks,i=this.getTickLimit();i=Math.max(2,i);let r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=MQ(r,s);return e.bounds==="ticks"&&mE(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let e=this.ticks,n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){let r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Rc(e,this.chart.options.locale,this.options.ticks.format)}},uC=class extends Fc{static id="linear";static defaults={ticks:{callback:ld.formatters.numeric}};determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=ut(e)?e:0,this.max=ut(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),n=e?this.width:this.height,i=Yn(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},wd=t=>Math.floor(xr(t)),zo=(t,e)=>Math.pow(10,wd(t)+e);function lF(t){return t/Math.pow(10,wd(t))===1}function uF(t,e,n){let i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function RQ(t,e){let n=e-t,i=wd(n);for(;uF(t,e,i)>10;)i++;for(;uF(t,e,i)<10;)i--;return Math.min(i,wd(t))}function kQ(t,{min:e,max:n}){e=wn(t.min,e);let i=[],r=wd(e),s=RQ(e,n),o=s<0?Math.pow(10,Math.abs(s)):1,a=Math.pow(10,s),c=r>s?Math.pow(10,r):0,l=Math.round((e-c)*o)/o,d=Math.floor((e-c)/a/10)*a*10,h=Math.floor((l-d)/Math.pow(10,s)),f=wn(t.min,Math.round((c+d+h*Math.pow(10,s))*o)/o);for(;f<n;)i.push({value:f,major:lF(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),f=Math.round((c+d+h*Math.pow(10,s))*o)/o;let g=wn(t.max,f);return i.push({value:g,major:lF(g),significand:h}),i}var dC=class extends Ho{static id="logarithmic";static defaults={ticks:{callback:ld.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){let i=Fc.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return ut(i)&&i>0?i:null}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=ut(e)?Math.max(0,e):null,this.max=ut(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ut(this._userMin)&&(this.min=e===zo(this.min,0)?zo(this.min,-1):zo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:n}=this.getUserBounds(),i=this.min,r=this.max,s=a=>i=e?i:a,o=a=>r=n?r:a;i===r&&(i<=0?(s(1),o(10)):(s(zo(i,-1)),o(zo(r,1)))),i<=0&&s(zo(r,-1)),r<=0&&o(zo(i,1)),this.min=i,this.max=r}buildTicks(){let e=this.options,n={min:this._userMin,max:this._userMax},i=kQ(n,this);return e.bounds==="ticks"&&mE(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Rc(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=xr(e),this._valueRange=xr(this.max)-xr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(xr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}};function hC(t){let e=t.ticks;if(e.display&&t.display){let n=qt(e.backdropPadding);return de(e.font&&e.font.size,dt.font.size)+n.height}return 0}function PQ(t,e,n){return n=Ye(n)?n:[n],{w:t1(t,e.string,n),h:n.length*e.lineHeight}}function dF(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function NQ(t){let e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Qe/s:0;for(let c=0;c<s;c++){let l=o.setContext(t.getPointLabelContext(c));r[c]=l.padding;let d=t.getPointPosition(c,t.drawingArea+r[c],a),h=Ct(l.font),f=PQ(t.ctx,h,t._pointLabels[c]);i[c]=f;let g=bn(t.getIndexAngle(c)+a),y=Math.round(Pg(g)),_=dF(y,d.x,f.w,0,180),v=dF(y,d.y,f.h,90,270);OQ(n,e,g,_,v)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=VQ(t,i,r)}function OQ(t,e,n,i,r){let s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n)),a=0,c=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(c=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-c)):r.end>e.b&&(c=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+c))}function FQ(t,e,n){let i=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,c=t.getPointPosition(e,i+r+o,s),l=Math.round(Pg(bn(c.angle+mt))),d=BQ(c.y,a.h,l),h=jQ(l),f=UQ(c.x,a.w,h);return{visible:!0,x:c.x,y:d,textAlign:h,left:f,top:d,right:f+a.w,bottom:d+a.h}}function LQ(t,e){if(!e)return!0;let{left:n,top:i,right:r,bottom:s}=t;return!(Li({x:n,y:i},e)||Li({x:n,y:s},e)||Li({x:r,y:i},e)||Li({x:r,y:s},e))}function VQ(t,e,n){let i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,c={extra:hC(s)/2,additionalAngle:o?Qe/r:0},l;for(let d=0;d<r;d++){c.padding=n[d],c.size=e[d];let h=FQ(t,d,c);i.push(h),a==="auto"&&(h.visible=LQ(h,l),h.visible&&(l=h))}return i}function jQ(t){return t===0||t===180?"center":t<180?"left":"right"}function UQ(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function BQ(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function $Q(t,e,n){let{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=e;if(!Re(a)){let c=ks(e.borderRadius),l=qt(e.backdropPadding);t.fillStyle=a;let d=i-l.left,h=r-l.top,f=s-i+l.width,g=o-r+l.height;Object.values(c).some(y=>y!==0)?(t.beginPath(),kc(t,{x:d,y:h,w:f,h:g,radius:c}),t.fill()):t.fillRect(d,h,f,g)}}function zQ(t,e){let{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){let s=t._pointLabelItems[r];if(!s.visible)continue;let o=i.setContext(t.getPointLabelContext(r));$Q(n,o,s);let a=Ct(o.font),{x:c,y:l,textAlign:d}=s;Rs(n,t._pointLabels[r],c,l+a.lineHeight/2,a,{color:o.color,textAlign:d,textBaseline:"middle"})}}function LF(t,e,n,i){let{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,Xe);else{let s=t.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=t.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function HQ(t,e,n,i,r){let s=t.ctx,o=e.circular,{color:a,lineWidth:c}=e;!o&&!i||!a||!c||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=c,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),LF(t,n,o,i),s.closePath(),s.stroke(),s.restore())}function qQ(t,e,n){return Ar(t,{label:n,index:e,type:"pointLabel"})}var fC=class extends Fc{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ld.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=qt(hC(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!1);this.min=ut(e)&&!isNaN(e)?e:0,this.max=ut(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/hC(this.options))}generateTickLabels(e){Fc.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{let r=He(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){let e=this.options;e.display&&e.pointLabels.display?NQ(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){let n=Xe/(this._pointLabels.length||1),i=this.options.startAngle||0;return bn(e*n+Yn(i))}getDistanceFromCenterForValue(e){if(Re(e))return NaN;let n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Re(e))return NaN;let n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){let n=this._pointLabels||[];if(e>=0&&e<n.length){let i=n[e];return qQ(this.getContext(),e,i)}}getPointPosition(e,n,i=0){let r=this.getIndexAngle(e)-mt+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:s}}drawBackground(){let{backgroundColor:e,grid:{circular:n}}=this.options;if(e){let i=this.ctx;i.save(),i.beginPath(),LF(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){let e=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length,a,c,l;if(n.pointLabels.display&&zQ(this,o),r.display&&this.ticks.forEach((d,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);let f=this.getContext(h),g=r.setContext(f),y=s.setContext(f);HQ(this,g,c,o,y)}}),i.display){for(e.save(),a=o-1;a>=0;a--){let d=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=d;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),l=this.getPointPosition(a,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;let r=this.getIndexAngle(0),s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!n.reverse)return;let l=i.setContext(this.getContext(c)),d=Ct(l.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){e.font=d.string,o=e.measureText(a.label).width,e.fillStyle=l.backdropColor;let h=qt(l.backdropPadding);e.fillRect(-o/2-h.left,-s-d.size/2-h.top,o+h.width,d.size+h.height)}Rs(e,a.label,0,-s,d,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),e.restore()}drawTitle(){}},sm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},En=Object.keys(sm);function hF(t,e){return t-e}function fF(t,e){if(Re(e))return null;let n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts,o=e;return typeof i=="function"&&(o=i(o)),ut(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Uo(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function pF(t,e,n,i){let r=En.length;for(let s=En.indexOf(t);s<r-1;++s){let o=sm[En[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return En[s]}return En[r-1]}function WQ(t,e,n,i,r){for(let s=En.length-1;s>=En.indexOf(n);s--){let o=En[s];if(sm[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return En[n?En.indexOf(n):0]}function GQ(t){for(let e=En.indexOf(t)+1,n=En.length;e<n;++e)if(sm[En[e]].common)return En[e]}function gF(t,e,n){if(!n)t[e]=!0;else if(n.length){let{lo:i,hi:r}=Ng(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function KQ(t,e,n,i){let r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value,a,c;for(a=s;a<=o;a=+r.add(a,1,i))c=n[a],c>=0&&(e[c].major=!0);return e}function mF(t,e,n){let i=[],r={},s=e.length,o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:KQ(t,i,r,n)}var pC=(()=>{class t extends Ho{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(n){super(n),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(n,i={}){let r=n.time||(n.time={}),s=this._adapter=new o7._date(n.adapters.date);s.init(i),xc(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(n),this._normalized=i.normalized}parse(n,i){return n===void 0?null:fF(this,n)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let n=this.options,i=this._adapter,r=n.time.unit||"day",{min:s,max:o,minDefined:a,maxDefined:c}=this.getUserBounds();function l(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!a||!c)&&(l(this._getLabelBounds()),(n.bounds!=="ticks"||n.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=ut(s)&&!isNaN(s)?s:+i.startOf(Date.now(),r),o=ut(o)&&!isNaN(o)?o:+i.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){let n=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return n.length&&(i=n[0],r=n[n.length-1]),{min:i,max:r}}buildTicks(){let n=this.options,i=n.time,r=n.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();n.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let o=this.min,a=this.max,c=YO(s,o,a);return this._unit=i.unit||(r.autoSkip?pF(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):WQ(this,c.length,i.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:GQ(this._unit),this.initOffsets(s),n.reverse&&c.reverse(),mF(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(n=>+n.value))}initOffsets(n=[]){let i=0,r=0,s,o;this.options.offset&&n.length&&(s=this.getDecimalForValue(n[0]),n.length===1?i=1-s:i=(this.getDecimalForValue(n[1])-s)/2,o=this.getDecimalForValue(n[n.length-1]),n.length===1?r=o:r=(o-this.getDecimalForValue(n[n.length-2]))/2);let a=n.length<3?.5:.25;i=Rt(i,0,a),r=Rt(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){let n=this._adapter,i=this.min,r=this.max,s=this.options,o=s.time,a=o.unit||pF(o.minUnit,i,r,this._getLabelCapacity(i)),c=de(s.ticks.stepSize,1),l=a==="week"?o.isoWeekday:!1,d=Uo(l)||l===!0,h={},f=i,g,y;if(d&&(f=+n.startOf(f,"isoWeek",l)),f=+n.startOf(f,d?"day":a),n.diff(r,i,a)>1e5*c)throw new Error(i+" and "+r+" are too far apart with stepSize of "+c+" "+a);let _=s.ticks.source==="data"&&this.getDataTimestamps();for(g=f,y=0;g<r;g=+n.add(g,c,a),y++)gF(h,g,_);return(g===r||s.bounds==="ticks"||y===1)&&gF(h,g,_),Object.keys(h).sort(hF).map(v=>+v)}getLabelForValue(n){let i=this._adapter,r=this.options.time;return r.tooltipFormat?i.format(n,r.tooltipFormat):i.format(n,r.displayFormats.datetime)}format(n,i){let s=this.options.time.displayFormats,o=this._unit,a=i||s[o];return this._adapter.format(n,a)}_tickFormatFunction(n,i,r,s){let o=this.options,a=o.ticks.callback;if(a)return He(a,[n,i,r],this);let c=o.time.displayFormats,l=this._unit,d=this._majorUnit,h=l&&c[l],f=d&&c[d],g=r[i],y=d&&f&&g&&g.major;return this._adapter.format(n,s||(y?f:h))}generateTickLabels(n){let i,r,s;for(i=0,r=n.length;i<r;++i)s=n[i],s.label=this._tickFormatFunction(s.value,i,n)}getDecimalForValue(n){return n===null?NaN:(n-this.min)/(this.max-this.min)}getPixelForValue(n){let i=this._offsets,r=this.getDecimalForValue(n);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(n){let i=this._offsets,r=this.getDecimalForPixel(n)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(n){let i=this.options.ticks,r=this.ctx.measureText(n).width,s=Yn(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(s),a=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:r*o+c*a,h:r*a+c*o}}_getLabelCapacity(n){let i=this.options.time,r=i.displayFormats,s=r[i.unit]||r.millisecond,o=this._tickFormatFunction(n,0,mF(this,[n],this._majorUnit),s),a=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let n=this._cache.data||[],i,r;if(n.length)return n;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,r=s.length;i<r;++i)n=n.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){let n=this._cache.labels||[],i,r;if(n.length)return n;let s=this.getLabels();for(i=0,r=s.length;i<r;++i)n.push(fF(this,s[i]));return this._cache.labels=this._normalized?n:this.normalize(n)}normalize(n){return bE(n.sort(hF))}}return t})();function Yg(t,e,n){let i=0,r=t.length-1,s,o,a,c;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=Fi(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:c}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=Fi(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:c}=t[r]);let l=o-s;return l?a+(c-a)*(e-s)/l:a}var gC=class extends pC{static id="timeseries";static defaults=pC.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Yg(n,this.min),this._tableRange=Yg(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:n,max:i}=this,r=[],s=[],o,a,c,l,d;for(o=0,a=e.length;o<a;++o)l=e[o],l>=n&&l<=i&&r.push(l);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)d=r[o+1],c=r[o-1],l=r[o],Math.round((d+c)/2)!==l&&s.push({time:l,pos:o/(a-1)});return s}_generate(){let e=this.min,n=this.max,i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Yg(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Yg(this._table,i*this._tableRange+this._minPos,!0)}},YQ=Object.freeze({__proto__:null,CategoryScale:AQ,LinearScale:uC,LogarithmicScale:dC,RadialLinearScale:fC,TimeScale:pC,TimeSeriesScale:gC}),VF=[s7,RY,DQ,YQ];Fs.register(...VF);var Cn=(()=>{let e=class e{constructor(i){this.http=i,this.coinDataHeader=new Pt({"X-RapidAPI-Key":"76e3478958msh3514934cebda9d6p14d4ccjsna7d2e232769f","X-RapidAPI-Host":"coinranking1.p.rapidapi.com"}),this.coinDataParams={referenceCurrencyUuid:"yhjMzLPhuIDl",timePeriod:"24h"},this.historyDataHeaders=new Pt({"X-RapidAPI-Key":"76e3478958msh3514934cebda9d6p14d4ccjsna7d2e232769f","X-RapidAPI-Host":"coinranking1.p.rapidapi.com"}),this.historyDataParams={referenceCurrencyUuid:"yhjMzLPhuIDl",timePeriod:"1y"},this.ohlcdataParams={referenceCurrencyUuid:"yhjMzLPhuIDl",interval:"day"}}getCoinData(i){return this.http.get(`https://coinranking1.p.rapidapi.com/coin/${i}`,{headers:this.coinDataHeader,params:this.coinDataParams})}getDateTime(i){let r=new Date(i*1e3),s=r.getFullYear(),o=String(r.getMonth()+1).padStart(2,"0"),a=String(r.getDate()).padStart(2,"0"),c=String(r.getHours()).padStart(2,"0"),l=String(r.getMinutes()).padStart(2,"0"),d=String(r.getSeconds()).padStart(2,"0");return`${a}-${o}-${s} ${c}:${l}:${d}`}getDate(i){let r=new Date(i*1e3),s=r.getFullYear(),o=String(r.getMonth()+1).padStart(2,"0");return`${String(r.getDate()).padStart(2,"0")}-${o}-${s-2e3}`}getValues(i){return i>=1e9?(i/1e9).toFixed(2)+" Billion USD":i>=1e6?(i/1e6).toFixed(2)+" Million USD":i.toString()}getPriceChart(i){return this.http.get(`https://coinranking1.p.rapidapi.com/coin/${i}/history`,{headers:this.historyDataHeaders,params:this.historyDataParams})}getOhlcChart(i){return this.http.get(`https://coinranking1.p.rapidapi.com/coin/${i}/ohlc`,{headers:this.historyDataHeaders,params:this.ohlcdataParams})}};e.\u0275fac=function(r){return new(r||e)($(St))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})();var jF=(()=>{let e=class e{constructor(i,r){this.activeroute=i,this.coinDataService=r,this.id="",this.historyData={dates:[],values:[]},this.colour=""}ngOnInit(){this.activeroute.params.subscribe(i=>{this.id=i.id}),this.getPriceChartData()}getPriceChartData(){this.coinDataService.getPriceChart(this.id).subscribe({next:i=>{for(let r=0;r<i.data.history.length;r++)this.historyData.values.push(i.data.history[r].price),this.historyData.dates.push(this.coinDataService.getDate(i.data.history[r].timestamp))},error:i=>{console.log(i)},complete:()=>{this.createPriceChart()}})}createPriceChart(){this.chart=new Fs("MyChart",{type:"line",data:{labels:this.historyData.dates.reverse(),datasets:[{label:"Coin Prices",borderColor:this.colour,data:this.historyData.values.reverse(),backgroundColor:this.colour}]},options:{aspectRatio:2.5,elements:{point:{radius:0}},scales:{x:{ticks:{maxTicksLimit:7,color:"#9eb3c2",align:"start",padding:10},grid:{color:"#343a40"}},y:{ticks:{color:"#9eb3c2"},grid:{color:"#343a40"}}}}})}};e.\u0275fac=function(r){return new(r||e)(B(Ue),B(Cn))},e.\u0275cmp=_e({type:e,selectors:[["app-chart"]],inputs:{colour:"colour"},standalone:!0,features:[be],decls:3,vars:1,consts:[[1,"chart-container"],["id","MyChart"]],template:function(r,s){r&1&&(O(0,"div",0)(1,"canvas",1),U(2),V()()),r&2&&(W(2),Te(s.chart))}});let t=e;return t})();var UF=(()=>{let e=class e{constructor(i,r){this.activeroute=i,this.coinDataService=r,this.id="",this.OHLCdata={open:[],close:[],high:[],low:[],dates:[]}}ngOnInit(){this.activeroute.params.subscribe(i=>{this.id=i.id}),this.getOHLCPriceData()}getOHLCPriceData(){this.coinDataService.getOhlcChart(this.id).subscribe({next:i=>{for(let r=0;r<i.data.ohlc.length;r++)this.OHLCdata.open.push(Number(parseFloat(i.data.ohlc[r].open).toFixed(2))),this.OHLCdata.close.push(Number(parseFloat(i.data.ohlc[r].close).toFixed(2))),this.OHLCdata.low.push(Number(parseFloat(i.data.ohlc[r].low).toFixed(2))),this.OHLCdata.high.push(Number(parseFloat(i.data.ohlc[r].high).toFixed(2))),this.OHLCdata.dates.push(this.coinDataService.getDate(i.data.ohlc[r].startingAt));console.log("done")},error:i=>{console.log(i)},complete:()=>{this.createOHLCchart(),console.log("done2")}})}createOHLCchart(){this.chart=new Fs("ui",{type:"line",data:{labels:this.OHLCdata.dates,datasets:[{label:"open",data:this.OHLCdata.open,backgroundColor:"blue",borderColor:"black"},{label:"close",data:this.OHLCdata.close,backgroundColor:"yellow",borderColor:"black"},{label:"low",data:this.OHLCdata.low,backgroundColor:"red",borderColor:"black"},{label:"high",data:this.OHLCdata.high,backgroundColor:"green",borderColor:"black"}]},options:{aspectRatio:2.5,elements:{point:{radius:3}},scales:{x:{ticks:{maxTicksLimit:7,color:"#ADB5BD",align:"start",padding:10},grid:{color:"#343a40"}},y:{ticks:{color:"#ADB5BD"},grid:{color:"#343a40"}}}}})}};e.\u0275fac=function(r){return new(r||e)(B(Ue),B(Cn))},e.\u0275cmp=_e({type:e,selectors:[["app-chart2"]],standalone:!0,features:[be],decls:3,vars:1,consts:[[1,"chart-container"],["id","ui"]],template:function(r,s){r&1&&(O(0,"div",0)(1,"canvas",1),U(2),V()()),r&2&&(W(2),Te(s.chart))}});let t=e;return t})();var Vc=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=_e({type:e,selectors:[["app-loading"]],standalone:!0,features:[be],decls:4,vars:0,consts:[[1,"loading-container"],[1,"loading"],["id","loading-text"]],template:function(r,s){r&1&&(O(0,"div",0),J(1,"div",1),O(2,"div",2),U(3,"loading"),V()())},styles:['#link[_ngcontent-%COMP%]{color:#e45635;display:block;font:12px Helvetica Neue,Helvetica,Arial,sans-serif;text-align:center;text-decoration:none}#link[_ngcontent-%COMP%]:hover{color:#ccc}#link[_ngcontent-%COMP%], #link[_ngcontent-%COMP%]:hover{-webkit-transition:color .5s ease-out;-moz-transition:color .5s ease-out;-ms-transition:color .5s ease-out;-o-transition:color .5s ease-out;transition:color .5s ease-out}body[_ngcontent-%COMP%]{background:#333}@keyframes _ngcontent-%COMP%_rotate-loading{0%{transform:rotate(0);-ms-transform:rotate(0deg);-webkit-transform:rotate(0deg);-o-transform:rotate(0deg);-moz-transform:rotate(0deg)}to{transform:rotate(360deg);-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);-o-transform:rotate(360deg);-moz-transform:rotate(360deg)}}@-moz-keyframes rotate-loading{0%{transform:rotate(0);-ms-transform:rotate(0deg);-webkit-transform:rotate(0deg);-o-transform:rotate(0deg);-moz-transform:rotate(0deg)}to{transform:rotate(360deg);-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);-o-transform:rotate(360deg);-moz-transform:rotate(360deg)}}@-webkit-keyframes _ngcontent-%COMP%_rotate-loading{0%{transform:rotate(0);-ms-transform:rotate(0deg);-webkit-transform:rotate(0deg);-o-transform:rotate(0deg);-moz-transform:rotate(0deg)}to{transform:rotate(360deg);-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);-o-transform:rotate(360deg);-moz-transform:rotate(360deg)}}@-o-keyframes rotate-loading{0%{transform:rotate(0);-ms-transform:rotate(0deg);-webkit-transform:rotate(0deg);-o-transform:rotate(0deg);-moz-transform:rotate(0deg)}to{transform:rotate(360deg);-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);-o-transform:rotate(360deg);-moz-transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_loading-text-opacity{0%{opacity:0}20%{opacity:0}50%{opacity:1}to{opacity:0}}@-moz-keyframes loading-text-opacity{0%{opacity:0}20%{opacity:0}50%{opacity:1}to{opacity:0}}@-webkit-keyframes _ngcontent-%COMP%_loading-text-opacity{0%{opacity:0}20%{opacity:0}50%{opacity:1}to{opacity:0}}@-o-keyframes loading-text-opacity{0%{opacity:0}20%{opacity:0}50%{opacity:1}to{opacity:0}}.loading-container[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{height:100px;position:relative;width:100px;border-radius:100%}.loading-container[_ngcontent-%COMP%]{margin:40px auto}.loading[_ngcontent-%COMP%]{border:2px solid transparent;border-color:transparent #fff transparent #FFF;-moz-animation:rotate-loading 1.5s linear 0s infinite normal;-moz-transform-origin:50% 50%;-o-animation:rotate-loading 1.5s linear 0s infinite normal;-o-transform-origin:50% 50%;-webkit-animation:_ngcontent-%COMP%_rotate-loading 1.5s linear 0s infinite normal;-webkit-transform-origin:50% 50%;animation:_ngcontent-%COMP%_rotate-loading 1.5s linear 0s infinite normal;transform-origin:50% 50%}.loading-container[_ngcontent-%COMP%]:hover   .loading[_ngcontent-%COMP%]{border-color:transparent #E45635 transparent #E45635}.loading-container[_ngcontent-%COMP%]:hover   .loading[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{-webkit-transition:all .5s ease-in-out;-moz-transition:all .5s ease-in-out;-ms-transition:all .5s ease-in-out;-o-transition:all .5s ease-in-out;transition:all .5s ease-in-out}#loading-text[_ngcontent-%COMP%]{-moz-animation:loading-text-opacity 2s linear 0s infinite normal;-o-animation:loading-text-opacity 2s linear 0s infinite normal;-webkit-animation:_ngcontent-%COMP%_loading-text-opacity 2s linear 0s infinite normal;animation:_ngcontent-%COMP%_loading-text-opacity 2s linear 0s infinite normal;color:#fff;font-family:"Helvetica Neue, "Helvetica", ""arial";font-size:10px;font-weight:700;margin-top:45px;opacity:0;position:absolute;text-align:center;text-transform:uppercase;top:0;width:100px}']});let t=e;return t})();var QQ=["cardContainer"],XQ=t=>({color:t});function ZQ(t,e){if(t&1){let n=yt();O(0,"button",25),ke("click",function(){rt(n);let r=De(2);return st(r.addId())}),U(1,"Subscribe"),V()}}function JQ(t,e){if(t&1&&(O(0,"div",26),U(1),J(2,"hr"),O(3,"p"),U(4),V()()),t&2){let n=e.$implicit;W(),ns(" ",n.value," "),W(3),Te(n.field)}}function eX(t,e){if(t&1&&(O(0,"div",19),J(1,"app-chart",27),V()),t&2){let n=De(2);W(),ne("colour",n.color)}}function tX(t,e){t&1&&(O(0,"p"),U(1,"Loading..."),V())}function nX(t,e){if(t&1&&(O(0,"mat-icon"),U(1),V()),t&2){let n=De().$implicit;W(),Te(n.type)}}function iX(t,e){if(t&1&&(O(0,"div",28),Oe(1,nX,2,1,"mat-icon",29),O(2,"a",30),U(3),V()()),t&2){let n=e.$implicit;W(),ne("ngIf",n.type!=null),W(),rr("href",n.url,Mn),W(),Aa("",n.name," - ",n.type,"")}}function rX(t,e){if(t&1&&(O(0,"div")(1,"div",4)(2,"div",5)(3,"p",6),U(4),V(),J(5,"hr"),O(6,"div",7)(7,"p",8),U(8),V(),O(9,"p",9),U(10),V()(),Oe(11,ZQ,2,0,"button",10),V(),O(12,"div",11),J(13,"img",12),V()(),O(14,"div",13,1),Oe(16,JQ,5,2,"div",14),V(),O(17,"div",15)(18,"div",16)(19,"p",17),U(20,"Price Chart"),V(),J(21,"hr"),V(),O(22,"div",16)(23,"p",17),U(24,"OHLC Chart"),V(),J(25,"hr"),V(),Oe(26,eX,2,1,"div",18)(27,tX,2,0,"ng-template",null,2,cr),J(29,"app-chart2",19),V(),O(30,"div",20)(31,"p",6),U(32),V(),J(33,"hr"),O(34,"div",21),U(35),J(36,"br"),O(37,"em",22),U(38," You can also visit to following set of website to get more info for the same:"),V(),O(39,"div",23),Oe(40,iX,4,4,"div",24),V()()()()),t&2){let n=Jt(28),i=De();W(4),Aa("",i.name," (",i.symbol,")"),W(4),ns("$",i.price,""),W(),ne("ngStyle",uo(13,XQ,i.getColor())),W(),Te(i.change+"%"),W(),ne("ngIf",i.canAdd),W(2),rr("src",i.iconUrl,Mn),W(3),ne("ngForOf",i.data),W(10),ne("ngIf",i.isDataLoaded)("ngIfElse",n),W(6),ns("More About ",i.name,""),W(3),ns(" ",i.description," "),W(5),ne("ngForOf",i.link)}}function sX(t,e){t&1&&J(0,"app-loading")}var BF=(()=>{let e=class e{constructor(i,r,s,o,a,c){this.activeRoute=i,this.coinDataService=r,this.elementRef=s,this.authservice=o,this.router=a,this.dbs=c,this.isDataLoaded=!1,this.id="",this.volume_24h="",this.alltimehigh_price="",this.alltimehigh_time="",this.marketCap="",this.maxSupply="",this.circulatingSupply="",this.supplytime="",this.change="",this.price="",this.priceTime="",this.iconUrl="",this.color="",this.name="",this.symbol="",this.chart_types=["prices","ohlc"],this.inner_color="",this.data=[],this.numberOfMarkets=0,this.description="",this.link=[],this.user=null,this.isAuthenticated=!1,this.coinIdarr=[],this.canAdd=!0,this.loading=!0,this.fullpageloaded=!1}ngOnInit(){this.activeRoute.params.subscribe(i=>{this.id=i.id}),this.authservice.isAuthenticated.subscribe({next:i=>{console.log(i),this.isAuthenticated=i}}),this.authservice.user.subscribe({next:i=>{console.log(i),this.user=i}}),this.user==null||new Date>new Date(this.user._tokenExpirationDate)?(this.router.navigate(["/oops"],{relativeTo:this.activeRoute}),console.log("false user")):this.dbs.CoinIdArray.subscribe({next:i=>{console.log("subscription"),this.coinIdarr=i,console.log(this.coinIdarr.includes(this.id)),this.coinIdarr.includes(this.id)?(console.log(this.coinIdarr),this.canAdd=!1):(console.log(this.id),this.canAdd=!0)}}),this.coinDataService.getCoinData(this.id).subscribe({next:i=>{console.log(i),this.assigndata(i)},complete:()=>{this.isDataLoaded=!0,this.fullpageloaded=!0,this.elementRef.nativeElement.style.setProperty("--default-inner-color",this.inner_color)}})}assigndata(i){this.volume_24h="$ "+i.data.coin["24hVolume"],this.alltimehigh_price=this.coinDataService.getValues(Number(parseFloat(i.data.coin.allTimeHigh.price).toFixed(2))),this.alltimehigh_time=this.coinDataService.getDateTime(i.data.coin.allTimeHigh.timestamp),this.marketCap=this.coinDataService.getValues(Number(i.data.coin.marketCap)),this.maxSupply=this.coinDataService.getValues(Number(i.data.coin.supply.max)),this.circulatingSupply=this.coinDataService.getValues(Number(i.data.coin.supply.circulating)),this.supplytime=this.coinDataService.getDateTime(i.data.coin.supply.supplyAt),this.change=this.getchange(i.data.coin.change),this.price=this.formatNumber(+this.coinDataService.getValues(Number(parseFloat(i.data.coin.price).toFixed(2)))),this.priceTime=this.coinDataService.getDateTime(i.data.coin.allTimeHigh.timestamp),this.iconUrl=i.data.coin.iconUrl,this.inner_color=this.color=i.data.coin.color,this.name=i.data.coin.name,this.symbol=i.data.coin.symbol,this.numberOfMarkets=i.data.coin.numberOfMarkets,this.description=i.data.coin.description,this.link=i.data.coin.links,this.data.push({field:"24H volume",value:this.volume_24h}),this.data.push({field:"Total Markets",value:this.numberOfMarkets}),this.data.push({field:"All-Time High Price",value:"$"+this.alltimehigh_price}),this.data.push({field:"All-Time High Time",value:this.alltimehigh_time}),this.data.push({field:"Market Cap",value:this.marketCap}),this.data.push({field:"Max. Supply",value:this.maxSupply}),this.data.push({field:"Circulating Supply",value:this.circulatingSupply}),this.data.push({field:"Supply Time was at",value:this.supplytime})}formatNumber(i){return i.toFixed(2)}getColor(){return Number(this.change)>0?"green":"red"}getchange(i){return i>0?"+"+i:String(i)}ngAfterViewInit(){let i=this.cardContainer.nativeElement,r=!1,s,o;i.addEventListener("mousedown",a=>{r=!0,i.classList.add("active"),s=a.pageX-i.offsetLeft,o=i.scrollLeft}),i.addEventListener("mouseleave",()=>{r=!1,i.classList.remove("active")}),i.addEventListener("mouseup",()=>{r=!1,i.classList.remove("active")}),i.addEventListener("mousemove",a=>{if(!r)return;a.preventDefault();let l=(a.pageX-i.offsetLeft-s)*3;i.scrollLeft=o-l})}addId(){this.dbs.addCoinId(this.user.id,this.id)}};e.\u0275fac=function(r){return new(r||e)(B(Ue),B(Cn),B(lt),B(Lt),B(Ve),B(Wn))},e.\u0275cmp=_e({type:e,selectors:[["app-coin"]],viewQuery:function(r,s){if(r&1&&lo(QQ,5),r&2){let o;sr(o=or())&&(s.cardContainer=o.first)}},standalone:!0,features:[be],decls:3,vars:2,consts:[["notloaded",""],["cardContainer",""],["loading",""],[4,"ngIf","ngIfElse"],[1,"face_container"],[1,"face"],["id","coin_name"],[1,"pricing"],["id","coin_price"],["id","change",3,"ngStyle"],["id","add",3,"click",4,"ngIf"],[1,"smudgy-circle"],["alt","Circular Image",1,"center-image",3,"src"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"chart-cointainer"],[1,"chart-comp",2,"width","60%"],["id","chart_name"],["class","chart-comp charts",4,"ngIf","ngIfElse"],[1,"chart-comp","charts"],[1,"desc-container"],[1,"desc"],[2,"font-size","12px"],[1,"links-container"],["class","link-box",4,"ngFor","ngForOf"],["id","add",3,"click"],[1,"card"],[3,"colour"],[1,"link-box"],[4,"ngIf"],[3,"href"]],template:function(r,s){if(r&1&&Oe(0,rX,41,15,"div",3)(1,sX,1,0,"ng-template",null,0,cr),r&2){let o=Jt(2);ne("ngIf",s.fullpageloaded)("ngIfElse",o)}},dependencies:[jF,xt,Ci,_n,ka,UF,Ic,IO,Vc],styles:["[_nghost-%COMP%]   --inner-color[_ngcontent-%COMP%]:{{inner_color}}.face[_ngcontent-%COMP%]{width:25%;display:block;margin-top:50px;margin-left:25px}.face[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:auto auto 0}hr[_ngcontent-%COMP%]{background-color:#adb5bd;border:none;height:2px;background:linear-gradient(to right,#adb5bd,#212529);margin:8px 0}#coin_price[_ngcontent-%COMP%]{font-size:50px;display:inline-block;margin-left:0}.pricing[_ngcontent-%COMP%]{display:flex}.pricing[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 10px auto}.smudgy-circle[_ngcontent-%COMP%]{--inner-color: var(--default-inner-color);width:200px;height:200px;border-radius:50%;background:radial-gradient(circle,white 0%,var(--inner-color) 30%,black 70%);display:flex;justify-content:center;align-items:center;position:relative;margin:25px 60px auto auto}.center-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;position:absolute}.face_container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:30px}.card-container[_ngcontent-%COMP%]{display:flex;width:100%;gap:10px;overflow-x:auto;-ms-overflow-style:none;scrollbar-width:none}.card[_ngcontent-%COMP%]{flex:0 0 calc(20% - 10px);box-sizing:border-box;width:25%;background-color:#212529;border:1px solid #343a40;border-radius:8px;box-shadow:0 1px 1px #0000001a,0 0 0 1px #343a40,inset 0 1px #ffffff1a;margin:10px;padding:10px 19px;text-align:center}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px}.card[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background-color:#adb5bd;border:none;height:1px;background:linear-gradient(to right,transparent,#adb5bd,transparent);margin:2px 0}.chart-cointainer[_ngcontent-%COMP%]{display:grid;width:100%;grid-template-columns:1fr 1fr}.chart-comp[_ngcontent-%COMP%], .desc-container[_ngcontent-%COMP%]{margin-left:25px}.desc-container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:30%}.links-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;margin-top:20px}.link-box[_ngcontent-%COMP%]{background-color:#212529;border:1px solid #343a40;border-radius:8px;box-shadow:0 1px 1px #0000001a,0 0 0 1px #343a40,inset 0 1px #ffffff1a;margin:10px 20px 10px 0;padding:10px 19px;text-align:center;display:flex;justify-content:center}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin-left:4px}a[_ngcontent-%COMP%]:hover{text-decoration:underline}#add[_ngcontent-%COMP%]{width:100px;padding:10px 15px;border-radius:6px;background-color:#fff;color:#000}"]});let t=e;return t})();function oX(t,e){if(t&1){let n=yt();O(0,"div",2),ke("click",function(){rt(n);let r=De();return st(r.gotoNews(r.element.url))}),J(1,"img",3),O(2,"p"),U(3),V(),O(4,"p"),U(5),V()()}if(t&2){let n=De();W(),ne("src",n.element.thumbnail,Mn),W(2),Te(n.element.title),W(2),Te(n.element.description)}}function aX(t,e){if(t&1){let n=yt();O(0,"div",2),ke("click",function(){rt(n);let r=De();return st(r.gotoNews(r.element.url))}),O(1,"p"),U(2),V()()}if(t&2){let n=De();W(2),Te(n.element.description)}}function cX(t,e){if(t&1){let n=yt();O(0,"div",2),ke("click",function(){rt(n);let r=De();return st(r.gotoNews(r.element.url))}),J(1,"img",3),O(2,"p"),U(3),V()()}if(t&2){let n=De();W(),ne("src",n.element.thumbnail,Mn),W(2),Te(n.element.title)}}var $F=(()=>{let e=class e{constructor(){this.element={createdAt:"",description:"",thumbnail:"",title:"",url:""},this.randomIndex=Math.floor(Math.random()*3)+1}gotoNews(i){window.open(i,"_blank")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=_e({type:e,selectors:[["app-newscard"]],inputs:{element:"element"},standalone:!0,features:[be],decls:5,vars:3,consts:[[1,"card"],[3,"click",4,"ngIf"],[3,"click"],[3,"src"]],template:function(r,s){r&1&&(O(0,"div")(1,"div",0),Oe(2,oX,6,3,"div",1)(3,aX,3,1,"div",1)(4,cX,4,2,"div",1),V()()),r&2&&(W(2),ne("ngIf",s.randomIndex==1),W(),ne("ngIf",s.randomIndex==2),W(),ne("ngIf",s.randomIndex==3))},dependencies:[xt,_n],styles:["img[_ngcontent-%COMP%]{width:100%;object-fit:contain;border-radius:6px}.card[_ngcontent-%COMP%]{width:90%;margin-bottom:10px;break-inside:avoid;background:#fff;box-shadow:0 4px 8px #0000001a;overflow:hidden;background:#ffffff1a;border-radius:6px;padding:20px;max-width:400px;text-align:center;box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3);transition:border .3s,border-radius .3s;text-align:justify}.card[_ngcontent-%COMP%]:hover{cursor:pointer}"]});let t=e;return t})();function lX(t,e){if(t&1&&J(0,"app-newscard",4),t&2){let n=e.$implicit;ne("element",n)}}function uX(t,e){if(t&1&&(O(0,"div",2),Oe(1,lX,1,1,"app-newscard",3),V()),t&2){let n=De();W(),ne("ngForOf",n.newsData)}}function dX(t,e){t&1&&J(0,"app-loading")}var zF=(()=>{let e=class e{constructor(i,r,s,o){this.http=i,this.authservice=r,this.activeroute=s,this.router=o,this.newsHeaders=new Pt({"X-RapidAPI-Key":"048d15adfcmshf4bf0eb6ec402b3p1f6a49jsn8358e679b251","X-RapidAPI-Host":"cryptocurrency-news2.p.rapidapi.com"}),this.newsData=[],this.user=null,this.isAuthenticated=!1,this.loaded=!1}ngOnInit(){this.authservice.isAuthenticated.subscribe({next:i=>{console.log(i),this.isAuthenticated=i}}),this.authservice.user.subscribe({next:i=>{console.log(i),this.user=i}}),this.user==null||new Date>new Date(this.user._tokenExpirationDate)?this.router.navigate(["/oops"],{relativeTo:this.activeroute}):this.http.get("https://cryptocurrency-news2.p.rapidapi.com/v1/coindesk",{headers:this.newsHeaders}).subscribe({next:i=>{console.log(i.data),this.newsData=i.data},error:i=>{console.log(i)},complete:()=>{this.loaded=!0}})}};e.\u0275fac=function(r){return new(r||e)(B(St),B(Lt),B(Ue),B(Ve))},e.\u0275cmp=_e({type:e,selectors:[["app-news"]],standalone:!0,features:[be],decls:4,vars:2,consts:[["notloaded",""],["class","grid_container",4,"ngIf","ngIfElse"],[1,"grid_container"],[3,"element",4,"ngFor","ngForOf"],[3,"element"]],template:function(r,s){if(r&1&&(J(0,"app-navbar"),Oe(1,uX,2,1,"div",1)(2,dX,1,0,"ng-template",null,0,cr)),r&2){let o=Jt(3);W(),ne("ngIf",s.loaded)("ngIfElse",o)}},dependencies:[$F,xt,Ci,_n,Ds,Vc],styles:[".grid_container[_ngcontent-%COMP%]{columns:4;width:93%;margin:auto}"]});let t=e;return t})();var hX=(t,e)=>({"spin-up":t,"spin-down":e}),HF=(()=>{let e=class e{constructor(){this.currentLineIndex=-1,this.animateUp=!1,this.animateDown=!1}ngOnInit(){this.startLottery()}startLottery(){let i=0;this.spinInterval=setInterval(()=>{this.animateUp=!1,this.animateDown=!1,setTimeout(()=>{this.currentLineIndex=i,i%2===0?this.animateUp=!0:this.animateDown=!0,i=(i+1)%this.lines.length},50)},2e3)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=_e({type:e,selectors:[["app-flip-text"]],inputs:{lines:"lines"},standalone:!0,features:[be],decls:4,vars:5,consts:[[1,"lottery-container"],[1,"lottery-box"],[1,"lottery-text",3,"ngClass"]],template:function(r,s){r&1&&(O(0,"div",0)(1,"div",1)(2,"div",2),U(3),V()()()),r&2&&(W(2),ne("ngClass",$A(2,hX,s.animateUp,s.animateDown)),W(),Te(s.lines[s.currentLineIndex]))},dependencies:[xt,cM],styles:[".lottery-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:200px;font-size:2rem}.lottery-box[_ngcontent-%COMP%]{width:900px;height:50px;overflow:hidden;border:2px solid #000;display:flex;justify-content:center;align-items:center}.lottery-text[_ngcontent-%COMP%]{display:inline-block;transform:translateY(0);background:linear-gradient(to right,#ff69b4,#00f);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.spin-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin-up .5s cubic-bezier(.42,0,.58,1) forwards}.spin-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin-down .5s cubic-bezier(.42,0,.58,1) forwards}@keyframes _ngcontent-%COMP%_spin-up{0%{transform:translateY(100%)}to{transform:translateY(0)}}@keyframes _ngcontent-%COMP%_spin-down{0%{transform:translateY(-100%)}to{transform:translateY(0)}}"]});let t=e;return t})();var om=(()=>{let e=class e{constructor(i,r){this.http=i,this.coindataservice=r,this.globalmarket_params={referenceCurrencyUuid:"yhjMzLPhuIDl"},this.headers=new Pt({"X-RapidAPI-Key":"76e3478958msh3514934cebda9d6p14d4ccjsna7d2e232769f","X-RapidAPI-Host":"coinranking1.p.rapidapi.com"}),this.offset=0,this.coindata_params={referenceCurrencyUuid:"yhjMzLPhuIDl",timePeriod:"24h","tiers[0]":"1",orderBy:"marketCap",orderDirection:"desc",limit:"50",offset:"0"}}getglobalstats(){return this.http.get("https://coinranking1.p.rapidapi.com/stats",{headers:this.headers,params:this.globalmarket_params})}getCoinsData(i){return console.log("getting coins data"),this.coindata_params.offset=i,this.http.get("https://coinranking1.p.rapidapi.com/coins",{headers:this.headers,params:this.coindata_params})}};e.\u0275fac=function(r){return new(r||e)($(St),$(Cn))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})();var pX=t=>({"--item-color":t}),gX=t=>({color:t});function mX(t,e){if(t&1){let n=yt();O(0,"div",16),ke("click",function(){let r=rt(n).$implicit,s=De(2);return st(s.getCoinDetails(r.uuid))}),J(1,"img",17),O(2,"div",18)(3,"p",19),U(4),V(),O(5,"strong"),U(6),V()()()}if(t&2){let n=e.$implicit;W(),rr("src",n.iconUrl,Mn),W(3),Te(n.symbol),W(2),Te(n.name.substring(0,10))}}function yX(t,e){if(t&1){let n=yt();O(0,"div",16),ke("click",function(){let r=rt(n).$implicit,s=De(2);return st(s.getCoinDetails(r.uuid))}),J(1,"img",17),O(2,"div",18)(3,"p",19),U(4),V(),O(5,"strong"),U(6),V()()()}if(t&2){let n=e.$implicit;W(),rr("src",n.iconUrl,Mn),W(3),Te(n.symbol),W(2),Te(n.name.substring(0,10))}}function vX(t,e){t&1&&(O(0,"p",20),U(1,"More Coins: \xA0"),V())}function _X(t,e){if(t&1){let n=yt();O(0,"button",13),ke("click",function(){rt(n);let r=De(2);return st(r.prev())}),U(1," < "),V()}}function bX(t,e){if(t&1){let n=yt();O(0,"div",21),ke("click",function(){let r=rt(n).$implicit,s=De(2);return st(s.getCoinDetails(r.uuid))}),O(1,"div",22),J(2,"img",17),O(3,"div",23)(4,"div",24)(5,"p",25),U(6),V(),O(7,"p",26),U(8),V()(),O(9,"div",27)(10,"p",28),U(11),V(),O(12,"p",29),U(13),V()()()()()}if(t&2){let n=e.$implicit,i=De(2);ne("ngStyle",uo(7,pX,n.color)),W(2),ne("src",n.iconUrl,Mn),W(4),Te(n.name),W(2),Te(n.symbol),W(3),Te("$"+n.price),W(),ne("ngStyle",uo(9,gX,i.getColor(n.change))),W(),Te(n.change+"%")}}function wX(t,e){if(t&1){let n=yt();O(0,"div")(1,"div",2)(2,"p"),U(3,"Some Global Statistics"),V(),J(4,"hr"),V(),J(5,"app-flip-text",3),O(6,"div",4)(7,"div",5)(8,"div",6)(9,"p"),U(10,"Global Gainers"),V(),J(11,"hr"),V(),O(12,"div",6)(13,"p"),U(14,"Global Drainers"),V(),J(15,"hr"),V(),O(16,"div",7),Oe(17,mX,7,3,"div",8),V(),O(18,"div",9),Oe(19,yX,7,3,"div",8),V()()(),O(20,"div",6)(21,"p"),U(22,"More Coins Curated for you"),V(),J(23,"hr"),V(),O(24,"div",10),Oe(25,vX,2,0,"p",11)(26,_X,2,0,"button",12),O(27,"button",13),ke("click",function(){rt(n);let r=De();return st(r.forward())}),U(28," > "),V()(),O(29,"div",14),ke("mousemove",function(r){rt(n);let s=De();return st(s.onMouseMove(r))}),Oe(30,bX,14,11,"div",15),V()()}if(t&2){let n=De();W(5),ne("lines",n.gstats),W(12),ne("ngForOf",n.bestcoins),W(2),ne("ngForOf",n.newestCoins),W(6),ne("ngIf",!n.prevpossible),W(),ne("ngIf",n.prevpossible),W(4),ne("ngForOf",n.coinData)}}function IX(t,e){t&1&&J(0,"app-loading")}var qF=(()=>{let e=class e{constructor(i,r,s,o,a,c){this.http=i,this.coindataservice=r,this.dashboardservice=s,this.activeroute=o,this.router=a,this.authservice=c,this.referenceCurrencyRate=0,this.totalCoins=0,this.totalMarkets=0,this.totalExchanges=0,this.totalMarketCap="",this.total24hVolume="",this.btcDominance="",this.bestcoins=[],this.newestCoins=[],this.stats=[],this.coinData=[],this.offset=0,this.prevpossible=!1,this.datafetched=!1,this.skd=[],this.gstats=[],this.user=null,this.isAuthenticated=!1,this.loading=0,this.circleTransform="translate3d(-100px, -100px, 0)"}ngOnInit(){this.authservice.isAuthenticated.subscribe({next:i=>{console.log(i),this.isAuthenticated=i}}),this.authservice.user.subscribe({next:i=>{console.log(i),this.user=i}}),this.user==null?this.router.navigate(["/oops"],{relativeTo:this.activeroute}):console.log(this.user),this.dashboardservice.getglobalstats().subscribe({next:i=>{this.gstats.push("Reference Currency Rate: "+i.data.referenceCurrencyRate+" USD"),this.gstats.push("Total Coins: "+i.data.totalCoins),this.gstats.push("Total Markets: "+i.data.totalMarkets),this.gstats.push("Total Exchanges: "+i.data.totalExchanges),this.gstats.push("Total MarketCap: "+this.coindataservice.getValues(i.data.totalMarketCap)),this.gstats.push(" Total 24hVolume:"+this.coindataservice.getValues(i.data.totalMarketCap)),this.gstats.push("btcDominance: "+this.coindataservice.getValues(i.data.btcDominance)),this.bestcoins=i.data.bestCoins,this.newestCoins=i.data.newestCoins},error:i=>{console.log(i)},complete:()=>{this.loading++}}),this.dashboardservice.getCoinsData("0").subscribe({next:i=>{for(let r=0;r<i.data.coins.length;r++)this.coinData.push({name:i.data.coins[r].name,iconUrl:i.data.coins[r].iconUrl,change:this.getchange(i.data.coins[r].change),symbol:i.data.coins[r].symbol,price:i.data.coins[r].price,uuid:i.data.coins[r].uuid,sparkLineData:i.data.coins[r].sparkline,color:i.data.coins[r].color})},error:i=>{console.log(i)},complete:()=>{this.datafetched=!0,this.loading++}})}getObjectKey(i){return Object.keys(i)[0]}getObjectValue(i){let r=this.getObjectKey(i);return i[r]}getCoinDetails(i){this.router.navigate(["/coin",i],{relativeTo:this.activeroute})}forward(){this.offset=this.offset+50,this.loading--,this.prevpossible=!0,this.dashboardservice.getCoinsData(String(this.offset)).subscribe({next:i=>{console.log(i),this.coinData=[];for(let r=0;r<i.data.coins.length;r++)this.coinData.push({name:i.data.coins[r].name,iconUrl:i.data.coins[r].iconUrl,change:i.data.coins[r].change,symbol:i.data.coins[r].symbol,price:i.data.coins[r].price,uuid:i.data.coins[r].uuid,sparkLineData:i.data.coins[r].sparkline,color:i.data.coins[r].color})},error:i=>{console.log(i)},complete:()=>{this.loading++}})}prev(){this.offset=this.offset-50,this.offset<=0&&(this.offset=0,this.prevpossible=!1),this.dashboardservice.getCoinsData(String(this.offset)).subscribe({next:i=>{console.log(i),this.coinData=[];for(let r=0;r<i.data.coins.length;r++)this.coinData.push({name:i.data.coins[r].name,iconUrl:i.data.coins[r].iconUrl,change:i.data.coins[r].change,symbol:i.data.coins[r].symbol,price:i.data.coins[r].price,uuid:i.data.coins[r].uuid,sparkLineData:i.data.coins[r].sparkline,color:i.data.coins[r].color})},error:i=>{console.log(i)}})}getchange(i){return i>0?"+"+i:String(i)}getColor(i){return Number(i)>0?"green":"red"}onMouseMove(i){let r=i.clientX,s=i.clientY;this.circleTransform=`translate3d(${r}px, ${s}px, 0)`}};e.\u0275fac=function(r){return new(r||e)(B(St),B(Cn),B(om),B(Ue),B(Ve),B(Lt))},e.\u0275cmp=_e({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[be],decls:4,vars:2,consts:[["notloaded",""],[4,"ngIf","ngIfElse"],["id","firsttitle",1,"title"],[3,"lines"],[1,"container"],[1,"sb-container"],[1,"title"],[1,"toppers"],["class","sbtab",3,"click",4,"ngFor","ngForOf"],[1,"loosers"],[1,"pnbuttons"],["style","font-size: 18px;",4,"ngIf"],[3,"click",4,"ngIf"],[3,"click"],[1,"tab-container",3,"mousemove"],["class","tab",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"sbtab",3,"click"],[3,"src"],[1,"scoreboard-names"],[2,"font-size","12px"],[2,"font-size","18px"],[1,"tab",3,"click","ngStyle"],[1,"data"],[1,"info"],[1,"name"],[1,"full-name"],[1,"symbol"],[1,"price-info"],[1,"coin-price"],[3,"ngStyle"]],template:function(r,s){if(r&1&&(J(0,"app-navbar"),Oe(1,wX,31,6,"div",1)(2,IX,1,0,"ng-template",null,0,cr)),r&2){let o=Jt(3);W(),ne("ngIf",s.loading==2)("ngIfElse",o)}},dependencies:[xt,Ci,_n,ka,Ic,Vc,HF,Ds],styles:["img[_ngcontent-%COMP%]{width:30px;height:30px}tr[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}hr[_ngcontent-%COMP%]{background-color:#fff;border:none;height:2px;background:linear-gradient(to right,#fff,#212529);margin:8px 0}.title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;margin-bottom:8px}.title[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:500px}.sb-container[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:1fr 1fr;gap:15px;margin:20px auto 50px}.toppers[_ngcontent-%COMP%], .loosers[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:1fr 1fr 1fr;gap:5px}.sbtab[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:6px;display:flex;padding-left:10%;align-items:center;justify-content:left;text-align:center;box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3)}.sbtab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-align:left}.scoreboard-names[_ngcontent-%COMP%]{margin-left:7%}.sbtab[_ngcontent-%COMP%]{padding:10px 20px}.toppers[_ngcontent-%COMP%]   .sbtab[_ngcontent-%COMP%]:hover{background:linear-gradient(black,transparent) padding-box,linear-gradient(to right,green,#000) border-box;border-radius:6px;border:2px solid transparent}.loosers[_ngcontent-%COMP%]   .sbtab[_ngcontent-%COMP%]:hover{background:linear-gradient(black,transparent) padding-box,linear-gradient(to right,red,#000) border-box;border-radius:6px;border:2px solid transparent}.nav-container[_ngcontent-%COMP%]{display:flex}.pnbuttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.pnbuttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:6px;color:#fff;align-content:center;padding:10px 20px;max-width:400px;text-align:center;box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3);margin:10px 5px 20px}.pnbuttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{font-size:larger}.tab-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;gap:15px;width:100%}.tab[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:6px;padding:20px 40px;max-width:400px;text-align:center;box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3);transition:border .3s,border-radius .3s}.name[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.info[_ngcontent-%COMP%]{width:100%}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}.data[_ngcontent-%COMP%]{display:flex;align-items:center}.data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px}.data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px}.name[_ngcontent-%COMP%]{font-weight:200;font-size:12px}app-sparkline[_ngcontent-%COMP%]{width:90%;height:40%}.price-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.price-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.blurry-circle[_ngcontent-%COMP%]{position:absolute;width:250px;height:250px;background:radial-gradient(circle,#ff69b4,#000 70%);border-radius:50%;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);pointer-events:none;z-index:-1}.tab[_ngcontent-%COMP%]:hover{background:linear-gradient(black,transparent) padding-box,linear-gradient(to right,var(--item-color),black) border-box;border-radius:6px;border:2px solid transparent}"]});let t=e;return t})();function EX(t,e){if(t&1){let n=yt();O(0,"h1",4),ke("click",function(){let r=rt(n).$implicit,s=De();return st(s.coinsdetails(r.uuid))}),U(1),V()}if(t&2){let n=e.$implicit;W(),Aa("",n.name," ( ",n.uuid," )")}}var WF=(()=>{let e=class e{constructor(i,r,s){this.http=i,this.router=r,this.activeroute=s,this.search_headers=new Pt({"X-RapidAPI-Key":"76e3478958msh3514934cebda9d6p14d4ccjsna7d2e232769f","X-RapidAPI-Host":"coinranking1.p.rapidapi.com"}),this.suggestions=[]}getsuggestion(i){console.log(i.value),this.http.get("https://coinranking1.p.rapidapi.com/search-suggestions",{headers:this.search_headers,params:{referenceCurrencyUuid:"yhjMzLPhuIDl",query:`${i.value}`}}).subscribe({next:r=>{console.log(r.data.coins),this.suggestions=[];for(let s=0;s<r.data.coins.length;s++)this.suggestions.push({name:r.data.coins[s].name,uuid:r.data.coins[s].uuid}),console.log(r.data.coins[s].name)},error:r=>{console.log(r)}})}coinsdetails(i){this.router.navigate(["/coin",i],{relativeTo:this.activeroute})}};e.\u0275fac=function(r){return new(r||e)(B(St),B(Ve),B(Ue))},e.\u0275cmp=_e({type:e,selectors:[["app-search"]],standalone:!0,features:[be],decls:4,vars:1,consts:[["stext",""],["type","text","name","stext","placeholder","Enter Coin name here to search",3,"input"],[1,"suggest-container"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(r,s){if(r&1){let o=yt();O(0,"Input",1,0),ke("input",function(){rt(o);let c=Jt(1);return st(s.getsuggestion(c))}),V(),O(2,"div",2),Oe(3,EX,2,2,"h1",3),V()}r&2&&(W(3),ne("ngForOf",s.suggestions))},dependencies:[xt,Ci],styles:['h1[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}input[_ngcontent-%COMP%]{width:95%;padding:10px 15px;margin-right:10px;border-radius:6px}h1[_ngcontent-%COMP%]{font-size:24px;cursor:pointer;background:linear-gradient(to right,#ff69b4,#00f);background-clip:text;-webkit-background-clip:text;color:transparent;position:relative;text-decoration:none;padding:0;transition:all .3s ease;display:block;margin:5px 0;width:fit-content;font-weight:400}h1[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:0;width:100%;display:inline;height:2px;background:#fff;transform:scaleX(0);transform-origin:bottom right;transition:transform .3s ease;font-size:larger}h1[_ngcontent-%COMP%]:hover:after{transform:scaleX(1);transform-origin:bottom left}suggest-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr}']});let t=e;return t})();var CX=t=>({color:t});function DX(t,e){t&1&&(O(0,"p",7),U(1," Please Subsrcibe to the coins to get it watched here..! "),V())}function TX(t,e){if(t&1){let n=yt();O(0,"tr",8),ke("click",function(){let r=rt(n).$implicit,s=De();return st(s.getCoinDetails(r.uuid))}),O(1,"td",9),J(2,"img",10),U(3),V(),O(4,"td"),U(5),V(),O(6,"td",11),U(7),V(),O(8,"td"),U(9),V(),O(10,"td"),U(11),V(),O(12,"td"),U(13),V()()}if(t&2){let n=e.$implicit,i=De();W(2),rr("src",n.iconUrl,Mn),W(),Te(n.name),W(2),Te(n.symbol),W(),ne("ngStyle",uo(8,CX,i.getColor(n.change))),W(),Te(n.change+"%"),W(2),Te("$"+n.price),W(2),Te(+n.vol_24+"BTC"),W(2),Te("$"+n.marketCap)}}var GF=(()=>{let e=class e{constructor(i,r,s,o,a){this.authservice=i,this.router=r,this.activeRoute=s,this.dbs=o,this.coindataservice=a,this.isAuthenticated=!1,this.coinId=[],this.coinData=[],this.nodata=!1}ngOnInit(){this.authservice.isAuthenticated.subscribe({next:i=>{console.log(i),this.isAuthenticated=i}}),this.authservice.user.subscribe({next:i=>{console.log(i),this.user=i}}),this.dbs.CoinIdArray.subscribe({next:i=>{console.log("coinIdres:"+i),this.coinId=i,this.assign()}})}fetchCoinData(i){return this.dbs.getcoind(i)}getCoinDetails(i){this.router.navigate(["/coin",i],{relativeTo:this.activeRoute})}getColor(i){return Number(i)>0?"green":"red"}assign(){if(this.nodata=!1,this.user==null||new Date>new Date(this.user._tokenExpirationDate))this.router.navigate(["/oops"],{relativeTo:this.activeRoute});else if(console.log("kaisa hei bhai"),this.coinId==null||this.coinId.length==0)console.log("NO DATA FOUND"),this.nodata=!0;else{this.coinData=[],console.log("kya bhai");for(let i=0;i<this.coinId.length;i++)this.coindataservice.getCoinData(this.coinId[i]).subscribe({next:r=>{this.coinData.push({name:r.data.coin.name,iconUrl:r.data.coin.iconUrl,change:r.data.coin.change,symbol:r.data.coin.symbol,price:r.data.coin.price,uuid:r.data.coin.uuid,marketCap:r.data.coin.marketCap,vol_24:r.data.coin.btcPrice})}})}}};e.\u0275fac=function(r){return new(r||e)(B(Lt),B(Ve),B(Ue),B(Wn),B(Cn))},e.\u0275cmp=_e({type:e,selectors:[["app-watchlist"]],standalone:!0,features:[be],decls:21,vars:2,consts:[[1,"watch-container"],[1,"table-view"],[1,"minimalist-table"],["class","nodata",4,"ngIf"],[1,"heading"],[3,"click",4,"ngFor","ngForOf"],[1,"search-view"],[1,"nodata"],[3,"click"],[1,"name-icon"],[3,"src"],[3,"ngStyle"]],template:function(r,s){r&1&&(J(0,"app-navbar"),O(1,"div",0)(2,"div",1)(3,"table",2),Oe(4,DX,2,0,"p",3),O(5,"tr",4)(6,"th"),U(7,"Name"),V(),O(8,"th"),U(9,"Symbol"),V(),O(10,"th"),U(11,"Change"),V(),O(12,"th"),U(13,"Price in USD"),V(),O(14,"th"),U(15,"Price in BTC"),V(),O(16,"th"),U(17,"Market Cap"),V()(),Oe(18,TX,14,10,"tr",5),V()(),O(19,"div",6),J(20,"app-search"),V()()),r&2&&(W(4),ne("ngIf",s.nodata),W(14),ne("ngForOf",s.coinData))},dependencies:[xt,Ci,_n,ka,Ds,WF],styles:['img[_ngcontent-%COMP%]{width:30px;height:30px}tr[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}.nodata[_ngcontent-%COMP%]{color:red;font-size:12px}.element[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;text-align:left;gap:10px;align-items:center;background:#ffffff1a;border-radius:6px;margin:0 auto 25px;padding:5px 30px;box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3);transition:all .7s,border-radius .3s}.name-icon[_ngcontent-%COMP%]{display:flex;align-items:center}.name-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:15px}.element[_ngcontent-%COMP%]:hover{background:linear-gradient(black,transparent) padding-box,linear-gradient(to right,pink,#000) border-box;border-radius:6px;border:2px solid transparent}.left-view[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:6px;padding:20px 40px;max-width:100%;text-align:center;box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3);transition:border .3s,border-radius .3s}.head[_ngcontent-%COMP%]{display:flex;align-items:center}.head[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 20px}.symbol[_ngcontent-%COMP%]{font-weight:200}.watch-container[_ngcontent-%COMP%]{width:95%;display:flex;margin:20px auto;gap:30px}.table-view[_ngcontent-%COMP%]{flex:9}.minimalist-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-family:Arial,sans-serif}.minimalist-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 10px 10px 0;text-align:left;margin-top:100px}.minimalist-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px 10px;text-align:left;position:relative}.minimalist-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none}.minimalist-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid transparent}.minimalist-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:last-child):not(:first-child){border-bottom:1px solid transparent;background-image:linear-gradient(to right,#ff69b4,#00f);background-size:100% 2px;background-repeat:no-repeat;background-position:bottom;margin:25px}.name-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:8px;vertical-align:middle}.minimalist-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:after{content:"";width:1px;height:50%;background-color:#fff;position:absolute;right:0;top:20%;display:block}.minimalist-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child:after{display:none}.minimalist-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:2px solid white;border-bottom:2px solid white;padding:20px 0}.search-view[_ngcontent-%COMP%]{flex:4.7}']});let t=e;return t})();var KF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=_e({type:e,selectors:[["app-oops"]],standalone:!0,features:[be],decls:13,vars:0,consts:[[1,"text"],["routerLink","/home"]],template:function(r,s){r&1&&(O(0,"div",0)(1,"h1"),U(2,"oops !"),V(),O(3,"p"),U(4,"* \xA0 An Error Occurred \xA0*"),V(),J(5,"br"),O(6,"p"),U(7,'user Not Authenticated...Please click "get cryptofied..!" on homepage'),V(),O(8,"p"),U(9,"click "),O(10,"a",1),U(11,"here"),V(),U(12," to get back to home page"),V()())},dependencies:[qf,za],styles:["h1[_ngcontent-%COMP%]{font-size:350px;background:linear-gradient(to right,#ff69b4,#00f);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-align:center;margin:50px 0 0}.text[_ngcontent-%COMP%]{text-align:center}.text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}a[_ngcontent-%COMP%]{background:linear-gradient(to right,#ff69b4,#00f);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}a[_ngcontent-%COMP%]:hover{font-size:larger}"]});let t=e;return t})();var YF=(()=>{let e=class e{constructor(i,r,s){this.authservice=i,this.router=r,this.activeroute=s}makelogout(){this.authservice.user.next(null),this.authservice.isAuthenticated.next(!1),localStorage.removeItem("userData"),this.router.navigate(["/home"],{relativeTo:this.activeroute})}};e.\u0275fac=function(r){return new(r||e)(B(Lt),B(Ve),B(Ue))},e.\u0275cmp=_e({type:e,selectors:[["app-logout"]],standalone:!0,features:[be],decls:9,vars:0,consts:[[1,"logout-text"],[1,"logout","white",3,"click"]],template:function(r,s){r&1&&(O(0,"div",0)(1,"h1"),U(2,"\u{1F61F}\u{1F61E}\u{1F616}"),V(),O(3,"h2"),U(4,"Will Miss you..."),V(),O(5,"h2"),U(6,"Are you sure you want to leave.?"),V(),O(7,"p",1),ke("click",function(){return s.makelogout()}),U(8,"logout"),V()())},styles:['.logout-text[_ngcontent-%COMP%]{text-align:center}h1[_ngcontent-%COMP%]{font-size:200px;margin:200px 0 0}h2[_ngcontent-%COMP%]{margin:0;font-size:30px}.logout[_ngcontent-%COMP%]{font-size:24px;cursor:pointer;background:linear-gradient(to right,#ff69b4,#00f);background-clip:text;-webkit-background-clip:text;color:transparent;position:relative;text-decoration:none;padding:5px 0;transition:all .3s ease;display:inline-block}.logout[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:0;width:100%;display:inline;height:2px;background:#fff;transform:scaleX(0);transform-origin:bottom right;transition:transform .3s ease;font-size:larger}.logout[_ngcontent-%COMP%]:hover:after{transform:scaleX(1);transform-origin:bottom left}']});let t=e;return t})();var QF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=_e({type:e,selectors:[["app-notfound"]],standalone:!0,features:[be],decls:13,vars:0,consts:[[1,"text"],["routerLink","/home"]],template:function(r,s){r&1&&(O(0,"div",0)(1,"h1"),U(2,'"404"'),V(),O(3,"p"),U(4,"* \xA0 An Error Occurred \xA0*"),V(),J(5,"br"),O(6,"p"),U(7,"We are not able to find the requested page..!"),V(),O(8,"p"),U(9,"click "),O(10,"a",1),U(11,"here"),V(),U(12," to get back to home page"),V()())},styles:["h1[_ngcontent-%COMP%]{font-size:350px;background:linear-gradient(to right,#ff69b4,#00f);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-align:center;margin:50px 0 0}.text[_ngcontent-%COMP%]{text-align:center}.text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}a[_ngcontent-%COMP%]{background:linear-gradient(to right,#ff69b4,#00f);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}a[_ngcontent-%COMP%]:hover{font-size:larger}"]});let t=e;return t})();var XF=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:EO},{path:"coin/:id",component:BF},{path:"news",component:zF},,{path:"dashboard",component:qF},{path:"watchlist",component:GF},{path:"oops",component:KF},{path:"logout",component:YF},{path:"**",component:QF}];var xX={apiKey:"AIzaSyAw0uOhSke__lpvVwp9UPup01yYP6R23Os",authDomain:"crypto-sakha.firebaseapp.com",databaseURL:"https://crypto-sakha-default-rtdb.firebaseio.com",projectId:"crypto-sakha",storageBucket:"crypto-sakha.appspot.com",messagingSenderId:"242063650242",appId:"1:242063650242:web:0222d097011c0abe63ba5b"},ZF={production:!1,firebase:xX};function vC(t,e){let n=!e?.manualCleanup;n&&!e?.injector&&jv(vC);let i=n?e?.injector?.get(Ta)??j(Ta):null,r;e?.requireSync?r=h_({kind:0}):r=h_({kind:1,value:e?.initialValue});let s=t.subscribe({next:o=>r.set({kind:1,value:o}),error:o=>{if(e?.rejectErrors)throw o;r.set({kind:2,error:o})}});return i?.onDestroy(s.unsubscribe.bind(s)),mf(()=>{let o=r();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new Q(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var SX={};var dL="@ngrx/store/init",jc=(()=>{let e=class e extends We{constructor(){super({type:dL})}next(i){if(typeof i=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof i>"u")throw new TypeError("Actions must be objects");if(typeof i.type>"u")throw new TypeError("Actions must have a type property");super.next(i)}complete(){}ngOnDestroy(){super.complete()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),AX=[jc],hL=new q("@ngrx/store Internal Root Guard"),JF=new q("@ngrx/store Internal Initial State"),CC=new q("@ngrx/store Initial State"),fL=new q("@ngrx/store Reducer Factory"),eL=new q("@ngrx/store Internal Reducer Factory Provider"),pL=new q("@ngrx/store Initial Reducers"),_C=new q("@ngrx/store Internal Initial Reducers"),gfe=new q("@ngrx/store Store Features"),tL=new q("@ngrx/store Internal Store Reducers"),mfe=new q("@ngrx/store Internal Feature Reducers"),yfe=new q("@ngrx/store Internal Feature Configs"),vfe=new q("@ngrx/store Internal Store Features"),_fe=new q("@ngrx/store Internal Feature Reducers Token"),bfe=new q("@ngrx/store Feature Reducers"),nL=new q("@ngrx/store User Provided Meta Reducers"),am=new q("@ngrx/store Meta Reducers"),iL=new q("@ngrx/store Internal Resolved Meta Reducers"),rL=new q("@ngrx/store User Runtime Checks Config"),sL=new q("@ngrx/store Internal User Runtime Checks Config"),Ed=new q("@ngrx/store Internal Runtime Checks"),gL=new q("@ngrx/store Check if Action types are unique"),oL=new q("@ngrx/store Root Store Provider"),wfe=new q("@ngrx/store Feature State Provider");function MX(t,e={}){let n=Object.keys(t),i={};for(let s=0;s<n.length;s++){let o=n[s];typeof t[o]=="function"&&(i[o]=t[o])}let r=Object.keys(i);return function(o,a){o=o===void 0?e:o;let c=!1,l={};for(let d=0;d<r.length;d++){let h=r[d],f=i[h],g=o[h],y=f(g,a);l[h]=y,c=c||y!==g}return c?l:o}}function RX(t,e){return Object.keys(t).filter(n=>n!==e).reduce((n,i)=>Object.assign(n,{[i]:t[i]}),{})}function mL(...t){return function(e){if(t.length===0)return e;let n=t[t.length-1];return t.slice(0,-1).reduceRight((r,s)=>s(r),n(e))}}function yL(t,e){return Array.isArray(e)&&e.length>0&&(t=mL.apply(null,[...e,t])),(n,i)=>{let r=t(n);return(s,o)=>(s=s===void 0?i:s,r(s,o))}}function kX(t){let e=Array.isArray(t)&&t.length>0?mL(...t):n=>n;return(n,i)=>(n=e(n),(r,s)=>(r=r===void 0?i:r,n(r,s)))}var Cd=class extends ce{},cm=class extends jc{},PX="@ngrx/store/update-reducers",bC=(()=>{let e=class e extends We{get currentReducers(){return this.reducers}constructor(i,r,s,o){super(o(s,r)),this.dispatcher=i,this.initialState=r,this.reducers=s,this.reducerFactory=o}addFeature(i){this.addFeatures([i])}addFeatures(i){let r=i.reduce((s,{reducers:o,reducerFactory:a,metaReducers:c,initialState:l,key:d})=>{let h=typeof o=="function"?kX(c)(o,l):yL(a,c)(o,l);return s[d]=h,s},{});this.addReducers(r)}removeFeature(i){this.removeFeatures([i])}removeFeatures(i){this.removeReducers(i.map(r=>r.key))}addReducer(i,r){this.addReducers({[i]:r})}addReducers(i){this.reducers=H(H({},this.reducers),i),this.updateReducers(Object.keys(i))}removeReducer(i){this.removeReducers([i])}removeReducers(i){i.forEach(r=>{this.reducers=RX(this.reducers,r)}),this.updateReducers(i)}updateReducers(i){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:PX,features:i})}ngOnDestroy(){this.complete()}};e.\u0275fac=function(r){return new(r||e)($(cm),$(CC),$(pL),$(fL))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),NX=[bC,{provide:Cd,useExisting:bC},{provide:cm,useExisting:jc}],DC=(()=>{let e=class e extends tt{ngOnDestroy(){this.complete()}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Jr(e)))(s||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),OX=[DC],lm=class extends ce{},aL=(()=>{let e=class e extends We{constructor(i,r,s,o){super(o);let c=i.pipe(hi(rl)).pipe(ay(r)),l={state:o},d=c.pipe(ol(FX,l));this.stateSubscription=d.subscribe(({state:h,action:f})=>{this.next(h),s.next(f)}),this.state=vC(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};e.INIT=dL,e.\u0275fac=function(r){return new(r||e)($(jc),$(Cd),$(DC),$(CC))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})();function FX(t={state:void 0},[e,n]){let{state:i}=t;return{state:n(i,e),action:e}}var LX=[aL,{provide:lm,useExisting:aL}],TC=(()=>{let e=class e extends ce{constructor(i,r,s){super(),this.actionsObserver=r,this.reducerManager=s,this.source=i,this.state=i.state}select(i,...r){return jX.call(null,i,...r)(this)}selectSignal(i,r){return mf(()=>i(this.state()),r)}lift(i){let r=new e(this,this.actionsObserver,this.reducerManager);return r.operator=i,r}dispatch(i){this.actionsObserver.next(i)}next(i){this.actionsObserver.next(i)}error(i){this.actionsObserver.error(i)}complete(){this.actionsObserver.complete()}addReducer(i,r){this.reducerManager.addReducer(i,r)}removeReducer(i){this.reducerManager.removeReducer(i)}};e.\u0275fac=function(r){return new(r||e)($(lm),$(jc),$(bC))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),VX=[TC];function jX(t,e,...n){return function(r){let s;if(typeof t=="string"){let o=[e,...n].filter(Boolean);s=r.pipe(iy(t,...o))}else if(typeof t=="function")s=r.pipe(ee(o=>t(o,e)));else throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);return s.pipe(ty())}}var xC="https://ngrx.io/guide/store/configuration/runtime-checks";function cL(t){return t===void 0}function lL(t){return t===null}function vL(t){return Array.isArray(t)}function UX(t){return typeof t=="string"}function BX(t){return typeof t=="boolean"}function $X(t){return typeof t=="number"}function _L(t){return typeof t=="object"&&t!==null}function zX(t){return _L(t)&&!vL(t)}function HX(t){if(!zX(t))return!1;let e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}function wC(t){return typeof t=="function"}function qX(t){return wC(t)&&t.hasOwnProperty("\u0275cmp")}function WX(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function GX(t){return t instanceof q?j(t):t}function KX(t){return typeof t=="function"?t():t}function YX(t,e){return t.concat(e)}function QX(){if(j(TC,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function XX(t,e){return function(n,i){let r=e.action(i)?IC(i):i,s=t(n,r);return e.state()?IC(s):s}}function IC(t){Object.freeze(t);let e=wC(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(!n.startsWith("\u0275")&&WX(t,n)&&(!e||n!=="caller"&&n!=="callee"&&n!=="arguments")){let i=t[n];(_L(i)||wC(i))&&!Object.isFrozen(i)&&IC(i)}}),t}function ZX(t,e){return function(n,i){if(e.action(i)){let s=EC(i);uL(s,"action")}let r=t(n,i);if(e.state()){let s=EC(r);uL(s,"state")}return r}}function EC(t,e=[]){return(cL(t)||lL(t))&&e.length===0?{path:["root"],value:t}:Object.keys(t).reduce((i,r)=>{if(i)return i;let s=t[r];return qX(s)?i:cL(s)||lL(s)||$X(s)||BX(s)||UX(s)||vL(s)?!1:HX(s)?EC(s,[...e,r]):{path:[...e,r],value:s}},!1)}function uL(t,e){if(t===!1)return;let n=t.path.join("."),i=new Error(`Detected unserializable ${e} at "${n}". ${xC}#strict${e}serializability`);throw i.value=t.value,i.unserializablePath=n,i}function JX(t,e){return function(n,i){if(e.action(i)&&!we.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${xC}#strictactionwithinngzone`);return t(n,i)}}function eZ(t){return YA()?H({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function tZ({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?ZX(n,{action:i=>t&&!SC(i),state:()=>e}):n}function nZ({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?XX(n,{action:i=>t&&!SC(i),state:()=>e}):n}function SC(t){return t.type.startsWith("@ngrx")}function iZ({strictActionWithinNgZone:t}){return e=>t?JX(e,{action:n=>t&&!SC(n)}):e}function rZ(t){return[{provide:sL,useValue:t},{provide:rL,useFactory:oZ,deps:[sL]},{provide:Ed,deps:[rL],useFactory:eZ},{provide:am,multi:!0,deps:[Ed],useFactory:nZ},{provide:am,multi:!0,deps:[Ed],useFactory:tZ},{provide:am,multi:!0,deps:[Ed],useFactory:iZ}]}function sZ(){return[{provide:gL,multi:!0,deps:[Ed],useFactory:aZ}]}function oZ(t){return t}function aZ(t){if(!t.strictActionTypeUniqueness)return;let e=Object.entries(SX).filter(([,n])=>n>1).map(([n])=>n);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(n=>`"${n}"`).join(", ")}. ${xC}#strictactiontypeuniqueness`)}function cZ(t={},e={}){return[{provide:hL,useFactory:QX},{provide:JF,useValue:e.initialState},{provide:CC,useFactory:KX,deps:[JF]},{provide:_C,useValue:t},{provide:tL,useExisting:t instanceof q?t:_C},{provide:pL,deps:[_C,[new dx(tL)]],useFactory:GX},{provide:nL,useValue:e.metaReducers?e.metaReducers:[]},{provide:iL,deps:[am,nL],useFactory:YX},{provide:eL,useValue:e.reducerFactory?e.reducerFactory:MX},{provide:fL,deps:[eL,iL],useFactory:yL},AX,NX,OX,LX,VX,rZ(e.runtimeChecks),sZ()]}function lZ(){j(jc),j(Cd),j(DC),j(TC),j(hL,{optional:!0}),j(gL,{optional:!0})}var uZ=[{provide:oL,useFactory:lZ},{provide:Wr,multi:!0,useFactory(){return()=>j(oL)}}];function bL(t,e){return ri([...cZ(t,e),uZ])}function wL(t,...e){let n=new Map;for(let i of e)for(let r of i.types){let s=n.get(r);if(s){let o=(a,c)=>i.reducer(s(a,c),c);n.set(r,o)}else n.set(r,i.reducer)}return function(i=t,r){let s=n.get(r.type);return s?s(i,r):i}}var dZ=[],IL=wL(dZ);var EL={providers:[bM(),_R(XF),dP(()=>hP(ZF.firebase)),KN(()=>XN()),bL({coinre:IL})]};var CL=(()=>{let e=class e{constructor(i){this.auth=i,this.user=null,this.title="crypto_sakha"}ngOnInit(){this.auth.autologin()}};e.\u0275fac=function(r){return new(r||e)(B(Lt))},e.\u0275cmp=_e({type:e,selectors:[["app-root"]],standalone:!0,features:[ar([Cn,Lt,Wn,om,St,Ve]),be],decls:1,vars:0,template:function(r,s){r&1&&J(0,"router-outlet")},dependencies:[_b]});let t=e;return t})();SM(CL,EL).catch(t=>console.error(t));
